<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[æ¦‚ç‡è®ºè¿·æ€]]></title>
    <url>%2F2017%2F06%2F07%2F2017-06-07%2F</url>
    <content type="text"><![CDATA[å½“ä½ æŠ›èµ·ä¸€æšç¡¬å¸ï¼Œä½ ä¸çŸ¥é“å®ƒä¼šæ˜¯æ­£é¢è¿˜æ˜¯åé¢ï¼Œä½†ä½ ç¡®åˆ‡çš„çŸ¥é“æ­£é¢ä¸åé¢çš„æ¦‚ç‡éƒ½æ˜¯50%ã€‚æ¦‚ç‡è®ºçš„ç¥å¥‡ä¹‹å¤„åœ¨äºï¼Œå®ƒå±…ç„¶èƒ½ä»ä¸ç¡®å®šæ€§ä¸­æ‰¾åˆ°ç¡®å®šæ€§ã€‚ æœ¬æ–‡ä¸æ•™ç§‘ä¹¦ï¼Œåªæ˜¯é˜è¿°æˆ‘çš„è§‚ç‚¹å’Œæ€è€ƒï¼Œå¦‚æœ‰è°¬è¯¯ï¼Œæ¬¢è¿è®¨è®ºæˆ–æŒ‡æ­£ã€‚ ä¸€äº›æœ‰è¶£çš„è§‚ç‚¹ï¼šä¸€ä¸ªäº‹æƒ…æœ‰Nç§å‘ç”Ÿçš„å¯èƒ½æ€§ï¼Œæˆ‘ä»¬ä¸èƒ½ç¡®ä¿¡å“ªç§ä¼šå‘ç”Ÿï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬ä¸èƒ½æ§åˆ¶ç»“æœçš„å‘ç”Ÿï¼Œå½±å“ç»“æœçš„è®¸å¤šå› ç´ ä¸åœ¨æˆ‘ä»¬çš„æ”¯é…èŒƒå›´ä¹‹å†…ï¼Œè¿™äº›å› ç´ å½±å“ç»“æœçš„æœºç†æˆ–è€…æˆ‘ä»¬ä¸çŸ¥é“ï¼Œæˆ–è€…å¤ªå¤æ‚ä»¥è‡³äºè¶…å‡ºäº†æˆ‘ä»¬å¤§è„‘æˆ–ç”µè„‘çš„è¿ç®—èƒ½åŠ›ã€‚æ¯”å¦‚ï¼šæˆ‘ä»¬ä¸ç¡®å®šæ·ç¡¬å¸å¾—åˆ°æ­£é¢æˆ–åé¢ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„èƒ½åŠ›ä¸è¶³ä»¥ç”¨ä¸€äº›ç‰©ç†æ–¹ç¨‹æ¥æ±‚è§£è¿™ä¸ªç»“æœã€‚å†æ¯”å¦‚ï¼šä½ ä¸èƒ½æ–­å®šä½ æœŸæœ«èƒ½è€ƒ88åˆ†ï¼Œå› ä¸ºå‡ºé¢˜ã€é˜…å·çš„ä¸æ˜¯ä½ ã€‚ å¯¹äºæœªå‘ç”Ÿä¹‹äº‹ï¼Œæˆ‘ä»¬æ— æ³•æŒæ¡å…¶æ‰€æœ‰å‚æ•°æˆ–æ— æ³•è®¡ç®—ã€‚å¯¹äºå·²ç»å‘ç”Ÿä¹‹äº‹ï¼Œäº‹æƒ…éƒ½å·²ç»å‘ç”Ÿäº†ï¼Œç»“æœå·²å®šï¼Œä¹Ÿä¼šå› ä¸ºæŒæ¡çš„ä¿¡æ¯ä¸å…¨è€Œäº§ç”Ÿæ‰€è°“æ¦‚ç‡ã€‚å³è¿‡å»å‘ç”Ÿçš„äº‹æƒ…è™½ç„¶äº‹å®ä¸Šæ˜¯ç¡®å®šçš„ï¼Œä½†å› ä¸ºæˆ‘ä»¬çš„æ— çŸ¥ï¼Œå®ƒæˆäº†éšæœºçš„ã€‚ æˆ‘ä»¬åœ¨æŸä¸ªåœ°æ–¹æŒ–å‡ºäº†ä¸€å—ç“·å™¨çš„ç¢ç‰‡ï¼Œå®ƒå¯èƒ½æ˜¯å­”å­çš„å¤œå£¶ï¼Œå¯èƒ½æ˜¯ç§¦å§‹çš‡çš„é¤å…·ï¼Œä¹Ÿå¯èƒ½æ˜¯éš”å£è€ç‹çš„ç ´èŒ¶å£¶ä»ä»–å®¶åˆ°åƒåœ¾ç«™åˆè¢«åŸ‹åœ¨äº†è¿™ä¸ªåœ°æ–¹ã€‚ å› æ­¤ï¼šæ¦‚ç‡åœ¨å®è´¨ä¸Šå°±æ˜¯æ— çŸ¥ï¼Œè€Œä¸æ˜¯è¯´äº‹ç‰©æœ¬èº«æ˜¯éšæœºçš„ã€‚ è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œä¸è¦è¯¯ä»¥ä¸ºæ¦‚ç‡åº”è¯¥æ˜¯å®¢è§‚äº‹å®ã€‚å¦‚æœä½ æœ‰ä¸Šå¸è§†è§’çš„è¯ï¼Œé‚£ä¹ˆä¸€åˆ‡éƒ½æ˜¯æ³¨å®šï¼Œä»»ä½•äº‹çš„æ¦‚ç‡éƒ½æ˜¯100%ï¼Œä¹Ÿå°±æ²¡æœ‰æ‰€è°“æ¦‚ç‡ä¹‹è¯´äº†ã€‚ æ‰€ä»¥æ¦‚ç‡è®ºæ˜¯å»ºç«‹åœ¨äººä»¬æœ‰é™çš„è®¤çŸ¥ä¸­çš„ï¼Œä¸æ˜¯çœŸæ­£çš„å®¢è§‚äº‹å®ã€‚ä¹Ÿå°±æ˜¯è¯´å½“å­”å­ä¸€çœ‹ï¼Œè¿™è²Œä¼¼æ˜¯è‡ªå·±çš„å¤œå£¶å•Šï¼Œä»–è®¤ä¸ºè¿™æ˜¯å¤œå£¶çš„æ¦‚ç‡ä¸º70%ï¼Œç§¦å§‹çš‡ä¸€çœ‹é‚£å—ç¢ç‰‡ï¼Œæœ•å¿ƒä¸­åªè£…çš„ä¸‹æ±Ÿå±±ï¼Œå“ªæ¥çš„é¤å…·ï¼Œåœ¨ä»–çœ‹æ¥çš„é¤å…·çš„æ¦‚ç‡æ˜¯1/3ï¼Œç„¶è€Œï¼Œè€ç‹çš„å´æ—©å·²çœ‹ç©¿ä¸€åˆ‡ï¼Œé‚£å—ç¢ç‰‡å‰²è¿‡ä»–çš„æ‰‹æ‰€ä»¥ä»–è®°å¾—æ ¼å¤–æ¸…æ¥šï¼ŒèŒ¶å£¶æ¦‚ç‡ä¸º100%ã€‚æ¯ä¸ªäººæ‰€çŸ¥é“çš„ä¿¡æ¯å†³å®šäº†ä»–æ‰€è®¤çŸ¥çš„æ¦‚ç‡ã€‚ å°±åƒç‹¼äººæ€ï¼Œè¿™é‡Œå‡è®¾æ¸¸æˆæ˜¯7ä¸ªäºº+ä¸Šå¸ï¼Œ1å·å’Œ2å·ç©å®¶æ˜¯ç‹¼äººï¼Œå‘å®Œç‰Œçš„æ—¶å€™å°±å·²ç»æ³¨å®šè°æ˜¯ç‹¼äººäº†ã€‚å¯¹äºä¸Šå¸å’Œ1ã€2å·è€Œè¨€ï¼Œæ²¡æœ‰æ¦‚ç‡å¯è¨€ï¼Œæˆ–è€…è¯´1ã€2å·æ˜¯ç‹¼äººçš„æ¦‚ç‡æ˜¯100%ã€‚è€Œå¯¹äºå¹³æ°‘è€Œè¨€ï¼Œä»–é™¤äº†è‡ªå·±ï¼Œä»–æ— æ³•æ‰¾å‡ºç†ç”±è®¤ä¸ºè°æ˜¯ç‹¼äººï¼Œåªå¥½ç”¨å¤å…¸æ¦‚ç‡çš„ç­‰å¯èƒ½å‡è®¾ï¼Œè®¤ä¸ºå…¶ä»–æ¯ä¸ªäººæ˜¯ç‹¼äººçš„æ¦‚ç‡éƒ½æ˜¯1/6ï¼Œéšç€æ¸¸æˆçš„è¿›è¡Œï¼Œé¢„è¨€å®¶æŒæ¡æ›´å¤šçš„ä¿¡æ¯ï¼Œä»–ä¿®æ­£äº†è‡ªå·±çš„æ¦‚ç‡ï¼Œè€Œå¹³æ°‘ä¹Ÿæ ¹æ®è‡ªå·±æŒæ¡çš„ä¿¡æ¯ä¿®æ­£è‡ªå·±æ¦‚ç‡ï¼Œäºæ˜¯å¤§å®¶å¯¹äºè°æ˜¯ç‹¼äººè¿™ä»¶äº‹éƒ½æœ‰äº†ä¸åŒçš„æ¦‚ç‡ã€‚ æ³¨æ„åˆ°ä¸Šé¢è¿™ä¸ªæ•…äº‹ä¸­ï¼Œä¸éš¾å‘ç°ï¼Œå‡è®¾ç¢ç‰‡åªæœ‰å¤œå£¶ï¼Œé¤å…·ï¼ŒèŒ¶å£¶è¿™ä¸‰ç§å¯èƒ½ï¼Œå³ä¸€å¼€å§‹æ¦‚ç‡åº”è¯¥æ˜¯å„1/3ã€‚ä»å­”å­åˆ°è€ç‹ï¼Œä»–ä»¬éƒ½ç”¨å„è‡ªæŒæ¡çš„ä¿¡æ¯ä¿®æ­£äº†å…³äºè¿™ä¸ªç¢ç‰‡æ˜¯ä»€ä¹ˆçš„æ¦‚ç‡ã€‚è¿™å°±å¼•å‡ºäº†å…ˆéªŒæ¦‚ç‡å’ŒåéªŒæ¦‚ç‡çš„æ¦‚å¿µã€‚ å…ˆéªŒæ¦‚ç‡ï¼ˆPrior probabilityï¼‰ä¸åéªŒæ¦‚ç‡(Posterior probability)äº‹æƒ…è¿˜æ²¡æœ‰å‘ç”Ÿ,è¦æ±‚è¿™ä»¶äº‹æƒ…å‘ç”Ÿçš„å¯èƒ½æ€§çš„å¤§å°,æ˜¯å…ˆéªŒæ¦‚ç‡.äº‹æƒ…å·²ç»å‘ç”Ÿ,è¦æ±‚è¿™ä»¶äº‹æƒ…å‘ç”Ÿçš„åŸå› æ˜¯ç”±æŸä¸ªå› ç´ å¼•èµ·çš„å¯èƒ½æ€§çš„å¤§å°,æ˜¯åéªŒæ¦‚ç‡. å…ˆçœ‹çœ‹æ¥è‡ªwikiçš„å®šä¹‰ï¼š Similarly, the prior probability of a random event or an uncertain proposition is the unconditional probability that is assigned before any relevant evidence is taken into account. In Bayesian statistics, the posterior probability of a random event or an uncertain proposition is the conditional probability that is assigned after the relevant evidence or background is taken into account. Similarly, the posterior probability distribution is the probability distribution of an unknown quantity, treated as a random variable, conditional on the evidence obtained from an experiment or survey. â€œPosteriorâ€, in this context, means after taking into account the relevant evidence related to the particular case being examined.è¦æ³¨æ„çš„æ˜¯è¿™æ˜¯åœ¨è´å¶æ–¯ç»Ÿè®¡ä¸­ã€‚ä¸æ˜¯å…¬ç†åŒ–çš„æ¦‚ç‡å®šä¹‰ã€‚ å†çœ‹çœ‹ä¹¦ä¸Šçš„è§£é‡Šåœ¨æ­¤å¢™è£‚æ¨èé™ˆå¸Œå­ºé™¢å£«çš„ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹ï¼Œè¿™æ˜¯è±†ç“£ã€çŸ¥ä¹çš„ä¹¦è¯„å’Œæ¨èã€‚é™ˆè€è¿™æœ¬ä¹¦ä¹‹æ‰€ä»¥å—åˆ°å¦‚æ­¤ç°‡æ‹¥ï¼Œåœ¨äºå®ƒæˆäººä»¥æ¸”è€Œéæˆäººä»¥é±¼ï¼Œä½ è¯»ä¸€è¯»å°±æ˜¯çŸ¥é“ã€‚ ä¸¾ä¸€ä¸ªçš„ç®€å•çš„ä¾‹å­ï¼šä¸€å£è¢‹é‡Œæœ‰3åªçº¢çƒã€2åªç™½çƒï¼Œé‡‡ç”¨ä¸æ”¾å›æ–¹å¼æ‘¸å–ï¼Œæ±‚ï¼šâ‘´ ç¬¬ä¸€æ¬¡æ‘¸åˆ°çº¢çƒï¼ˆè®°ä½œAï¼‰çš„æ¦‚ç‡ï¼›â‘µ ç¬¬äºŒæ¬¡æ‘¸åˆ°çº¢çƒï¼ˆè®°ä½œBï¼‰çš„æ¦‚ç‡ï¼›â‘¶ å·²çŸ¥ç¬¬äºŒæ¬¡æ‘¸åˆ°äº†çº¢çƒï¼Œæ±‚ç¬¬ä¸€æ¬¡æ‘¸åˆ°çš„æ˜¯çº¢çƒçš„æ¦‚ç‡ã€‚è§£ï¼šâ‘´ P(A)=3/5ï¼Œè¿˜æ²¡è¿˜æœ‰æ‘¸çƒï¼Œå°±é—®æ¦‚ç‡ï¼Œè¿™å°±æ˜¯éªŒå‰æ¦‚ç‡ï¼›â‘µ P(B)=P(A)P(B|A)+P(Aé€†)P(B|Aé€†)=3/5â‘¶ P(A|B)=P(A)P(B|A)/P(B)=1/2ï¼Œè¿™å°±æ˜¯åéªŒæ¦‚ç‡ï¼Œç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡æ‘¸çƒè¿™ä»¶äº‹éƒ½å·²ç»å‘ç”Ÿäº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸çŸ¥é“ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡æˆ‘ä»¬æ˜¯é—­ç€çœ¼æ‘¸å®Œåˆæ”¾å›å»äº†ï¼Œä¾¿äº§ç”Ÿäº†æ¦‚ç‡ä¹‹è¯´ã€‚ç¬¬ä¸€é—®äº‹æƒ…æœªå‘ç”Ÿï¼ˆæˆ–è€…è¯´å‘ç”Ÿäº†ï¼Œä½†æ˜¯ç›¸å¯¹äºæœªå‘ç”Ÿå¾—æƒ…å†µï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æŒæ¡ä»»ä½•æ›´å¤šçš„ä¿¡æ¯ï¼‰æˆ‘ä»¬è®¤ä¸ºæ¦‚ç‡æ˜¯3/5,ç¬¬ä¸‰é—®ï¼Œæˆ‘ä»¬çŸ¥é“äº†ç¬¬äºŒæ¬¡æ‘¸åˆ°çº¢çƒè¿™ä»¶äº‹ï¼Œæˆ–è€…è¯´è¯æ®ï¼Œä»¥æ­¤æ¥ä¿®æ­£è¿™ä¸ªæ¦‚ç‡ï¼Œå°±åƒæ¨ç†å°è¯´ä¸€æ ·ã€‚å…³äºå…ˆéªŒæ¦‚ç‡å’ŒåéªŒæ¦‚ç‡ï¼Œæ¨èé˜…è¯»ï¼šæ•°ç†ç»Ÿè®¡ä¸­çš„ä¸¤ä¸ªå­¦æ´¾â€”â€”é¢‘ç‡å­¦æ´¾å’ŒBayeså­¦æ´¾(1990å¹´çš„æœŸåˆŠï¼Œèƒ½æ‰¾åˆ°ä¹Ÿæ˜¯ä¸å®¹æ˜“ï¼‰ ä¸€ä¸ªç¬‘è¯å¼•å‘çš„è¡€æ¡ˆï¼šç—…äººï¼šæˆ‘å¬è¯´è¿™ä¸ªæ‰‹æœ¯æˆåŠŸæ¦‚ç‡ä¸º1%ï¼Œæˆ‘æ˜¯ä¸æ˜¯è¯¥æ”¾å¼ƒæ²»ç–—ï¼ŸåŒ»ç”Ÿï¼šä½ æ”¾å¿ƒï¼Œæˆ‘æ•¢ä¿è¯è¿™æ¬¡æ‰‹æœ¯100%ä¼šæˆåŠŸã€‚ç—…äººï¼šçœŸçš„ï¼Ÿä¸ºä»€ä¹ˆï¼ŸåŒ»ç”Ÿï¼šå› ä¸ºæˆ‘å·²ç»å¤±è´¥äº†99æ¬¡äº†ã€‚ è¿™æ˜¯å¾ˆå¤šäººéƒ½ä¼šçŠ¯çš„â€œå¸¸è¯†â€é”™è¯¯ï¼Œä¹Ÿæ˜¯ç»å¸¸è®©äººè¿·æƒ‘çš„åœ°æ–¹ã€‚å¯èƒ½åœ¨è¿™ä¸ªç¬‘è¯é‡Œï¼Œå¤§å®¶æ²¡ä»€ä¹ˆæ·±åˆ»æ„Ÿå—ï¼Œé‚£æ¢ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ï¼šAå·²ç»æŠ›äº†100æ¬¡ç¡¬å¸ï¼Œæ¯æ¬¡éƒ½æ˜¯æ­£é¢ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡åé¢çš„å‡ ç‡æ˜¯ä¸æ˜¯æ›´å¤§ï¼Ÿå³ä½¿æ˜¯ç»Ÿè®¡å­¦ä¸“ä¸šçš„å­¦ç”Ÿä¹Ÿç»å¸¸è¿·ç³Šï¼ˆæ¯”å¦‚ç»Ÿè®¡å­¦æ¸£çš„æˆ‘ï¼‰ï¼Œæˆ‘å°±ä¸€ç›´çº³é—·ï¼ŒæŒ‰ç…§å¤§æ•°å®šå¾‹ï¼ˆçŸ¥ä¹çš„è§£é‡Šï¼‰ï¼Œå¦‚æœæŠ›ç¡¬å¸çš„æ¬¡æ•°è¶³å¤Ÿå¤šï¼Œä»–å°±åº”è¯¥æ˜¯æ­£åå„1/2çš„åˆ†å¸ƒå•Šï¼ŒAéƒ½æŠ›äº†100æ¬¡æ­£é¢äº†ï¼Œä¸‹ä¸€æ¬¡å°±è¯¥æ˜¯åé¢å‡ ç‡æ›´å¤§äº†å•Šã€‚å¯æ˜¯æ¯æ¬¡æŠ›ç¡¬å¸åº”è¯¥æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¹‹å‰æŠ›æ— æ•°æ¬¡ä¹Ÿä¸è¯¥å½±å“ä¸‹ä¸€æ¬¡çš„æ¦‚ç‡ï¼Œå³1/2ã€‚è¿™ä¸ªé—®é¢˜çš„äº‰è®ºï¼Œè¯·å‚è€ƒå…ˆéªŒæ¦‚ç‡ä¸åéªŒæ¦‚ç‡çš„åŒºåˆ«ï¼ˆè€è¿·æƒ‘äº†ï¼‰ã€‚ æˆ‘æ¯”è¾ƒè®¤å¯æ¯”è¾ƒçš„è§£é‡Šæ˜¯å…¶è¯„è®ºä¸­çš„ä¸€æ®µè¯ï¼Œå½“ç„¶ï¼Œå‰ææ˜¯ä½ å¾—æ¸…æ¥šé¢‘ç‡ï¼ˆ åƒä¸‡åˆ«æŠŠé¢‘ç‡ç›´æ¥ç­‰åŒäºæ¦‚ç‡ï¼‰ï¼Œæ¦‚ç‡çš„å¤å…¸å®šä¹‰å’Œç»Ÿè®¡å®šä¹‰ä»¥åŠå…¬ç†åŒ–å®šä¹‰ã€‚ ä»ç½‘ä¸Šçš„èµ„æ–™æ¥çœ‹ï¼Œæ¦‚ç‡æœ¬èº«æœ‰å¤šç§è§£é‡Šã€‚æ¯ä¸€ç§è§£é‡Šéƒ½æœ‰ä¸€å®šçš„æ¼æ´ã€‚å¦‚æœä¸æ˜¯ç ”ç©¶æ¦‚ç‡çš„æ ¹æœ¬é—®é¢˜ï¼ˆé€»è¾‘ä¸€è‡´ï¼‰ï¼Œæˆ‘ä»¬åœ¨è‡ªå·±çš„ç ”ç©¶é¢†åŸŸä¸å¤ªå¯èƒ½ä¼šé‡åˆ°è¿™äº›æ¼æ´ã€‚ï¼ˆPS:è¿™é‡Œå¿…é¡»è¦è¯´æ˜çš„æ˜¯ï¼Œæ¦‚ç‡æœ‰å¤šç§å®šä¹‰ï¼ˆå¤å…¸å®šä¹‰å’Œç»Ÿè®¡å®šä¹‰ä»¥åŠå…¬ç†åŒ–å®šä¹‰ï¼‰ï¼Œä½†è¿™ä¸æ˜¯ä¸‰å›½æ¼”ä¹‰ï¼Œæˆ‘æŸ¯æ—©å·²ä¸€ç»Ÿå¤©ä¸‹ï¼Œæ¦‚ç‡çš„å…¬ç†åŒ–å®šä¹‰æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼Œæ²¡æœ‰æ¼æ´ã€‚å½“ç„¶è¿™é‡Œæ‰€è¯´çš„é€»è¾‘ä¸ä¸€è‡´åº”è¯¥æ˜¯æŒ‡æ•°ç†ç»Ÿè®¡ä¸­çš„é¢‘ç‡å­¦æ´¾å’Œè´å¶æ–¯å­¦æ´¾ä¹‹äº‰ï¼‰ é¢‘ç‡å­¦æ´¾å’Œè´å¶æ–¯å­¦æ´¾éƒ½æœ‰å­˜åœ¨çš„ç†ç”±ã€‚é¢‘ç‡å­¦æ´¾çš„â€œæ— ç©·æ¬¡å®éªŒâ€ï¼Œè´å¶æ–¯å­¦æ´¾çš„â€œå…ˆéªŒæ¦‚ç‡â€ï¼Œéƒ½æ˜¯æœ‰äº‰è®®çš„ã€‚æ¥¼ä¸»çš„ç¬¬4é—®ï¼Œå‰ææ˜¯æ‰¿è®¤äº†é¢‘ç‡å­¦æ´¾çš„è§‚ç‚¹ï¼Œä½†æ³¨æ„å®ƒä»¬çš„è§‚ç‚¹æœ‰ä¸€ä¸ªæ— ç©·æ¬¡å®éªŒçš„å‡è®¾ã€‚æˆ‘æ£æµ‹æ¥¼ä¸»çš„è§‚ç‚¹æ˜¯ï¼Œå› ä¸ºå·²ç»æŠ›äº†100æ¬¡æ­£é¢äº†ï¼Œé‚£ä¹ˆï¼Œåé¢æŠ›åé¢çš„æ¬¡æ•°åº”è¯¥å¤šä¸€ç‚¹ï¼Œä¸ç„¶æ€»å’Œå°±ä¸æ˜¯1/2äº†ï¼Œå†æ ¹æ®é¢‘ç‡å­¦æ´¾çš„è§‚ç‚¹ï¼Œå‡ºç°çš„é¢‘ç‡å¤šä¸€ç‚¹ï¼Œäºæ˜¯æ¦‚ç‡ä¹Ÿå°±å¤§ä¸€ç‚¹ã€‚ä»ç†è®ºä¸Šæ¥è¯´ï¼Œä»»ä½•æœ‰é™æ¬¡çš„æ­£é¢ï¼Œéƒ½ä¸ä¼šå½±å“æ— ç©·æ¬¡å®éªŒçš„ç»“æœæ¯”ç‡ã€‚æ‰€ä»¥ï¼Œâ€œåé¢æŠ›åé¢çš„æ¬¡æ•°åº”è¯¥å¤šä¸€ç‚¹â€è¿™ä¸€ç‚¹æ˜¯ä¸æˆç«‹çš„ï¼Œå³ä½¿åé¢çš„åé¢çš„æ¬¡æ•°å°‘ä¸€äº›ï¼Œä¹Ÿä¸ä¼šå½±å“è¿™ä¸ªæ¯”ç‡ã€‚å¸¸æ•°+æ— ç©·å¤§=æ— ç©·å¤§ å…³äºæ¦‚ç‡è®ºï¼Œä¸€ç›´æœ‰è®¸å¤šæä¸æ‡‚çš„é—®é¢˜ï¼Œè¿·è¿·ç³Šç³Šæ··è¿‡å››å¹´ã€‚åœ¨å­¦ä¹ HMMå’ŒCRFé«˜æ¥¼å¤§å¦æ—¶ï¼Œå‘ç°åœ°åŸºå·²ç¢ï¼Œä¸€è¾¹ç™¾åº¦åŸºç¡€æ¦‚å¿µä¸€è¾¹å­¦ï¼Œæ›´æ˜¯ç—›è‹¦ä¸‡åˆ†ã€‚åœ¨æœå¯»é—®é¢˜æ—¶äº§ç”Ÿæ›´å¤šçš„é—®é¢˜ï¼Œç»ˆäºåœ¨é‡æ–°è¯»äº†æ¦‚ç‡è®ºå‰å‡ ç« åï¼Œç®—æ˜¯è±ç„¶å¼€æœ—äº†å¾ˆå¤šï¼Œæ‰€ä»¥æ‰“ç®—é‡è¯»æ¦‚ç‡è®ºï¼Œå¤¯å®åŸºç¡€ï¼Œæˆ‘åº”è¯¥ä¼šå¼€ä¸ªé‡è¯»æ¦‚ç‡è®ºçš„åˆ†ç±»ï¼Œæœ‰å¾ˆå¤šäº‹è¦åšï¼Œå°±å¹¶è¡Œå¤„ç†å§ï¼Œä¸çŸ¥é“ä¼šä¸ä¼šåŠé€”è€ŒåºŸï¼Œä¹Ÿä¸çŸ¥é“åŠé€”è€ŒåºŸçš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼ˆå½“ç„¶ï¼Œæˆ‘å¯ä»¥å‡­ç»éªŒå…ˆç»™å‡ºä¸€ä¸ªä¸»è§‚å…ˆéªŒæ¦‚ç‡ï¼Œåœ¨ä»¥åçš„è¿‡ç¨‹ä¸­å†æ…¢æ…¢ä¿®æ­£å¾—åˆ°åéªŒæ¦‚ç‡ï¼Œç›´åˆ°æ¦‚ç‡ä¸º0æˆ–1ï¼‰ï¼Œä½†æ˜¯æœ‰äº›ç–‘æƒ‘ç»ˆç©¶ä¼šæ¨ç€æˆ‘å»æ¢å¯»ã€‚ æ¨èé˜…è¯»ï¼šæ•°å­¦ä¹‹ç¾ç•ªå¤–ç¯‡ï¼šå¹³å‡¡è€Œåˆç¥å¥‡çš„è´å¶æ–¯æ–¹æ³• å‚è€ƒèµ„æ–™ å…ˆéªŒæ¦‚ç‡ä¸åéªŒæ¦‚ç‡çš„åŒºåˆ«ï¼ˆè€è¿·æƒ‘äº†ï¼‰ å…ˆéªŒæ¦‚ç‡ä¸åéªŒæ¦‚ç‡åŠè´å¶æ–¯å…¬å¼ ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹â€“é™ˆå¸Œå­º æ•°ç†ç»Ÿè®¡ä¸­çš„ä¸¤ä¸ªå­¦æ´¾â€”â€”é¢‘ç‡å­¦æ´¾å’ŒBayeså­¦æ´¾ ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹â€“ç››éª¤ï¼Œè°¢å¼åƒï¼Œæ½˜æ‰¿æ¯…ç¼–.-4ç‰ˆ]]></content>
      <categories>
        <category>Algorithm</category>
        <category>é‡è¯»æ¦‚ç‡è®º</category>
      </categories>
      <tags>
        <tag>æ¦‚ç‡è®º</tag>
        <tag>å…ˆéªŒæ¦‚ç‡</tag>
        <tag>åéªŒæ¦‚ç‡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‚£äº›ä½ å¸¸ç”¨ä½†æ˜¯å´ä¸çŸ¥é“å¦‚ä½•ç”¨è‹±æ–‡è¡¨è¾¾çš„å¥å­]]></title>
    <url>%2F2017%2F06%2F06%2F2017-06-06homeTest%2F</url>
    <content type="text"><![CDATA[æŒæ¡å¦å¤–ä¸€ç§è¯­è¨€ï¼ˆå¤–è¯­ï¼‰ï¼ŒçœŸæ­£çš„éš¾ç‚¹åœ¨äºæŒæ¡å®ƒä¸å·²ä¹ å¾—è¯­è¨€ï¼ˆæ¯è¯­ï¼‰çš„ä¸é‡åˆä¹‹å¤„ã€‚ç›´è§‚çš„ä¸€ä¸€å¯¹åº”ï¼Œå…¶å®æ²¡ä»€ä¹ˆéš¾åº¦ï¼šâ€œé‚£æ˜¯ä¸€æœ¬ä¹¦â€å¯¹åº”ç€â€œThatâ€™s a bookâ€ã€‚è€Œé‚£äº›ä½ å¸¸ç”¨åˆ°çš„å¥å­æˆ–çŸ­è¯­ï¼Œç¿»è¯‘æˆè‹±æ–‡ï¼Œå´ä¸€å¬å°±çŸ¥é“æ˜¯ä¸­å¼è‹±æ–‡ã€‚â€œè‹¥æœæˆ‘æ²¡è®°é”™çš„è¯â€¦â€ ç”¨è‹±è¯­æ€ä¹ˆè¯´ï¼Ÿæ˜¯ If I didnâ€™t remembered wrongâ€¦å—ï¼Ÿæ˜¯è‹±è¯­é‡Œå°±æ²¡æœ‰è¿™æ ·çš„è¡¨è¾¾ï¼Œè¿˜æ˜¯æˆ‘ä»¬ä¸çŸ¥é“å®ƒçš„åœ°é“è¡¨è¾¾æ–¹å¼å‘¢ï¼Ÿ è€Œæ‰€è°“çš„â€œä¸åœ°é“â€ï¼Œå…¶å®ä¸è¿‡ç”¨æ¯è¯­çš„è¡¨è¾¾ä¹ æƒ¯å»è¯´å¤–è¯­ã€‚æ¯”å¦‚ï¼š â€¢ å¦‚æœæˆ‘æ²¡è®°é”™çš„è¯â€¦â€¦ â€¢ æˆ‘ä»æœªæƒ³è¿‡â€¦â€¦ â€¢ ä½ ç«Ÿç„¶è·Ÿæˆ‘è¿™ä¹ˆè¯´è¯ï¼ â€¢ å°±çŸ¥é“ä½ æœ‰è¿™æœ¬äº‹ï¼ â€¢ (è¿™)å¬ç€è€³ç†Ÿå§ï¼Ÿ â€¢ æˆ‘æƒ³ä¸èµ·æ¥é‚£åå­—äº†â€¦â€¦è¿™äº›å¥å­ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­å¿…ç„¶ç”¨åˆ°çš„å¥å­ï¼ˆæˆ–ç‰‡æ®µï¼‰ï¼Œå¯æ˜¯ï¼Œå¦‚æœâ€œç›´è¯‘â€çš„è¯ï¼Œå°±å¾ˆåˆ«æ‰­ï¼š â€¢ If I didnâ€™t remembered wrongâ€¦ â€¢ I never thought of/thatâ€¦ â€¢ How dare you talking to me like this! â€¢ I know you have such a capability! â€¢ Does it sound familiar? â€¢ I cannot remember that nameâ€¦åŒæ ·çš„è¯­å¢ƒé‡Œï¼Œâ€œåœ°é“â€çš„è¯´æ³•æ˜¯è¿™æ ·çš„ï¼š â€¢ If my memory serves, â€¦ â€¢ It never occurred to me thatâ€¦ â€¢ Are we really having this conversation? â€¢ Always knew you had it in you! â€¢ Does it ring a bell to you? â€¢ That name escapes meâ€¦.çœ‹å®Œè¿™å‡ ä¸ªåœ°é“çš„ç¿»è¯‘åï¼Œæ˜¯ä¸æ˜¯æœ‰ç§ä¸€æ‹å¤§è…¿ï¼Œé†é†çŒé¡¶ä¹‹å¿«æ„Ÿã€‚ æ— æ„ä¸­çœ‹åˆ°æç¬‘æ¥çš„ ã€Šäººäººéƒ½èƒ½ç”¨è‹±è¯­ã€‹ï¼Œæ–¹æ³•è®ºç±»çš„ä¹¦ä¸éœ€è¦å¤šè¯»ï¼Œè¿™äº›ä¹¦åœ¨æˆ‘çœ‹æ¥åœ¨æˆ‘çœ‹æ¥å…¶å®æŒºä¸é è°±ï¼Œè¦å­¦è‹±è¯­å°±å»å­¦è‹±è¯­å•Šï¼Œçœ‹è‹±è¯­çš„å­¦ä¹ èµ„æ–™å•Šï¼Œä½†æ˜¯ï¼Œé—²æ¥æ— äº‹æ—¶é€‰ä¸€ä¸¤æœ¬è¿˜æ˜¯å°±å¯ä»¥ä¸€è¯»çš„ï¼Œæˆ–è®¸ä¼šæœ‰è€³ç›®ä¸€æ–°çš„è®ºè§é¢ è¦†ä½ çš„ä¸€äº›å›ºæœ‰æ€ç»´ï¼Œæˆ–è€…ç§°ä¹‹ä¸ºå¸¸è¯†çš„ä¸œè¥¿ï¼Œä¸ä¸€å®šè®©ä½ çš„å­¦ä¹ äº‹åŠåŠŸå€ï¼Œä½†è‡³å°‘å¼€æ‹“äº†ä½ çš„æ€ç»´ï¼Œä¹Ÿèˆ’ç¼“ä¸‹å­¦ä¹ å¸¦æ¥çš„çš„ç´§ç»·çŠ¶æ€ã€‚ å‚è€ƒèµ„æ–™ï¼š çŸ¥ç¬”å¢¨ â€“ã€Šäººäººéƒ½èƒ½ç”¨è‹±è¯­ â€“ æç¬‘æ¥ã€‹]]></content>
      <categories>
        <category>English learning</category>
      </categories>
      <tags>
        <tag>English</tag>
        <tag>è‹±è¯­å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HIVEå’ŒHBASEåŒºåˆ«]]></title>
    <url>%2F2017%2F06%2F06%2F2017-06-06%2F</url>
    <content type="text"><![CDATA[ä»æ¶æ„å›¾ä¸­ä¸éš¾çœ‹å‡ºï¼ŒHiveæ˜¯è¿è¡Œåœ¨MapReduceä¹‹ä¸Šçš„ï¼Œè€ŒHbaseåˆ™æ˜¯åœ¨æ›´åº•å±‚çš„HDFSä¹‹ä¸Šï¼Œä»–ä»¬çš„è¯»å†™å’ŒæŸ¥è¯¢ç‰¹ç‚¹ä¹Ÿå› æ­¤è€Œè¿¥ç„¶ä¸åŒã€‚ å¦‚æœè‹±è¯­ä¸é”™çš„è¯ï¼Œè¯·ç›´æ¥è·³åˆ°è‹±æ–‡åŸç‰ˆ 1. ä¸¤è€…åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Apache Hive æ˜¯ä¸€ä¸ªæ„å»ºåœ¨HadoopåŸºç¡€è®¾æ–½ä¹‹ä¸Šçš„æ•°æ®ä»“åº“ã€‚é€šè¿‡Hiveå¯ä»¥ä½¿ç”¨HQLè¯­è¨€æŸ¥è¯¢å­˜æ”¾åœ¨HDFSä¸Šçš„æ•°æ®ã€‚HQLæ˜¯ä¸€ç§ç±»SQLè¯­è¨€ï¼Œè¿™ç§è¯­è¨€æœ€ç»ˆè¢«è½¬åŒ–ä¸ºMap/Reduce. è™½ç„¶Hiveæä¾›äº†SQLæŸ¥è¯¢åŠŸèƒ½ï¼Œä½†æ˜¯Hiveä¸èƒ½å¤Ÿè¿›è¡Œäº¤äº’æŸ¥è¯¢â€“å› ä¸ºå®ƒåªèƒ½å¤Ÿåœ¨Haoopä¸Šæ‰¹é‡çš„æ‰§è¡ŒHadoopã€‚ Apache HBase æ˜¯ä¸€ç§Key/Valueç³»ç»Ÿï¼Œä¸€ç§è¿è¡ŒäºHDFSé¡¶å±‚çš„NoSQL(=Not Only SQLï¼Œæ³›æŒ‡éå…³ç³»å‹çš„æ•°æ®åº“)æ•°æ®åº“ç³»ç»Ÿã€‚åŒºåˆ«äºHiveï¼ŒHBaseå…·å¤‡éšå³è¯»å†™åŠŸèƒ½ï¼Œæ˜¯ä¸€ç§é¢å‘åˆ—çš„æ•°æ®åº“ã€‚å’ŒHiveä¸ä¸€æ ·ï¼ŒHbaseçš„èƒ½å¤Ÿåœ¨å®ƒçš„æ•°æ®åº“ä¸Šå®æ—¶è¿è¡Œï¼Œè€Œä¸æ˜¯è¿è¡ŒMapReduceä»»åŠ¡ã€‚ Hbaseè¢«åˆ†åŒºä¸ºè¡¨æ ¼ï¼Œè¡¨æ ¼åˆè¢«è¿›ä¸€æ­¥åˆ†å‰²ä¸ºåˆ—ç°‡ã€‚åˆ—ç°‡å¿…é¡»ä½¿ç”¨schemaå®šä¹‰ï¼Œåˆ—ç°‡å°†æŸä¸€ç±»å‹åˆ—é›†åˆèµ·æ¥ï¼ˆåˆ—ä¸è¦æ±‚schemaå®šä¹‰ï¼‰ã€‚ä¾‹å¦‚ï¼Œâ€œmessageâ€åˆ—ç°‡å¯èƒ½åŒ…å«ï¼šâ€œtoâ€, â€fromâ€ â€œdateâ€, â€œsubjectâ€, å’Œâ€bodyâ€. æ¯ä¸€ä¸ª key/valueå¯¹åœ¨Hbaseä¸­è¢«å®šä¹‰ä¸ºä¸€ä¸ªcellï¼Œæ¯ä¸€ä¸ªkeyç”±row-keyï¼Œåˆ—ç°‡ã€åˆ—å’Œæ—¶é—´æˆ³ç»„æˆã€‚ åœ¨Hbaseä¸­ï¼Œè¡Œæ˜¯key/valueæ˜ å°„çš„é›†åˆï¼Œè¿™ä¸ªæ˜ å°„é€šè¿‡row-keyæ¥å”¯ä¸€æ ‡è¯†ã€‚Hbaseåˆ©ç”¨Hadoopçš„åŸºç¡€è®¾æ–½ï¼Œå¯ä»¥åˆ©ç”¨é€šç”¨çš„è®¾å¤‡è¿›è¡Œæ°´å¹³çš„æ‰©å±•ã€‚ 2. ä¸¤è€…çš„ç‰¹ç‚¹Hiveå¸®åŠ©ç†Ÿæ‚‰SQLçš„äººè¿è¡ŒMapReduceä»»åŠ¡ã€‚å› ä¸ºå®ƒæ˜¯JDBCå…¼å®¹çš„ï¼ŒåŒæ—¶ï¼Œå®ƒä¹Ÿèƒ½å¤Ÿå’Œç°å­˜çš„SQLå·¥å…·æ•´åˆåœ¨ä¸€èµ·ã€‚**è¿è¡ŒHiveæŸ¥è¯¢ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œå› ä¸ºå®ƒä¼šé»˜è®¤éå†è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®ã€‚** è™½ç„¶æœ‰è¿™æ ·çš„ç¼ºç‚¹ï¼Œä¸€æ¬¡éå†çš„æ•°æ®é‡å¯ä»¥é€šè¿‡Hiveçš„åˆ†åŒºæœºåˆ¶æ¥æ§åˆ¶ã€‚åˆ†åŒºå…è®¸åœ¨æ•°æ®é›†ä¸Šè¿è¡Œè¿‡æ»¤æŸ¥è¯¢ï¼Œè¿™äº›æ•°æ®é›†å­˜å‚¨åœ¨ä¸åŒçš„æ–‡ä»¶å¤¹å†…ï¼ŒæŸ¥è¯¢çš„æ—¶å€™åªéå†æŒ‡å®šæ–‡ä»¶å¤¹ï¼ˆåˆ†åŒºï¼‰ä¸­çš„æ•°æ®ã€‚è¿™ç§æœºåˆ¶å¯ä»¥ç”¨æ¥ï¼Œä¾‹å¦‚ï¼Œåªå¤„ç†åœ¨æŸä¸€ä¸ªæ—¶é—´èŒƒå›´å†…çš„æ–‡ä»¶ï¼Œåªè¦è¿™äº›æ–‡ä»¶åä¸­åŒ…æ‹¬äº†æ—¶é—´æ ¼å¼ã€‚ HBaseé€šè¿‡å­˜å‚¨key/valueæ¥å·¥ä½œã€‚å®ƒæ”¯æŒå››ç§ä¸»è¦çš„æ“ä½œ: â€¢ æ·»åŠ æˆ–æ›´æ–°æ•°æ®è¡Œ â€¢ æ‰«æè·å–æŸèŒƒå›´å†…çš„cells â€¢ ä¸ºæŸä¸€å…·ä½“æ•°æ®è¡Œè¿”å›å¯¹åº”çš„cells â€¢ ä»æ•°æ®è¡¨ä¸­åˆ é™¤æ•°æ®è¡Œ/åˆ—ï¼Œæˆ–åˆ—çš„æè¿°ä¿¡æ¯ â€¢ åˆ—ä¿¡æ¯å¯ç”¨äºè·å–æ•°æ®å˜åŠ¨å‰çš„å–å€¼ï¼ˆé€è¿‡HBaseå‹ç¼©ç­–ç•¥å¯ä»¥åˆ é™¤åˆ—ä¿¡æ¯å†å²è®°å½•æ¥é‡Šæ”¾å­˜å‚¨ç©ºé—´ï¼‰ã€‚ è™½ç„¶HBaseåŒ…æ‹¬è¡¨æ ¼ï¼Œä½†æ˜¯schemaä»…ä»…è¢«è¡¨æ ¼å’Œåˆ—ç°‡æ‰€è¦æ±‚ï¼Œåˆ—ä¸éœ€è¦schemaã€‚Hbaseçš„è¡¨æ ¼åŒ…æ‹¬å¢åŠ /è®¡æ•°åŠŸèƒ½ã€‚ 3. é™åˆ¶Hiveä¸æ”¯æŒå¸¸è§„çš„SQLæ›´æ–°è¯­å¥ï¼Œå¦‚ï¼šæ•°æ®æ’å…¥ï¼Œæ›´æ–°ï¼Œåˆ é™¤ã€‚å› ä¸ºå…¶å¯¹æ•°æ®çš„æ“ä½œæ˜¯é’ˆå¯¹æ•´ä¸ªæ•°æ®è¡¨çš„ã€‚å¦å¤–ï¼Œç”±äºhiveåœ¨hadoopä¸Šè¿è¡Œæ‰¹é‡æ“ä½œï¼Œå®ƒéœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´ï¼Œé€šå¸¸æ˜¯å‡ åˆ†é’Ÿåˆ°å‡ ä¸ªå°æ—¶æ‰å¯ä»¥è·å–åˆ°æŸ¥è¯¢çš„ç»“æœã€‚Hiveå¿…é¡»æä¾›é¢„å…ˆå®šä¹‰å¥½çš„schemaå°†æ–‡ä»¶å’Œç›®å½•æ˜ å°„åˆ°åˆ—ï¼Œå¹¶ä¸”Hiveä¸ACIDä¸å…¼å®¹ã€‚HBaseæŸ¥è¯¢æ˜¯é€šè¿‡ç‰¹å®šçš„è¯­è¨€æ¥ç¼–å†™çš„ï¼Œè¿™ç§è¯­è¨€éœ€è¦é‡æ–°å­¦ä¹ ã€‚ç±»SQLçš„åŠŸèƒ½å¯ä»¥é€šè¿‡Apache Phonenixå®ç°ï¼Œä½†è¿™æ˜¯ä»¥å¿…é¡»æä¾›schemaä¸ºä»£ä»·çš„ã€‚å¦å¤–ï¼ŒHbaseä¹Ÿå¹¶ä¸æ˜¯å…¼å®¹æ‰€æœ‰çš„ACIDç‰¹æ€§ï¼Œè™½ç„¶å®ƒæ”¯æŒæŸäº›ç‰¹æ€§ã€‚æœ€åä½†æ˜¯æœ€é‡è¦çš„â€“ä¸ºäº†è¿è¡ŒHbaseï¼ŒZookeeperæ˜¯å¿…é¡»çš„ï¼Œzookeeperæ˜¯ä¸€ä¸ªç”¨æ¥è¿›è¡Œåˆ†å¸ƒå¼åè°ƒçš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡åŒ…æ‹¬é…ç½®æœåŠ¡ï¼Œç»´æŠ¤å…ƒä¿¡æ¯å’Œå‘½åç©ºé—´æœåŠ¡ã€‚ 4. åº”ç”¨åœºæ™¯Hiveé€‚åˆç”¨æ¥ å¯¹ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®è¿›è¡Œåˆ†ææŸ¥è¯¢ï¼Œé€‚ç”¨äºç½‘ç»œæ—¥å¿—ç­‰æ•°æ®é‡å¤§ã€é™æ€çš„æ•°æ®æŸ¥è¯¢ ã€‚ä¾‹å¦‚ï¼Œç”¨æ¥è®¡ç®—è¶‹åŠ¿æˆ–è€…ç½‘ç«™çš„æ—¥å¿—ã€‚Hiveä¸åº”è¯¥ç”¨æ¥è¿›è¡Œå®æ—¶çš„æŸ¥è¯¢ã€‚å› ä¸ºå®ƒéœ€è¦å¾ˆé•¿æ—¶é—´æ‰å¯ä»¥è¿”å›ç»“æœã€‚ Hbaseéå¸¸é€‚åˆç”¨æ¥ è¿›è¡Œå¤§æ•°æ®çš„å®æ—¶æŸ¥è¯¢ã€‚Facebookç”¨Hbaseè¿›è¡Œæ¶ˆæ¯å’Œå®æ—¶çš„åˆ†æã€‚å®ƒä¹Ÿå¯ä»¥ç”¨æ¥ç»Ÿè®¡Facebookçš„è¿æ¥æ•°ã€‚ 5. æ€»ç»“Hiveå’ŒHbaseæ˜¯ä¸¤ç§åŸºäºHadoopçš„ä¸åŒæŠ€æœ¯â€“Hiveæ˜¯ä¸€ç§ç±»SQLçš„å¼•æ“ï¼Œå¹¶ä¸”è¿è¡ŒMapReduceä»»åŠ¡ï¼ŒHbaseæ˜¯ä¸€ç§åœ¨Hadoopä¹‹ä¸Šçš„NoSQL çš„Key/valeæ•°æ®åº“ã€‚å½“ç„¶ï¼Œè¿™ä¸¤ç§å·¥å…·æ˜¯å¯ä»¥åŒæ—¶ä½¿ç”¨çš„ã€‚å°±åƒç”¨Googleæ¥æœç´¢ï¼Œç”¨FaceBookè¿›è¡Œç¤¾äº¤ä¸€æ ·ï¼ŒHiveå¯ä»¥ç”¨æ¥è¿›è¡Œç»Ÿè®¡æŸ¥è¯¢ï¼ŒHBaseå¯ä»¥ç”¨æ¥è¿›è¡Œå®æ—¶æŸ¥è¯¢ï¼Œæ•°æ®ä¹Ÿå¯ä»¥ä»Hiveå†™åˆ°Hbaseï¼Œè®¾ç½®å†ä»Hbaseå†™å›Hiveã€‚ä¾‹å¦‚ï¼šåˆ©ç”¨Hiveå¤„ç†é™æ€ç¦»çº¿æ•°æ®ï¼Œåˆ©ç”¨HBaseè¿›è¡Œè”æœºå®æ—¶æŸ¥è¯¢ï¼Œè€Œåå¯¹ä¸¤è€…é—´çš„ç»“æœé›†è¿›è¡Œæ•´åˆå½’å¹¶ï¼Œä»è€Œä½¿å¾—æ•°æ®å®Œæ•´ä¸”æ°¸è‘†é’æ˜¥ï¼Œä¸ºè¿›ä¸€æ­¥çš„å•†ä¸šåˆ†ææä¾›è‰¯å¥½æ”¯æŒã€‚ 6.è‹±æ–‡åŸç‰ˆä¸‡ä¸€ä½ è‹±è¯­ä¸é”™å´ç¿»ä¸äº†å¢™ï¼Œé‚£å¤šå°´å°¬å•Šã€‚ğŸ˜‚ç»™ä½ å‡†å¤‡äº†è‹±æ–‡åŸç‰ˆï¼Œè¯·äº«ç”¨ã€‚ Hive vs. HBase By Saggi Neumann Big Data May 26, 2014 Comparing Hive with HBase is like comparing Google with Facebook - although they compete over the same turf (our private information), they donâ€™t provide the same functionality. But things can get confusing for the Big Data beginner when trying to understand what Hive and HBase do and when to use each one of them. Letâ€™s try and clear it up. What They DoApache Hive is a data warehouse infrastructure built on top of Hadoop. It allows for querying data stored on HDFS for analysis via HQL, an SQL-like language that gets translated to MapReduce jobs. Despite providing SQL functionality, Hive does not provide interactive querying yet - it only runs batch processes on Hadoop.Apache HBase is a NoSQL key/value store which runs on top of HDFS. Unlike Hive, HBase operations run in real-time on its database rather than MapReduce jobs. HBase is partitioned to tables, and tables are further split into column families. Column families, which must be declared in the schema, group together a certain set of columns (columns donâ€™t require schema definition). For example, the â€œmessageâ€ column family may include the columns: â€œtoâ€, â€œfromâ€, â€œdateâ€, â€œsubjectâ€, and â€œbodyâ€. Each key/value pair in HBase is defined as a cell, and each key consists of row-key, column family, column, and time-stamp. A row in HBase is a grouping of key/value mappings identified by the row-key. HBase enjoys Hadoopâ€™s infrastructure and scales horizontally using off the shelf servers. FeaturesHive can help the SQL savvy to run MapReduce jobs. Since itâ€™s JDBC compliant, it also integrates with existing SQL based tools. Running Hive queries could take a while since they go over all of the data in the table by default. Nonetheless, the amount of data can be limited via Hiveâ€™s partitioning feature. Partitioning allows running a filter query over data that is stored in separate folders, and only read the data which matches the query. It could be used, for example, to only process files created between certain dates, if the files include the date format as part of their name.HBase works by storing data as key/value. It supports four primary operations: put to add or update rows, scan to retrieve a range of cells, get to return cells for a specified row, and delete to remove rows, columns or column versions from the table. Versioning is available so that previous values of the data can be fetched (the history can be deleted every now and then to clear space via HBase compactions). Although HBase includes tables, a schema is only required for tables and column families, but not for columns, and it includes increment/counter functionality. LimitationsHive does not currently support update statements. Additionally, since it runs batch processing on Hadoop, it can take minutes or even hours to get back results for queries. Hive must also be provided with a predefined schema to map files and directories into columns and it is not ACID compliant.HBase queries are written in a custom language that needs to be learned. SQL-like functionality can be achieved via Apache Phoenix, though it comes at the price of maintaining a schema. Furthermore, HBase isnâ€™t fully ACID compliant, although it does support certain properties. Last but not least - in order to run HBase, ZooKeeper is required - a server for distributed coordination such as configuration, maintenance, and naming. Use CasesHive should be used for analytical querying of data collected over a period of time - for instance, to calculate trends or website logs. Hive should not be used for real-time querying since it could take a while before any results are returned.HBase is perfect for real-time querying of Big Data. Facebook use it for messaging and real-time analytics. They may even be using it to count Facebook likes. SummaryHive and HBase are two different Hadoop based technologies - Hive is an SQL-like engine that runs MapReduce jobs, and HBase is a NoSQL key/value database on Hadoop. But hey, why not use them both? Just like Google can be used for search and Facebook for social networking, Hive can be used for analytical queries while HBase for real-time querying. Data can even be read and written from Hive to HBase and back again. å‚è€ƒèµ„æ–™ï¼šä¸»è¦æºäºï¼šHIVEå’ŒHBASEåŒºåˆ« æ±‰åŒ–äº åŸæ–‡å‡ºå¤„éƒ¨åˆ†æºäºï¼šæµ…è°ˆHive vs. HBase åŒºåˆ«åœ¨å“ªé‡Œ]]></content>
      <categories>
        <category>Bigdata</category>
      </categories>
      <tags>
        <tag>Bigdata</tag>
        <tag>Hive</tag>
        <tag>Hbase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ï¼Œå…¬å¼]]></title>
    <url>%2F2017%2F06%2F06%2F%E5%9C%A8hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%EF%BC%8C%E9%9F%B3%E4%B9%90%EF%BC%8C%E8%A7%86%E5%B1%8F%EF%BC%8C%E5%85%AC%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ï¼Œå…¬å¼.è¿™ç¯‡åšå®¢æœ¬æ¥æ˜¯æ‹¿æ¥æµ‹è¯•å›¾ç‰‡éŸ³ä¹çš„æ’å…¥çš„ï¼Œä½†æ˜¯æµ‹ç€æµ‹ç€ï¼Œå¿½ç„¶çµå…‰ä¸€ç°ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥å†™æˆä¸€ç¯‡åšå®¢å‘¢ï¼Ÿ é¡µå†…è·³è½¬æ·»åŠ ä¸€åˆ™å°æŠ€å·§ï¼Œå®ç°markdowné¡µå†…è·³è½¬ã€‚htmlæ ‡ç­¾å®ç° 1. å®šä¹‰ä¸€ä¸ªé”š(id)ï¼š&lt;span id=&quot;jump&quot;&gt;è·³è½¬åˆ°çš„åœ°æ–¹&lt;/span&gt; 2. ä½¿ç”¨markdownè¯­æ³•ï¼š[ç‚¹å‡»è·³è½¬](#jump) Exampleï¼šæˆ‘åœ¨æœ¬æ–‡å‚è€ƒæ–‡çŒ®å‰åŠ äº†ä¸€è¡Œ&lt;span id=&quot;jump&quot;&gt; &lt;/span&gt;ï¼Œç„¶ååœ¨æ­¤å¤„ç¼–å†™[ç‚¹å‡»è·³è½¬](#jump)ç‚¹å‡»è·³è½¬ å›¾ç‰‡å…³äºæ’å…¥å›¾ç‰‡ï¼Œç½‘ä¸Šçš„å›¾åºŠï¼ˆæ³¨å†Œéº»çƒ¦ï¼Œä½¿ç”¨éº»çƒ¦ï¼Œéœ€è¦ä¸Šä¼ ï¼Œç½‘é€Ÿä¸è¡Œå’‹åŠï¼Ÿç±»ä¼¼Lightshot Screenshotï¼Œä¸Šä¼ åŸºæœ¬30ç§’ï¼Œå¦‚æœä½ è¦å†™ä¸€ä»½éœ€è¦è¯¦ç»†æˆªå›¾çš„å®‰è£…æ–‡æ¡£ï¼Œé‚£ä¼°è®¡ä¸€å¤©çš„æ—¶é—´éƒ½èŠ±åœ¨ä¸Šä¼ å›¾ç‰‡ä¸Šäº†ï¼‰ï¼Œhexoå®˜æ–¹çš„æ–¹æ³•ï¼ˆå°†å›¾ç‰‡æ”¾åœ¨source/image/ä¸‹ï¼Œè¿™æ ·åœ¨ç¼–è¾‘å™¨ä¸­å¹¶ä¸èƒ½å®æ—¶é¢„è§ˆï¼Œè€Œä¸”ä½ è¿˜éœ€è¦è®°ä½å›¾ç‰‡çš„åå­—ã€‚ï¼‰éƒ½ä»¤äººè§‰å¾—æ’å…¥å›¾ç‰‡ç®€ç›´æ˜¯ä¸ªå™©æ¢¦ã€‚çŸ¥é“æˆ‘é‡åˆ°äº†MWebï¼Œä¸€ä¸ªå¯ä»¥ç›´æ¥æŠŠå›¾ç‰‡æ‹–å…¥å³å¯å®Œæˆå›¾ç‰‡æ’å…¥çš„Markdownç¼–è¾‘å™¨ï¼Œæˆ–è€…ä½¿ç”¨å¾®ä¿¡æˆªå›¾Ctrl+command+aä¿å­˜(è®°å¾—æ˜¯ç‚¹ä¸‹è½½æŒ‰é’®ï¼Œä¸æ˜¯ç‚¹é‚£ä¸ªå°çº¢å‹¾)åï¼Œç›´æ¥Command+v,å›¾ç‰‡å°±æ’å…¥äº†ã€‚è€Œä¸”å…¶ä½è°ƒç®€æ´çš„ç•Œé¢ï¼Œç®€å•å®ç”¨çš„å¿«æ·é”®ï¼Œå®Œç¾çš„è¯ é‡Šäº†ä»€ä¹ˆå«ä¼˜é›…çš„å†™ä½œæ–¹å¼ï¼ˆä¸€äº›bugå’Œç¨‹åºå´©æºƒé™¤å¤–ï¼‰ã€‚å½“ç„¶å¦‚æ­¤ç¾è…»è€Œåˆå¼ºå¤§ï¼Œå¿…ç„¶ä¸ä¾¿å®œçš„ï¼Œå®˜æ–¹ä»·æ ¼ï¿¥98ã€‚ä¸è¦æ¡‘å¿ƒï¼Œä»–è¿˜æœ‰å…è´¹çš„liteç‰ˆï¼Œä¸¤ä¸ªç‰ˆæœ¬çš„åŒºåˆ«ä¸»è¦æ˜¯ä»¥ä¸‹å‡ ç‚¹ï¼š æ–‡æ¡£åº“æ–‡æ¡£é™åˆ¶åœ¨ 10 ä¸ªä»¥å†…ï¼›ï¼ˆç„¶é¹…ï¼Œå†™hexoä¸€ç›´éƒ½æ˜¯ç”¨å¤–éƒ¨æ¨¡å¼ï¼Œå‹æ ¹ä¸éœ€è¦æ–‡æ¡£åº“ï¼‰å¤–éƒ¨æ¨¡å¼å¯å¼•å…¥çš„æ–‡ä»¶å¤¹é™åˆ¶åœ¨ 1 ä¸ªï¼›ï¼ˆç„¶é¹…ï¼Œä¸€ä¸ªæ–‡ä»¶ä¸‹å¯ä»¥æœ‰æ— æ•°ä¸ªæ–‡ä»¶å¤¹ï¼‰æ”¯æŒçš„å‘å¸ƒæœåŠ¡åªå¯å¢åŠ  1 ä¸ªï¼›ï¼ˆç„¶é¹…ï¼Œå†™hexoåšå®¢ï¼Œä¸éœ€è¦ç¼–è¾‘å™¨æ¥å¸®æˆ‘å‘å¸ƒï¼‰ å½“ç„¶ï¼ŒMWebä¸åªæ˜¯æ‹¿æ¥å†™hexoåšå®¢çš„ï¼Œæ›´å¤šä¿¡æ¯è¯·æˆ³MWebå®˜ç½‘ä»¥åŠå¸®åŠ©æ–‡æ¡£ã€‚ 1![](/media/14967219636093.jpg) å½“ç„¶ï¼Œmarkdownæ˜¯æ”¯æŒGIFåŠ¨å›¾çš„ï¼Œä½¿ç”¨æ–¹æ³•å’Œå›¾ç‰‡ä¸€è‡´ï¼Œåªè¦ä½ æ”¾çš„é“¾æ¥æ˜¯ä¸€å¼ åŠ¨å›¾çš„é“¾æ¥å°±è¡Œã€‚ Eaxmple: 1![](http://upload-images.jianshu.io/upload_images/291600-3b00271942fef854.gif?imageMogr2/auto-orient/strip) éŸ³ä¹1.ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ’­æ”¾å™¨æ¯”å¦‚ä½ å³é”®æŸé¦–æ­Œï¼Œå¤åˆ¶é“¾æ¥çš„åˆ°é“¾æ¥ä¸ºhttp://music.163.com/#/m/song?id=2919622åªéœ€è¦å…¶ä¸­çš„id=2919622å°±å¤Ÿäº†ã€‚ é‚£ä¹ˆåœ¨æ–‡ç« ä¸­ä½¿ç”¨ifnameæ ‡ç­¾å¦‚ä¸‹ï¼Œè®°å¾—å°†å…¶ä¸­çš„idæ”¹ä¸ºä½ æƒ³è¦çš„éŸ³ä¹idã€‚ 1&lt;iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=430 height=86 src="//music.163.com/outchain/player?type=2&amp;id=2919622&amp;auto=0&amp;height=66"&gt;&lt;/iframe&gt; 2.ä½¿ç”¨ Hexo æ’ä»¶æ’å…¥éŸ³ä¹/éŸ³é¢‘hexo-tag-aplayerï¼šhttps://github.com/grzhan/hexo-tag-aplayerå®˜æ–¹ç®€ä»‹ï¼šEmbed APlayer(https://github.com/DIYgod/APlayer) in Hexo posts/pages.å¾ˆæ˜æ˜¾ï¼Œé™¤äº†postsï¼Œè¿˜å¯ä»¥åœ¨pagesé¡µé¢ä½¿ç”¨ã€‚ Installation: 1npm install --save hexo-tag-aplayer Usage:1&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125; å‚æ•°è¯´æ˜åŠè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æˆ³githubï¼Œè¿˜æœ‰åŠ å…¥æ­Œè¯å’Œæ’­æ”¾ä¾‹è¡¨ç­‰å¼ºå¤§åŠŸèƒ½ç­‰ä½ æ¢ç´¢ã€‚Example:1&#123;% aplayer "å¥¹çš„ç«æ¯›" "å‘¨æ°ä¼¦" "http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3" "http://home.ustc.edu.cn/~mmmwhy/jay.jpg" "autoplay=false" %&#125; new APlayer({ element: document.getElementById("aplayer0"), narrow: false, autoplay: false, showlrc: 0, music: { title: "å¥¹çš„ç«æ¯›", author: "å‘¨æ°ä¼¦", url: "http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3", pic: "http://home.ustc.edu.cn/~mmmwhy/jay.jpg", } }); ä½¿ç”¨å”±å§å½•åˆ¶å¹¶ä¸Šä¼ éŸ³é¢‘ï¼Œç”¨æµè§ˆå™¨æ‰“å¼€åˆ†äº«é“¾æ¥,å³é”®æ˜¾ç¤ºç½‘é¡µæºä»£ç  æœç´¢mp3ï¼Œæ‰¾åˆ°ä½ çš„éŸ³é¢‘é“¾æ¥ã€‚ 1&#123;% aplayer "Job or Education" "Chant" "http://lzscuw.changba.com/899486104.mp3" "http://aliimg.changba.com/cache/photo/735572112_640_640.jpg" "autoplay=false" %&#125; new APlayer({ element: document.getElementById("aplayer1"), narrow: false, autoplay: false, showlrc: 0, music: { title: "Job or Education", author: "Chant", url: "http://lzscuw.changba.com/899486104.mp3", pic: "http://aliimg.changba.com/cache/photo/735572112_640_640.jpg", } }); è§†é¢‘1ä½¿ç”¨æ ‡ç­¾æ’å…¥è§†é¢‘1.1ä½¿ç”¨iframeæ ‡ç­¾æ’å…¥è§†é¢‘å³é”®è§†é¢‘ï¼Œå¤åˆ¶åµŒå…¥ä»£ç ï¼Œç›´æ¥å°†åµŒå…¥ä»£ç ç²˜è´´è¿›ä½ çš„markdownæ–‡ç« å°±OKå•¦ã€‚ 1&lt;iframe width=&quot;854&quot; height=&quot;480&quot; src=&quot;https://www.youtube.com/embed/xqf2DJgucsU&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt; æ­¤æ–¹æ³•çš„æˆè´¥ä¸hexoä¸»é¢˜æœ‰å…³ï¼Œåœ¨æœ¬ä¸»é¢˜ä¸‹åŠ è½½åµŒå…¥å¤±è´¥ï¼Œåœ¨åˆ«çš„ä¸»é¢˜ä¸‹ï¼Œæ¯”å¦‚maupassantæˆåŠŸã€‚ 1.2ä½¿ç”¨embedæ ‡ç­¾æ’å…¥è§†å±1&lt;embed height=&quot;415&quot; width=&quot;544&quot; quality=&quot;high&quot; allowfullscreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; src=&quot;//static.hdslb.com/miniloader.swf&quot; flashvars=&quot;aid=8506694&amp;page=1&quot; pluginspage=&quot;//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&quot;&gt;&lt;/embed&gt; 2.ä½¿ç”¨hexoæ’ä»¶æ’å…¥è§†é¢‘hexo-tag-dplayerï¼šhttps://github.com/NextMoe/hexo-tag-dplayerä¸aplayerç±»ä¼¼ï¼Œä¸è¿‡å®ƒæ˜¯ç”¨æ¥æ’å…¥è§†é¢‘ã€‚ Installation: 1npm install hexo-tag-dplayer --save Usage: 1&#123;% dplayer key=value ... %&#125; å‚æ•°è¯´æ˜åŠè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æˆ³githubExample: 1&#123;% dplayer &quot;url=http://home.ustc.edu.cn/~mmmwhy/GEM.mp4&quot; &quot;pic=http://home.ustc.edu.cn/~mmmwhy/GEM.jpg&quot; &quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;token=tokendemo&quot; %&#125; var dplayer0 = new DPlayer({"element":document.getElementById("dplayer0"),"autoplay":false,"theme":"#FADFA3","loop":true,"video":{"url":"http://home.ustc.edu.cn/~mmmwhy/GEM.mp4","pic":"http://home.ustc.edu.cn/~mmmwhy/GEM.jpg"}}); Example:æ­¤æ–¹æ³•youtubeè§†é¢‘çš„å¼•ç”¨è¿˜åœ¨æ¢ç´¢ä¸­ã€‚ var dplayer1 = new DPlayer({"element":document.getElementById("dplayer1"),"video":{"url":"https://www.youtube.com/embed/xqf2DJgucsU"}}); ä»¥ä¸‹æ˜¯å®˜æ–¹ç¤ºä¾‹ï¼Œç‚¹å‡»è®¾ç½®æŒ‰é’®è¿˜æœ‰å¼¹å¹•ã€é€Ÿåº¦ã€æ´—è„‘å¾ªç¯ç­‰é€‰é¡¹ã€‚ 1&#123;% dplayer "url=http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.mp4" "addition=https://dplayer.daoapp.io/bilibili?aid=4157142" "api=http://dplayer.daoapp.io" "pic=http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.png" "id=9E2E3368B56CDBB4" "loop=yes" "theme=#FADFA3" "autoplay=false" "token=tokendemo" %&#125; var dplayer2 = new DPlayer({"element":document.getElementById("dplayer2"),"autoplay":false,"theme":"#FADFA3","loop":true,"video":{"url":"http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.mp4","pic":"http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.png"},"danmaku":{"api":"http://dplayer.daoapp.io","id":"9E2E3368B56CDBB4","token":"tokendemo","addition":["https://dplayer.daoapp.io/bilibili?aid=4157142"]}}); å‚è€ƒèµ„æ–™ï¼š1.Hexoåšå®¢ä¸­æ’å…¥éŸ³ä¹/è§†é¢‘2.markdownè¯­æ³•åŠç¼–è¾‘å™¨æ¨èï¼Œéƒ½æ˜¯è¸©è¿‡çš„å‘3.é¡µå†…è·³è½¬]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaè¿œç¨‹è°ƒç”¨shellè„šæœ¬]]></title>
    <url>%2F2017%2F06%2F04%2Fjava%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8shell%E8%84%9A%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[ç›®çš„ï¼šjavaç¨‹åºè°ƒç”¨è¿œç¨‹æœåŠ¡å™¨çš„shellè„šæœ¬æ¥å®ç°æœåŠ¡çš„èµ·ã€åœã€é‡å¯ã€‚ å‰è¨€ï¼ˆåºŸè¯ï¼‰ï¼šç”±äºçŸ¥é“æˆ‘ç»éªŒä¸è¶³ï¼Œé¢†å¯¼ç»™æ–°åŒäº‹åˆ†é…ä»»åŠ¡æ—¶è¯´ï¼šâ€œè¿™ä¸ªjavaè¿œç¨‹è°ƒç”¨shellè„šæœ¬é‡å¯æœåŠ¡ï¼Œä»–ä¸¤å¯èƒ½æä¸å‡ºæ¥ï¼Œä½ ç ”ç©¶ä¸‹å§ã€‚â€è¢«äººé„™è§†äº†ä¸€æŠŠï¼Œäºæ˜¯è‡ªå·±æ­è™šæ‹Ÿæœºï¼ŒæŸ¥èµ„æ–™ï¼Œè¯•ä¸€æŠŠï¼Œçªç„¶å‘ç°ï¼Œå¥½å¤šäº‹æƒ…å…¶å®æ²¡é‚£ä¹ˆéš¾å˜›ã€‚ æ­£æ–‡ï¼šStep1.å‡†å¤‡è„šæœ¬é‡å¯çš„å…³é”®åœ¨äºå…³é—­ï¼Œè¦å…³é—­ç¨‹åºï¼Œé‚£å°±è¦å…ˆæ‰¾åˆ°ç¨‹åºpidï¼Œç„¶åkillã€‚æ‰¾åˆ°æ ¸å¿ƒå‘½ä»¤ï¼ˆè·å–pidï¼‰ï¼š 1ID=`ps -ef | grep "$NAME" | grep -v "grep" | grep -v kill | awk '&#123;print $2&#125;'` äºæ˜¯åˆæœŸåšä¸»è°ƒè¯•åï¼Œå†™å‡ºäº†è¿™æ ·çš„shell å¦‚æœä½ çš„è™šæœºæ˜¯rootç”¨æˆ·ï¼Œkillå‘½ä»¤ä¼šå¾ˆå¼ºå¤§ï¼Œæ‰€ä»¥ä¸€å®šåˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºç©ºæˆ–æ•°å­—ï¼Œå¦åˆ™ï¼Œåˆ†åˆ†é’ŸæŠŠä½ çš„æ‰€æœ‰è¿›ç¨‹éƒ½killï¼Œè™šæœºç¬é—´çˆ†ç‚¸ğŸ˜‚ï¼Œé‡å¤´å†æ¥ã€‚ 12345678910111213141516171819202122232425#!/bin/shNAME=$1##æ£€æŸ¥å‚æ•°ï¼Œä¸èƒ½ä¸ºç©ºæˆ–çº¯æ•°å­—,å¦åˆ™ä¼škillå‡ ä¹æ‰€æœ‰è¿›ç¨‹ï¼Œç›´æ¥æ­»æœºã€‚érootç”¨æˆ·çš„è¯ï¼Œåº”è¯¥ä¸ä¼šæ­»æœºï¼Œä¼šæŠ¥permission denied.a=`echo "$NAME" | grep [^0-9] &gt;/dev/null &amp;&amp; echo 0 || echo 1` #åˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºæ•°å­—,æ˜¯æ•°å­—åˆ™è¿”å›1ï¼Œä¸æ˜¯åˆ™è¿”å›0if [ "$NAME" == "" ]; then #$NAMEä¸€å®šè¦åŠ å¼•å·ï¼Œä¸ç„¶$NAMEä¸ºç©ºçš„æ—¶å€™å°±æˆäº†if[ == "" ],ä¼šæŠ¥é”™ï¼šunary operatorecho "æœªè¾“å…¥è¦killçš„è¿›ç¨‹å"elif [ $a = 1 ]; thenecho "è¿›ç¨‹åä¸èƒ½ä¸ºçº¯æ•°å­—"else##é‡å¯è¿›ç¨‹echo "-----------------------"echo -e "pNmae\t=\t$NAME"ID=`ps -ef | grep "$NAME" | grep -v "grep" | grep -v "restart" | awk '&#123;print $2&#125;'`echo -e "pid\t=\t$ID"echo "-----------------------"for id in $IDdokill -9 $idecho "killed $id"doneecho "-----------------------"echo "restarted" $NAME./$NAME 1&gt;/dev/null 2&gt;&amp;1 &amp;#./$NAMEfi ç„¶åé¢†å¯¼äº¤äºåšä¸»ä¸€ä»½ä¸“ä¸šçš„shellè„šæœ¬ï¼Œç¬é—´æŠŠåšä¸»çš„ä¸‰è„šçŒ«è„šæœ¬ç§’æˆæ¸£äº†ã€‚äºæ˜¯åšä¸»è®¤çœŸç ”è¯»ï¼Œæ·»åŠ æ³¨é‡Šï¼Œå¹¶ç¨ä½œä¿®æ”¹å¾—åˆ°ä»¥ä¸‹è„šæœ¬ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123#!/bin/sh# -*- coding: utf-8 -*-#Filename: server.sh.Chant#Author: Chant#Email: statuschuan@gmail.com#Date: 2017-06-03#Desc:#ç”¨é€”ï¼šè¯¥è„šæœ¬ç”¨äºåœæ­¢ã€å¯åŠ¨æœåŠ¡#ä½¿ç”¨è¯´æ˜ï¼š#å¯åŠ¨è¯¥è„šæœ¬æ—¶éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°å‡ä¸èƒ½ä¸ºç©º#ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼šç¨‹åºå…¥å£åç§°#ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼šå‚æ•°åç§°#æ³¨æ„äº‹é¡¹ï¼š#è¿œç¨‹è°ƒç”¨æ—¶ï¼Œè¯·å°†è„šæœ¬ç¯å¢ƒå˜é‡é…ç½®åˆ°/etc/bashrcæˆ–è€…ç”¨æˆ·ç›®å½•ä¸‹çš„.bashrcprint_usage()&#123; echo "Usage: $0 COMMAND" echo "where COMMAND is one of:" echo " help Help print this usage message" echo " start &lt;server_name&gt; &lt;server_param&gt; Start" echo " stop &lt;server_name&gt; &lt;server_param&gt; Stop" echo " restart &lt;server_name&gt; &lt;server_param&gt; Restart"&#125;start()&#123; #echo "start not suport now." cmd=$@ $cmd 1&gt;/dev/null 2&gt;&amp;1 &amp; #è¿™é‡Œä¸€å®šè¦å†™1&gt;/dev/null 2&gt;&amp;1 ä¸èƒ½åªå†™&amp;,å¦åˆ™è¿œç¨‹è°ƒç”¨æ—¶ï¼Œä¼šç­‰å¾…cmdçš„è¿”å›ç»“æœ(stdOut)ï¼Œå°±ä¹ˆæ³•æ„‰å¿«åœ°ç©è€äº†ã€‚&#125;stop()&#123; #get arguments SERVER_NAME=$1 SERVER_PARAM=$2 PROCESS_NAME="$1 $2" #echo $PROCESS_NAME if [ "$1" = "" ]; then echo "ç¬¬äºŒä¸ªå‚æ•°ä¸èƒ½ä¸ºç©º" exit 0; fi if [ -z "$2" ]; then echo "ç¬¬ä¸‰ä¸ªå‚æ•°ä¸èƒ½ä¸ºç©º" exit 0; fi #get process's pids pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"|awk '&#123;print $2&#125;'` #Chant:ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥è¿‡æ»¤æ‰è„šæœ¬æœ¬èº«çš„pidï¼Œå°±ä¸ç”¨å†™åé¢çš„åˆ¤æ–­è¯­å¥äº†ã€‚ #ä½†æ˜¯å…¶å®ç”¨$$è·å–å½“å‰è„šæœ¬pidåœ¨é€»è¾‘ä¸Šæ›´ä¸¥å¯†ï¼Œå¦åˆ™ï¼Œä¸‡ä¸€ä½ çš„è„šæœ¬åå’Œè¦æ“ä½œçš„ç¨‹åºåæœ‰ç›¸åŒéƒ¨åˆ†å°±ä¼šå‡ºé—®é¢˜ï¼Œ #eg: è„šæœ¬åä¸ºï¼šser.sh è€Œç¨‹åºåä¸ºï¼šposer.sh,é‚£ä¹ˆç”±äºgrep -v "$0" å°±å–ä¸åˆ°å…¶pidäº† #pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"| grep -v "$0" |awk '&#123;print $2&#125;'` # ä¸ºbasenameæŒ‡å®šä¸€ä¸ªè·¯å¾„ï¼Œbasenameå‘½ä»¤ä¼šåˆ æ‰æ‰€æœ‰çš„å‰ç¼€åŒ…æ‹¬æœ€åä¸€ä¸ªslashï¼ˆâ€˜/â€™ï¼‰å­—ç¬¦ï¼Œç„¶åå°†å­—ç¬¦ä¸²æ˜¾ç¤ºå‡ºæ¥ã€‚ #pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"| grep -v "$(basename $0)" |awk '&#123;print $2&#125;'` current_pid=$$ echo process pids is $pids. #kill process if [ -n "$pids" ]; #åˆ¤æ–­pidsæ˜¯å¦ä¸ºç©ºï¼Œå¼•å·å¿…é¡»åŠ ã€‚"$pids" == ""ç­‰æ•ˆ then for pid in $pids do #current shell pid shoud not kill. if [ $pid -ne $current_pid ]; then #check $pid is exist or not check=`ps -p $pid` if [ $? -eq 0 ]; then echo kill $pid start. kill -9 $pid #judge result if [ $? -eq 0 ]; then echo kill $pid success. else echo kill $pid fail. fi fi fi done else echo "$PROCESS_NAME does not exist." fi&#125;# get command argumentsCOMMAND=$1shift# support help commandscase $COMMAND in --help|-help|-h|help) print_usage exit 0 ;; "") print_usage exit 0 ;; "start") start $@ echo "$@ started" exit 0 ;; "stop") stop $@ exit 0 ;; "restart") start and stopçš„å‚æ•°éœ€è¦ä¸€è‡´æ‰å¯ä»¥ï¼Œå¦‚æœä¸ä¸€è‡´åˆ™éœ€è¦è°ƒæ•´å‚æ•°ä¼ å…¥æ–¹å¼ stop $@ eep 3 tart $@ echo "$@ restarted" exit 0 ;;esac Step2.javaç¨‹åºè¿œç¨‹è°ƒç”¨shell 1.å¯¼å…¥éœ€è¦ä¾èµ–çš„jaråŒ…ã€‚Javaè¿œç¨‹è°ƒç”¨Shellè„šæœ¬è¿™ä¸ªç¨‹åºéœ€è¦ganymed-ssh2-build210.jaråŒ…ã€‚é‡Œé¢è¿˜æœ‰exampleåŒ…ï¼Œæ–¹ä¾¿å­¦ä¹ ã€‚ä¸ºäº†è°ƒè¯•æ–¹ä¾¿ï¼Œå¯ä»¥å°†\ganymed-ssh2-build210\srcä¸‹çš„ä»£ç ç›´æ¥æ‹·è´åˆ°æˆ‘ä»¬çš„å·¥ç¨‹é‡Œï¼Œæ­¤æºç çš„å¥½å¤„å°±æ˜¯æ²¡æœ‰ä¾èµ–å¾ˆå¤šå…¶ä»–çš„åŒ…ï¼Œæ‹·è´è¿‡æ¥å¹²å¹²å‡€å‡€ã€‚2.å¯¼å…¥commons-ioåŒ…ï¼Œé‡Œé¢çš„IOUtilsä¼šç»å¸¸ä½¿ç”¨ã€‚ 123456789101112131415&lt;dependencies&gt; &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/ch.ethz.ganymed/ganymed-ssh2 --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.ethz.ganymed&lt;/groupId&gt; &lt;artifactId&gt;ganymed-ssh2&lt;/artifactId&gt; &lt;version&gt;build210&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3ã€ç¼–å†™RemoteShellExecutorå·¥å…·ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125package RemoteShell;import java.io.*;import java.nio.charset.Charset;import org.apache.commons.io.IOUtils;import ch.ethz.ssh2.ChannelCondition;import ch.ethz.ssh2.Connection;import ch.ethz.ssh2.Session;import ch.ethz.ssh2.StreamGobbler;/** * Created by Chant on 2017/5/27. * è¿œç¨‹è°ƒç”¨è„šæœ¬é‡å¯æœåŠ¡ */public class RemoteShellExecutor &#123; private Connection conn; /** è¿œç¨‹æœºå™¨IP */ private String ip; /** ç”¨æˆ·å */ private String osUsername; /** å¯†ç  */ private String password; private String charset = Charset.defaultCharset().toString(); private static final int TIME_OUT = 1000 * 5 * 60; /** * æ„é€ å‡½æ•° * @param ip * @param usr * @param pasword */ public RemoteShellExecutor(String ip, String usr, String pasword) &#123; this.ip = ip; this.osUsername = usr; this.password = pasword;// System.out.println(charset); &#125; /** * ç™»å½• * @return * @throws IOException */ private boolean login() throws IOException &#123; conn = new Connection(ip); conn.connect(); return conn.authenticateWithPassword(osUsername, password); &#125; /** * æ‰§è¡Œè„šæœ¬ * * @param cmds * @return * @throws Exception */ public int exec(String cmds) throws Exception &#123; InputStream stdOut = null; InputStream stdErr = null; String outStr = ""; String outErr = ""; int ret = -1; try &#123; if (login()) &#123; // Open a new &#123;@link Session&#125; on this connection Session session = conn.openSession(); // Execute a command on the remote machine. session.execCommand(cmds); stdOut = new StreamGobbler(session.getStdout()); outStr = processStream(stdOut, charset); stdErr = new StreamGobbler(session.getStderr()); outErr = processStream(stdErr, charset); session.waitForCondition(ChannelCondition.EXIT_STATUS, TIME_OUT); System.out.println("outStr=" +"\n"+ outStr); System.out.println("outErr=" +"\n"+ outErr); ret = session.getExitStatus(); &#125; else &#123; throw new Exception("ç™»å½•è¿œç¨‹æœºå™¨å¤±è´¥" + ip); // è‡ªå®šä¹‰å¼‚å¸¸ç±» å®ç°ç•¥ &#125; &#125; finally &#123; if (conn != null) &#123; conn.close(); &#125; IOUtils.closeQuietly(stdOut); IOUtils.closeQuietly(stdErr); &#125; return ret; &#125; /** * @param in * @param charset * @return * @throws IOException * @throws UnsupportedEncodingException */// private String processStream(InputStream in, String charset) throws Exception &#123;// byte[] buf = new byte[1024];// StringBuilder sb = new StringBuilder();// while (in.read(buf) != -1) &#123;// sb.append(new String(buf, charset));// &#125;// return sb.toString();// &#125; private String processStream(InputStream in, String charset)throws Exception &#123; StringBuilder sb = new StringBuilder(); BufferedReader bufr = new BufferedReader(new InputStreamReader(in,charset)); String line = null; while((line = bufr.readLine()) != null)&#123; sb.append(line); sb.append("\n");//ï¼Ÿï¼Ÿæ¢è¡Œç¬¦æ˜¯ä¾èµ–å¹³å°çš„ &#125; return sb.toString(); &#125;&#125; 4ã€Javaç¨‹åºè°ƒç”¨è¿œç¨‹Shell 1234567public static void main(String args[]) throws Exception &#123; RemoteShellExecutor("10.10.10.100", "root", "123123"); String proName = "entranceMain.sh"; String para = "1"; System.out.println(executor.exec("server.sh.Chant start " + proName +" "+ para));&#125; å°†startæ¢ä¸ºrestartï¼Œstopï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼Œæ³¨æ„pidå‘ç”Ÿå˜åŒ–ï¼Œè¯´æ˜é‡å¯æˆåŠŸã€‚ å‚è€ƒèµ„æ–™ï¼šJavaç¨‹åºè°ƒç”¨è¿œç¨‹Shellè„šæœ¬]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>shell</tag>
      </tags>
  </entry>
</search>