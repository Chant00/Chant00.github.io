<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ç›–èŒ¨æŽ¨èçš„ä¸€å ‚30åˆ†é’Ÿçš„ç»æµŽå­¦]]></title>
    <url>%2F2017%2F07%2F29%2Feconomic%2F</url>
    <content type="text"><![CDATA[â€œThis knowledge would help everyone as investors and citizens. Watching is a worthwhile 30 minutes investment.â€ â€“Bill Gates ç»æµŽåˆ°åº•ç”±ä»€ä¹ˆé©±åŠ¨ï¼Ÿæ”¿åºœè°ƒæŽ§åˆ©çŽ‡æ˜¯å¦‚ä½•å½±å“ç»æµŽçš„ï¼Ÿå¤®è¡Œå¢žå‘è´§å¸åˆæ˜¯ä¸ºå“ªèˆ¬ï¼Ÿç»æµŽå‘¨æœŸä»Žä½•è€Œæ¥ï¼Ÿç»æµŽè¡°é€€å’Œç»æµŽè§æ¡æ˜¯ä¸€ä¸ªç‰©ç§å—ï¼Ÿä¿¡è´·åˆ°åº•æ˜¯å•¥ï¼Ÿé’±åŽŸæ¥å¤§éƒ¨åˆ†æ˜¯ä¿¡è´·ï¼Ÿä»·æ ¼åˆ°åº•æ€Žä¹ˆç®—ï¼Ÿ30åˆ†é’Ÿï¼Œå¸¦ä½ äº†è§£ç»æµŽå¼•æ“Žçš„è¿è¡ŒåŽŸç†ï¼ŒçœŸæ­£çš„ç»æµŽå­¦è¿œæ¯”ä½ å¿˜å¾—å¹²å¹²å‡€å‡€çš„æ•™ç§‘ä¹¦è¦ç®€å•æœ‰è¶£ä¸”ç²¾å¦™çš„å¤šã€‚ ç»æµŽä¸­ï¼Œæ”¿åºœç”±ä¸­å¤®æ”¿åºœå’Œä¸­å¤®é“¶è¡Œç»„æˆï¼Œé’±ç”±é’±å’Œä¿¡è´·ç»„æˆã€‚ å¤®è¡Œè°ƒæŽ§åˆ©çŽ‡æ˜¯å¦‚ä½•å¯¹ç»æµŽäº§ç”Ÿå½±å“çš„ï¼Ÿ å¢žåŠ åˆ©çŽ‡ï¼Œå€Ÿè´·æˆæœ¬ä¸Šå‡ï¼Œä¿¡è´·å‡å°‘ï¼Œé€šè´§ç´§ç¼©ã€‚é™ä½Žåˆ©çŽ‡ï¼Œå€Ÿè´·æˆæœ¬ä¸‹é™ï¼Œä¿¡è´·å¢žå¤šï¼Œé€šè´§è†¨èƒ€ã€‚ æ”¿åºœåˆæ˜¯ç”¨å“ªäº›åŠžæ³•è°ƒæŽ§ç»æµŽè¿è¡ŒçŠ¶å†µçš„ï¼Ÿ æ”¿åºœçš„å››å¤§æ³•å®ï¼š1ï¼‰è´¢å¯Œè½¬ç§»ï¼ˆå‘å¯Œäººå¢žç¨Žï¼Œå‘ç©·äººå‘æ”¾æ•‘æµŽé‡‘ï¼‰2ï¼‰å€ºåŠ¡é‡ç»„3ï¼‰å€Ÿè´·ï¼ˆå‘è¡Œå›½å€ºï¼‰4ï¼‰å¢žå‘é’žç¥¨ ç»æµŽå‘¨æœŸç»æµŽçš„ä¸Šä¸‹èµ·ä¼æ˜¯ç”±å€ºåŠ¡çš„æ³¢åŠ¨å¼•èµ· å€ºåŠ¡çš„æ³¢åŠ¨æœ‰ä¸¤å¤§å‘¨æœŸçŸ­æœŸï¼ŒæŒç»­å¤§çº¦5-8å¹´é•¿æœŸï¼Œå¤§çº¦æŒç»­75-100å¹´ è¿˜è®°å¾—æ›¾ä»Šç«çˆ†çš„å¦–ä¹¦ã€Šè´§å¸æˆ˜äº‰ã€‹ï¼Œé‡Œé¢çš„ä¸€æ®µè¯ï¼Œå¤§æ„æ˜¯ï¼šå¤§è§æ¡æ—¶æœŸï¼Œå…¨ä¸–ç•Œéƒ½åœ¨äºé’±ï¼Œé’±ä¸èƒ½å‡­ç©ºæ¶ˆå¤±å§ï¼Ÿé‚£ä¹ˆæ€»æœ‰ä¸ªäººèµšäº†ï¼ŒäºŽæ˜¯ä¹¦é‡Œå¼•å‡ºäº†è¢«ç¥žåŒ–çš„ç½—æ–¯æŸ´å°”å¾·å®¶æ—ã€‚çœ‹å®Œè¿™ä¸ªè§†é¢‘å—ï¼Œä½ ä¼šæ˜Žç™½ï¼ŒåŽŸæ¥çŽ°å®žç”Ÿæ´»ä¸­æ‰€è°“çš„é’±å®žé™…ä¸Šç”±â€é’±+ä¿¡è´·â€œç»„æˆï¼Œä¸”å¤§éƒ¨åˆ†éƒ½æ˜¯ä¿¡è´·ï¼Œè€Œä¿¡è´·æ˜¯å¯ä»¥å‡­ç©ºäº§ç”Ÿå’Œæ¶ˆå¤±çš„ï¼Œè§æ¡ä¸­æ¶ˆå¤±çš„é’±ï¼Œä¸è¿‡æ˜¯ä¸ŠåŠä¸ªç»æµŽå‘¨æœŸä¸­å¤§å®¶é€šè¿‡å€Ÿè´·æå‰æ¶ˆè´¹äº†ã€‚è¿™ä¸ªæ—¶ä»£ï¼Œå„ç§ç –å®¶æ¶ŒçŽ°ï¼Œå¦‚ä½•é¿å…æŸäº›ä¸“å®¶çš„å¿½æ‚ ï¼Ÿåªæœ‰è‡ªå·±åŽ»äº†è§£è¿™äº›é¢†åŸŸçš„çœŸæ­£çš„åŸºå±‚åŽŸç†ï¼Œé‚£äº›å¾ˆç®€å•å´æ˜¯æœ€åŽŸæœ¬çš„ä¸”ä¸èƒ½è¢«è¿èƒŒçš„åŽŸç†ï¼Œä»¥æ­¤æ­¦è£…è‡ªå·±çš„å¤§è„‘ï¼Œæ‰èƒ½é¿å…è¢«ç –å®¶æ®´æ‰“ä½ çš„æ™ºå•†ã€‚ å‚è€ƒèµ„æ–™ HOW THE ECONOMIC MACHINE WORKSâ€“è§†é¢‘å®˜ç½‘ï¼Œé¡ºä¾¿è¯´ä¸€å¥ï¼Œä¸ç”¨ç¿»å¢™ï¼Œä¸”æœ‰ä¸­æ–‡ç‰ˆ]]></content>
      <categories>
        <category>çœ¼ç•Œ</category>
      </categories>
      <tags>
        <tag>Economic</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hive--å®‰è£…æµ‹è¯•]]></title>
    <url>%2F2017%2F07%2F11%2F2017-07-11%2F</url>
    <content type="text"><![CDATA[hiveçš„ä¸‰ç§æ¨¡å¼ç®€ä»‹åŠå…¶æ­å»ºæµ‹è¯•ã€‚ Hiveçš„ä¸‰ç§æ¨¡å¼localæ¨¡å¼ã€‚æ­¤æ¨¡å¼è¿žæŽ¥åˆ°ä¸€ä¸ªIn-memory çš„æ•°æ®åº“Derbyï¼Œä¸€èˆ¬ç”¨äºŽUnit Testã€‚ Hiveå•ç”¨æˆ·æ¨¡å¼é€šè¿‡ç½‘ç»œè¿žæŽ¥åˆ°ä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œæ˜¯æœ€ç»å¸¸ä½¿ç”¨åˆ°çš„æ¨¡å¼ã€‚ Pre: å¯åŠ¨é›†ç¾¤è§„åˆ’node01ï¼šMySQLnode01ï¼šHive å®¢æˆ·ç«¯ï¼ˆå…¶å®žæœ¬æ¥è¯¥ç”¨node02ï¼Œä¸€æ—¶å¤±è¯¯ï¼Œä½†æ˜¯ä¸å½±å“ç»ƒä¹ ï¼‰123456789101112131415161.å¯åŠ¨Zookeeper[root@node02 ~]# zkServer.sh start[root@node03 ~]# zkServer.sh start[root@node03 ~]# zkServer.sh statusJMX enabled by defaultUsing config: /opt/sxt/zookeeper-3.4.6/bin/../conf/zoo.cfgMode: leader# zookeeperçš„è¿‡åŠæœºåˆ¶[root@node04 ~]# zkServer.sh start2.å¯åŠ¨Hdfs[root@node01 ~]# start-dfs.sh3.å¯åŠ¨ Yarn[root@node01 ~]# start-yarn.shå•ç‹¬å¯åŠ¨Resourcemanager[root@node03 ~]# yarn-daemon.sh start resourcemanager[root@node04 ~]# yarn-daemon.sh start resourcemanager 1.å®‰è£…MySQL server12345[root@node01 ~]# yum install mysql-serverå¯åŠ¨mysql[root@node01 ~]# service mysqld startå¼€æœºå¯åŠ¨[root@node01 ~]# chkconfig mysqld on 2.MySQLé…ç½®ç™»å½•mysqlä¿®æ”¹æƒé™12345678910111213141516171819202122232425262728293031321ï¼‰è¿›å…¥åˆ°mysqlçš„consoleï¼š[root@node01 ~]# mysqlmysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || test |+--------------------+3 rows in set (0.00 sec)2ï¼‰é€‰æ‹©mysqlæ•°æ®åº“mysql&gt; use mysqlmysql&gt; show tables; mysql&gt; select host, user from user;3ï¼‰æŠŠæ‰€æœ‰åº“`*`ä¸‹çš„æ‰€æœ‰è¡¨`.*`çš„æƒé™éƒ½ç»™äº†rootç”¨æˆ·ï¼Œå¯ä»¥ä»Žä»»ä½•åœ°æ–¹è®¿é—®`%`ï¼Œå¯†ç æ˜¯123ã€‚mysql&gt; GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%&apos; IDENTIFIED BY &apos;123&apos; WITH GRANT OPTION;4ï¼‰å®šåˆ é™¤å¤šä½™ä¼šå¯¹æƒé™é€ æˆå½±å“çš„æ•°æ®mysql&gt; delete from mysql.user where host != &apos;%&apos;;mysql&gt; select user, host, password from mysql.user;+------+------+-------------------------------------------+| user | host | password |+------+------+-------------------------------------------+| root | % | *23AE809DDACAF96AF0FD78ED04B6A265E05AA257 |+------+------+-------------------------------------------+1 row in set (0.00 sec)5ï¼‰åˆ·æ–°æƒé™å¹¶é€€å‡ºmysql&gt; flush privileges;mysql&gt; exit6)ä½¿ç”¨å¯†ç é‡æ–°ç™»å½•[root@node01 ~]# mysql -u root -pEnter password:è¿™é‡Œè¾“å…¥å¯†ç  3.hiveéƒ¨ç½²ä¸Šä¼ hiveéƒ¨ç½²åŒ…å¹¶è§£åŽ‹123$ scp /Users/Chant/Documents/å¤§æ•°æ®0627/hive/apache-hive-1.2.1-bin.tar.gz root@node01:/root[root@node01 ~]# tar -zxvf apache-hive-1.2.1-bin.tar.gz -C /opt/[root@node01 opt]# mv apache-hive-1.2.1-bin/ hive-1.2.1 é…ç½®çŽ¯å¢ƒå˜é‡å¹¶ç”Ÿæ•ˆ1234[root@node01 hive-1.2.1]# vi /etc/profileexport HIVE_HOME=/opt/hive-1.2.1export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_PREFIX/bin:$HADOOP_PREFIX/sbin:$HIVE_HOME/bin[root@node01 hive-1.2.1]# . /etc/profile 1234[root@node01 hive-1.2.1]# cd conf/[root@node01 conf]# mv hive-default.xml.template hive-site.xml[root@node01 conf]# vi hive-site.xmlç”¨:.,$-1dåˆ é™¤é»˜è®¤çš„é…ç½® å†™å…¥ä»¥ä¸‹é…ç½®1234567891011121314151617181920212223242526272829&lt;property&gt; &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; &lt;value&gt;/user/hive_remote/warehouse&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hive.metastore.local&lt;/name&gt; &lt;value&gt;true&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; &lt;value&gt;jdbc:mysql://localhost/hive_remote?createDatabaseIfNotExist=true&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; &lt;value&gt;root&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; &lt;value&gt;123&lt;/value&gt; &lt;/property&gt; ä¸Šä¼ mysqlé©±åŠ¨å¹¶æ”¾åˆ°hiveçš„libç›®å½•ä¸‹12$ scp /Users/Chant/Documents/å¤§æ•°æ®0627/hive/mysql-connector-java-5.1.32-bin.jar root@node01:/root[root@node01 ~]# mv mysql-connector-java-5.1.32-bin.jar /opt/hive-1.2.1/lib/ æ­¤æ—¶å¯åŠ¨hiveçš„è¯ä¼šæŠ¥é”™ï¼ŒjlineåŒ…ä¸å…¼å®¹ï¼Œå¯ä»¥åŽ»çœ‹ä¸€ä¸‹hadoopä¸‹çš„jlineåŒ…ä¸Žhiveçš„jlineåŒ…ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œæ‰€ä»¥éœ€è¦ç”¨é«˜ç‰ˆæœ¬æ›¿æ¢ä½Žç‰ˆæœ¬ã€‚ 1234[root@node01 lib]# cd /opt/sxt/hadoop-2.6.5/share/hadoop/yarn/lib[root@node01 lib]# rm -f jline-0.9.94.jar[root@node01 lib]# cp /opt/hive-1.2.1/lib/jline-2.12.jar ./[root@node01 lib]# ls jline-2.12.jar æŽ¥ç€å¯åŠ¨hiveæˆåŠŸã€‚å¯ä»¥åšä¸€äº›ç»ƒä¹ æµ‹è¯•ã€‚12345678hive&gt; show tables;hive&gt; create table tbl (id int, name string);hive&gt; show tables;å¤§éƒ¨åˆ†è¯­å¥éƒ½ä¼šè½¬æˆMapReduceæ¥è¿è¡Œã€‚hive&gt; insert into tbl values (1,&apos;xiaoming&apos;);hive&gt; select count(*) from tbl;select * fromä¸ä¼šè½¬æˆMapReduceï¼Œå› ä¸ºå®ƒåªéœ€è¦è¯»å–ï¼Œæ²¡æœ‰è®¡ç®—ã€‚hive&gt; select * from tbl; è®¿é—®node01:50070å¯ä»¥çœ‹åˆ°ä¹‹å‰é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„&lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; &lt;value&gt;/user/hive_remote/warehouse&lt;/value&gt; åœ¨hdfsä¸­åˆ›å»ºäº†è¿™ä¸ªç›®å½•ï¼Œå¹¶ç”¨äºŽå­˜å‚¨æˆ‘ä»¬åˆ›å»ºçš„è¡¨æ•°æ®ã€‚ å•ç”¨æˆ·æ¨¡å¼ï¼Œå…ƒæ•°æ®å­˜å‚¨åœ¨mysqlä¸­,å¯ä»¥è¿žæŽ¥æ•°æ®åº“æŸ¥çœ‹ä¸€ä¸‹ã€‚ Hiveå¤šç”¨æˆ·æ¨¡å¼è¿œç¨‹æœåŠ¡å™¨æ¨¡å¼ã€‚ç”¨äºŽéžJavaå®¢æˆ·ç«¯è®¿é—®å…ƒæ•°æ®åº“ï¼Œåœ¨æœåŠ¡å™¨ç«¯å¯åŠ¨MetaStoreServerï¼Œå®¢æˆ·ç«¯åˆ©ç”¨Thriftåè®®é€šè¿‡MetaStoreServerè®¿é—®å…ƒæ•°æ®åº“ã€‚ è§„åˆ’node01ï¼šMySQLnode03ï¼šMetaStore Servernode04ï¼šHive å®¢æˆ·ç«¯ Preä¸Šä¼ hiveéƒ¨ç½²åŒ…åˆ°node03å’Œnode04å¹¶è§£åŽ‹1234$ scp /Users/Chant/Documents/å¤§æ•°æ®0627/hive/apache-hive-1.2.1-bin.tar.gz root@node03:/root$ scp /Users/Chant/Documents/å¤§æ•°æ®0627/hive/apache-hive-1.2.1-bin.tar.gz root@node04:/rootroot@node03 ~]# tar -zxvf apache-hive-1.2.1-bin.tar.gz -C /opt/[root@node04 ~]# tar -zxvf apache-hive-1.2.1-bin.tar.gz -C /opt/ ä¸¤å°ä¸Šéƒ½ä¿®æ”¹çŽ¯å¢ƒå˜é‡å¹¶ç”Ÿæ•ˆ1234[root@node03 hive-1.2.1]# vi /etc/profileexport HIVE_HOME=/opt/hive-1.2.1export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_PREFIX/bin:$HADOOP_PREFIX/sbin:$ZOOKEEPER_PREFIX/bin:$HIVE_HOME/bin[root@node03 hive-1.2.1]# source /etc/profile æœåŠ¡ç«¯é…ç½®ä¿®æ”¹Hiveé…ç½® 123[root@node03 hive-1.2.1]# cd conf[root@node03 conf]# cp hive-default.xml.template hive-site.xml[root@node03 conf]# vi hive-site.xml åˆ é™¤åŽŸæœ‰çš„configurationï¼Œä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹123456789101112131415161718192021222324&lt;property&gt; &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; &lt;value&gt;/user/hive/warehouse&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; &lt;value&gt;jdbc:mysql://node01:3306/hive?createDatabaseIfNotExist=true&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; &lt;value&gt;root&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; &lt;value&gt;123&lt;/value&gt; &lt;/property&gt; ä¸Šä¼ é©±åŠ¨åˆ°node03å¹¶æ”¾åˆ°hiveçš„libç›®å½•ä¸‹12$ scp /Users/Chant/Documents/å¤§æ•°æ®0627/hive/mysql-connector-java-5.1.32-bin.jar root@node03:/root[root@node03 conf]# cp /root/mysql-connector-java-5.1.32-bin.jar ../lib/ å¯åŠ¨hiveæœåŠ¡ç«¯1[root@node03 lib]# hive --service metastore å¯ä»¥çœ‹åˆ°æœåŠ¡ç«¯çš„9083ç«¯å£å·²ç»å¯åŠ¨ã€‚ å®¢æˆ·ç«¯é…ç½®12[root@node04 conf]# mv hive-default.xml.template hive-site.xml[root@node04 conf]# vi hive-site.xml .,$-1dåˆ é™¤åŽŸæœ‰çš„configurationï¼Œä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ 1234567891011121314&lt;property&gt; &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; &lt;value&gt;/user/hive/warehouse&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hive.metastore.local&lt;/name&gt; &lt;value&gt;false&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hive.metastore.uris&lt;/name&gt; &lt;value&gt;thrift://node03:9083&lt;/value&gt; &lt;/property&gt; åŒæ ·çš„ï¼Œæ­¤æ—¶å¦‚æžœå¯åŠ¨å®¢æˆ·ç«¯ä¼šæŠ¥é”™java.lang.IncompatibleClassChangeError: Found class jline.Terminalï¼Œæ‰€ä»¥åŽ»æ›¿æ¢hadoopçš„jlineã€‚ 123[root@node04 lib]# cp jline-2.12.jar /opt/sxt/hadoop-2.6.5/share/hadoop/yarn/lib/[root@node04 lib]# cd /opt/sxt/hadoop-2.6.5/share/hadoop/yarn/lib/[root@node04 lib]# rm -f jline-0.9.94.jar è¿™æ—¶å€™å°±å¯ä»¥å¯åŠ¨hiveäº†ï¼Œåšç‚¹ç®€å•çš„ç»ƒä¹ æµ‹è¯•ã€‚ 123456[root@node04 lib]# hivehive&gt; show tables;hive&gt; create table tbl (id int, name string);hive&gt; desc tbl;hive&gt; insert into tbl values (1,&apos;zhangsan&apos;);hive&gt; select * from tbl; è¿žæŽ¥æ•°æ®åº“ï¼Œåˆ·æ–°ï¼Œå› ä¸ºæˆ‘ä»¬é…ç½®çš„&lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; &lt;value&gt;jdbc:mysql://node01:3306/hive?createDatabaseIfNotExist=true&lt;/value&gt;æ‰€ä»¥èƒ½çœ‹åˆ°å¤šäº†ä¸€ä¸ªhiveæ•°æ®åº“ï¼Œå†…å®¹å’Œå•ç”¨æˆ·æ¨¡å¼ä¸‹ä¸€æ ·ï¼Œèƒ½æ‰¾åˆ°TBLSå’ŒCOLUMNS_V2ã€‚è®¿é—®http://node01:50070/ å¯ä»¥çœ‹åˆ°è¡¨æ•°æ®å­˜åœ¨hdfsä¸­ã€‚]]></content>
      <categories>
        <category>Bigdata</category>
        <category>Hive</category>
      </categories>
      <tags>
        <tag>Bigdata</tag>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hive--DDLå’ŒDMLç»ƒä¹ ]]></title>
    <url>%2F2017%2F07%2F11%2F2017-07-12%2F</url>
    <content type="text"><![CDATA[hiveçš„ä¸‰ç§æ¨¡å¼ç®€ä»‹åŠå…¶æ­å»ºæµ‹è¯•ã€‚ è¯­æ³•å‚è€ƒHIveå®˜ç½‘ DDLï¼ˆHive Data Definition Languageï¼‰å‡†å¤‡æµ‹è¯•æ•°æ®äººå‘˜è¡¨:idã€nameã€likesçˆ±å¥½ã€addressåœ°å€123456781,xiaoming1,book-lol-lanqiu,beijing:xisanqi-shanghai:lujiazui2,xiaoming2,book-lol-lanqiu,beijing:xisanqi-shanghai:lujiazui-huoxing:xx3,xiaoming3,book-lol-lanqiu,beijing:xisanqi-huoxing:xx4,xiaoming4,book-lol-lanqiu,beijing:xisanqi-shanghai:lujiazui-huoxing:xx5,xiaoming5,booklanqiu,beijing:xisanqi-shanghai:lujiazui-huoxing:xx6,xiaoming6,book-lol-lanqiu,beijing:xisanqi-shanghai:lujiazui-huoxing:xx7,xiaoming7,book-lol-lanqiu,beijing:xisanqi-shanghai:lujiazui-huoxing:xx8,xiaoming8,book-lol,beijing:xisanqi-shanghai:lujiazui-huoxing:xx é»˜è®¤ä¸ºå†…éƒ¨è¡¨/MANAGEDåˆ é™¤å†…éƒ¨è¡¨ï¼Œæ•°æ®å°±ä¼šä»Žhdfsåˆ é™¤ã€‚123456789101112create table psn0 (id int,name string,likes ARRAY&lt;string&gt;,address MAP&lt;string,string&gt;)ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' COLLECTION ITEMS TERMINATED BY '-' MAP KEYS TERMINATED BY ':';-- åŠ è½½æ•°æ®åˆ°è¡¨LOAD DATA LOCAL inpath '/root/data' INTO TABLE psn0ï¼› å¤–éƒ¨è¡¨/EXTERNALåˆ é™¤å¤–éƒ¨è¡¨åªåˆ é™¤metastoreçš„å…ƒæ•°æ®ï¼Œä¸åˆ é™¤hdfsä¸­çš„è¡¨æ•°æ®ã€‚å› ä¸ºå¤–éƒ¨è¡¨ç”±hdfsç®¡ç†ï¼Œhiveå¯ä»¥å¢žåˆ æ”¹æŸ¥ï¼Œä½†æ˜¯æ— æ³•å°†åº•å±‚æ•°æ®åˆ é™¤ã€‚1234567891011create external table psn1(id int,name string,likes ARRAY&lt;string&gt;,address MAP&lt;string,string&gt;)ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;,&apos;COLLECTION ITEMS TERMINATED BY &apos;-&apos;MAP KEYS TERMINATED BY &apos;:&apos;LOCATION &apos;/psn1&apos;; åˆ†åŒºè¡¨åˆ†åŒºè¡¨çš„æ„ä¹‰åœ¨äºŽä¼˜åŒ–æŸ¥è¯¢ã€‚æŸ¥è¯¢æ—¶å°½é‡åˆ©ç”¨åˆ†åŒºå­—æ®µã€‚å¦‚æžœä¸ä½¿ç”¨åˆ†åŒºå­—æ®µï¼Œå°±ä¼šå…¨éƒ¨æ‰«æåˆ›å»ºåˆ†åŒºè¡¨ï¼ˆé¡ºä¾¿è¯´ï¼Œsqlä¸åŒºåˆ†å¤§å°å†™ï¼‰åˆ†åŒºå°±ç›¸å½“äºŽåˆ†ç›®å½•ï¼ŒåŽé¢è¿˜ä¼šæœ‰åˆ†æ¡¶ï¼Œåˆ†æ¡¶ç›¸å½“äºŽåˆ†æ–‡ä»¶ã€‚åˆ†åŒºçš„é¡ºåºå³åˆ›å»ºæ—¶ç»™å®šåˆ†åŒºçš„é¡ºåºï¼Œä¹Ÿå°±æ˜¯è¯´ä¸‹é¢çš„è¯­å¥ä¼šåˆ›å»ºä¸€ä¸ªsexç›®å½•ï¼Œsexç›®å½•ä¸‹åˆ›å»ºageç›®å½•ã€‚åˆ é™¤sexå°±ä¼šæŠŠageä¹Ÿåˆ é™¤æŽ‰ã€‚1234567891011121314151617181920212223242526272829CREATE TABLE psn3( id int, name string, likes ARRAY&lt;string&gt;, address MAP&lt;string,string&gt;)PARTITIONED BY (sex string, age int)ROW format delimitedfields TERMINATED BY &apos;,&apos;COLLECTION items TERMINATED BY &apos;-&apos;map keys terminated BY &apos;:&apos;;-- æŸ¥è¯¢è¡¨çš„åˆ†åŒºä¿¡æ¯SHOW PARTITIONS psn3;-- åŠ è½½æ•°æ®åˆ°åˆ†åŒºè¡¨(é™æ€åˆ†åŒº)å½“æ•°æ®è¢«åŠ è½½è‡³è¡¨ä¸­æ—¶ï¼Œä¸ä¼šå¯¹æ•°æ®è¿›è¡Œä»»ä½•è½¬æ¢ã€‚Loadæ“ä½œåªæ˜¯å°†æ•°æ®å¤åˆ¶è‡³Hiveè¡¨å¯¹åº”çš„ä½ç½®ã€‚æ•°æ®åŠ è½½æ—¶åœ¨è¡¨ä¸‹è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç›®å½•-- è¿™é‡Œä¼šåœ¨æ•°æ®æœ«å°¾å†æ·»åŠ sexå’Œageå­—æ®µä¸”å…¨éƒ½æ˜¯maleå’Œ90LOAD DATA LOCAL inpath &apos;/root/data&apos; INTO TABLE psn3 PARTITION (sex=&apos;male&apos;, age=90);-- åˆ†åŒºå¿…é¡»éƒ½èµ‹å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™hive&gt; load data local inpath &apos;/root/data&apos; into table psn3 partition (sex=&apos;girl&apos;);-- FAILED: SemanticException [Error 10006]: Line 1:63 Partition not found &apos;&apos;girl&apos;&apos;-- ä¿®æ”¹åˆ†åŒºæµ‹è¯•-- æ·»åŠ åˆ†åŒºï¼Œå³æ·»åŠ ä¸€ä¸ªç©ºç›®å½•ALTER TABLE psn3 add PARTITION (sex=&apos;male&apos;,age=1);-- åˆ é™¤åˆ†åŒºALTER TABLE psn3 DROP PARTITION (sex = &apos;male&apos;, age = 1);-- åˆ é™¤åˆ†åŒºå°±ç›¸å½“äºŽåˆ é™¤ç›®å½•ALTER TABLE psn3 DROP PARTITION (sex = &apos;male&apos;);-- å½“è¡¨ä¸­åªå‰©sex=maleï¼Œage=1çš„æ•°æ®æ—¶ï¼Œåˆ é™¤ageä¼šå°†maleç›®å½•ä¹Ÿåˆ é™¤ã€‚ALTER TABLE psn3 drop PARTITION (age=1); åœ¨å¤–éƒ¨è¡¨ä¸­åˆ é™¤åˆ†åŒºï¼Œæ•°æ®æ˜¯å¦ä¼šä¸¢å¤±?èªæ˜Žçš„ä½ åº”è¯¥æƒ³åˆ°äº†ï¼Œç­”æ¡ˆæ˜¯ä¸ä¼šã€‚1234567891011121314151617create external table psn4(id int,name string,likes ARRAY&lt;string&gt;,address MAP&lt;string,string&gt;)PARTITIONED BY (sex string, age int)ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;,&apos;COLLECTION ITEMS TERMINATED BY &apos;-&apos;MAP KEYS TERMINATED BY &apos;:&apos;LOCATION &apos;/psn4&apos;;-- ä¸‹é¢çš„sqlä¼šå°†psn1ä¸‹çš„dataæ–‡ä»¶ç§»åˆ°psn4è¡¨ä¸­ï¼Œå¯¼è‡´psn1ä¸­æ— æ•°æ®ã€‚LOAD DATA inpath &apos;/psn1/data&apos; INTO TABLE psn4 PARTITION (sex=&apos;male&apos;, age=40);LOAD DATA inpath &apos;/user/hive/warehouse/psn0/data&apos; INTO TABLE psn4 PARTITION (sex=&apos;female&apos;, age=28);-- åˆ é™¤å¤–éƒ¨è¡¨åˆ†åŒºï¼Œå‘çŽ°ä¾æ—§åªæ˜¯åˆ é™¤å¯¹åº”çš„metastoreçš„å…ƒæ•°æ®ï¼Œhdfsä¸­çš„æ•°æ®ä¸ä¼šåˆ é™¤ã€‚ALTER TABLE psn4 DROP PARTITION (sex = &apos;male&apos;); å¦å¤–ä¸¤ç§å»ºè¡¨æ–¹å¼12345678CREATE TABLE psn5 like psn0;CREATE TABLE psn6 AS SELECT id, likes FROM psn4;CREATE TABLE res2( countLine int);FROM psn4 INSERT INTO TABLE res SELECT count(*); ç”±äºŽåˆ é™¤å¤–éƒ¨è¡¨ä¸ä¼šåˆ é™¤hdfsä¸­çš„æ•°æ®ï¼Œå¦‚æžœå†æ¬¡æ‰§è¡Œå»ºè¡¨è¯­å¥ï¼ŒåŽŸæ¥çš„æ•°æ®è‡ªç„¶å°±å¯¼å…¥åˆ°è¡¨é‡Œäº†ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æžœä½ çš„hdfsä¸­åŽŸæœ¬æœ‰ä¸€å¼ è¡¨ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨åˆ›å»ºå¤–éƒ¨è¡¨çš„æ–¹å¼å°†å…¶ç›´æŽ¥å¯¼å…¥hiveã€‚ä¸Šä¼ ç›¸åŒæ–‡ä»¶æˆ–åŒåæ–‡ä»¶data3ï¼Œhdfsä¸­å­˜å‚¨çš„æ–‡ä»¶ä¼šå¤åˆ¶ä¸€ä»½ï¼Œä¸ä¼šè¦†ç›–ã€‚ DML]]></content>
      <categories>
        <category>Bigdata</category>
        <category>Hive</category>
      </categories>
      <tags>
        <tag>Bigdata</tag>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HADOOP--yarnè¯¦è§£åŠé…ç½®æµ‹è¯•]]></title>
    <url>%2F2017%2F07%2F06%2FyarnTest%2F</url>
    <content type="text"><![CDATA[YARNï¼šYet Another Resource Negotiator Clienté€šè¿‡RS(ResourceManager)æ¥æäº¤ä½œä¸šï¼ŒRSé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹åˆ›å»ºAppMasterè¿›ç¨‹ï¼ŒAppMasterå¯åŠ¨åŽå‘RSç”³è¯·èµ„æºï¼ˆç”³è¯·Containerï¼‰ï¼Œç„¶åŽRSåŽ»é€šçŸ¥NodeManageræ¥å¯åŠ¨Containerè¿›ç¨‹ï¼Œç„¶åŽAppMasterå‘Containeråˆ†å‘ä»»åŠ¡ï¼ˆæ¯”å¦‚è®©å®ƒåå°„å“ªä¸ªç±»ï¼‰ã€‚å³ä»»åŠ¡è°ƒåº¦ï¼ˆä»»åŠ¡è¿è¡Œçš„å…ˆåŽé¡ºåºï¼Œé‡è¯•æœºåˆ¶ï¼‰ã€ä»»åŠ¡ç›‘æŽ§å’Œå®¹é”™ç­‰ç”±AppMasteræ¥å®Œæˆï¼Œèµ„æºï¼ˆæ¯ä¸ªèŠ‚ç‚¹ç¡¬ä»¶èµ„æºï¼ŒContainerä¹Ÿæ˜¯èµ„æºï¼‰ç®¡ç†å…¨éƒ¨äº¤ç»™RSç®¡ç†ã€‚ å›¾ä¸­çš„å®¢æˆ·ç«¯æäº¤äº†ä¸¤ä¸ªä½œä¸šï¼Œæ¯ä¸ªä½œä¸šéƒ½æœ‰è‡ªå·±çš„AppMasterï¼Œå…¶ä¸­ä¸€ä¸ªAppMasteræ­»äº†ä¸ä¼šå½±å“å¦ä¸€ä¸ªAppMasterï¼Œä»»åŠ¡è°ƒåº¦ä¸æ˜¯å•ç‚¹è¿è¡Œï¼Œä¸€ä¸ªä»»åŠ¡æ•…éšœä¸ä¼šå½±å“å¦ä¸€ä¸ªä»»åŠ¡ï¼Œå…¶å®žï¼ŒAppMasterä¹Ÿæ˜¯ä¸€ç§Containerï¼Œå…¶å®¹é”™æœºåˆ¶ä¸ºï¼šå¦‚æžœAppMasteræŒ‚äº†ï¼ŒMRä¼šå¦èµ·ä¸€ä¸ªAppMasterã€‚è§£å†³äº†1.0é‡Œé¢çš„jobTrackerè´Ÿè½½è¿‡é‡ï¼Œå•ç‚¹æ•…éšœé—®é¢˜ã€‚ä¸‹å›¾æ˜¯sparkæäº¤ä½œä¸šåˆ°yarnæµç¨‹å›¾ï¼Œç»™ä»¥åŽçš„sparkç¬”è®°åšä¸ªé“ºåž«å§ã€‚ æ­å»ºyarn1234567[root@node01 hadoop]# vi mapred-site.xml&lt;configuration&gt; &lt;property&gt; &lt;name&gt;mapreduce.framework.name&lt;/name&gt; &lt;value&gt;yarn&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; 12345678910111213141516171819202122232425262728293031323334[root@node01 hadoop]# vi yarn-site.xml&lt;configuration&gt;&lt;!-- Site specific YARN configuration properties --&gt; &lt;property&gt; &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt; &lt;value&gt;mapreduce_shuffle&lt;/value&gt; &lt;/property&gt;&lt;property&gt; &lt;name&gt;yarn.resourcemanager.ha.enabled&lt;/name&gt; &lt;value&gt;true&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.cluster-id&lt;/name&gt; &lt;value&gt;cluster1&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.ha.rm-ids&lt;/name&gt; &lt;value&gt;rm1,rm2&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.hostname.rm1&lt;/name&gt; &lt;value&gt;node03&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.hostname.rm2&lt;/name&gt; &lt;value&gt;node04&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.zk-address&lt;/name&gt; &lt;value&gt;node02:2181,node03:2181,node04:2181&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; åˆ†å‘é…ç½®åˆ°é›†ç¾¤ã€‚12root@node01 hadoop]# scp mapred-site.xml yarn-site.xml node02:`pwd`#node03å’Œnode04åŒç† node01ä¸Šå¯åŠ¨yarnã€‚nodemanagerä¼šå¯åŠ¨ã€‚1234567[root@node01 hadoop]# start-yarn.shstarting yarn daemonsstarting resourcemanager, logging to /opt/sxt/hadoop-2.6.5/logs/yarn-root-resourcemanager-node01.outnode04: starting nodemanager, logging to /opt/sxt/hadoop-2.6.5/logs/yarn-root-nodemanager-node04.outnode02: starting nodemanager, logging to /opt/sxt/hadoop-2.6.5/logs/yarn-root-nodemanager-node02.outnode03: starting nodemanager, logging to /opt/sxt/hadoop-2.6.5/logs/yarn-root-nodemanager-node03.out[root@node01 hadoop]# ä½†æ˜¯yarnmanagerä¸ä¼šï¼Œéœ€è¦zai node03å’Œnode04ä¸Šå•ç‹¬å¯åŠ¨ã€‚è®°å¾—jpséªŒè¯ä¸€ä¸‹ã€‚12345678910[root@node03 etc]# yarn-daemon.sh start resourcemanagerstarting resourcemanager, logging to /opt/sxt/hadoop-2.6.5/logs/yarn-root-resourcemanager-node03.out[root@node03 etc]# jps1703 QuorumPeerMain3316 ResourceManager3540 Jps2748 JournalNode3178 NodeManager2668 DataNode# node04åŒç† è®¿é—®http://node03:8088/clusterå’Œhttp://node04:8088/clusterã€‚è®²é“ç†ï¼Œnode04ä¼šå‘ç”Ÿè·³è½¬åˆ°node03ã€‚ä½†æ˜¯æˆ‘çš„å‡ºé”™äº†ã€‚clusterIDéƒ½ä¸ä¸€è‡´äº†ã€‚ 12[root@node03 logs]# cd /opt/sxt/hadoop-2.6.5/logs[root@node03 logs]# vi yarn-root-resourcemanager-node03.log å‘çŽ°æ˜¯hostsæ–‡ä»¶é…ç½®é”™è¯¯ ä¿®æ”¹hostsæ–‡ä»¶åŽå†å¯åŠ¨resourcemanagerï¼ŒjpsæŸ¥çœ‹è¿›ç¨‹å¯åŠ¨æˆåŠŸï¼Œè®¿é—®node03:8088å‘ç”Ÿè·³è½¬ã€‚ WordCountæµ‹è¯•/opt/sxt/hadoop-2.6.5/share/hadoop/mapreduceæ–‡ä»¶å¤¹ä¸‹æ‰§è¡ŒexampleåŒ…ä¸­çš„wordcountç¨‹åºï¼Œç„¶åŽæŸ¥çœ‹è¾“å‡ºæ˜¯å¦æ­£ç¡®ã€‚åœ¨ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åŽ»å…¶å®ƒèŠ‚ç‚¹jpsæŸ¥çœ‹ä¸‹è¿›ç¨‹ï¼Œnode02ä¼šå¤šäº†ä¸€ä¸ªYarncChildï¼Œnode03ä¼šå¤šäº†ä¸ªMRAppMasterï¼Œnode04å¤šäº†ä¸¤ä¸ªYarnChildã€‚ä½œä¸šç»“æŸï¼Œè¿™äº›è¿›ç¨‹ä¹Ÿå°±æ¶ˆå¤±äº†ã€‚1[root@node01 mapreduce]# hadoop jar hadoop-mapreduce-examples-2.6.5.jar wordcount /user/root /output ResourceManagerå’ŒNodeManageræ˜¯yarnæ¡†æž¶çš„å¸¸æœåŠ¡ï¼Œæäº¤ä»»åŠ¡åŽï¼Œä¼šåœ¨node03å¯åŠ¨MRAppMasterå¹¶å’ŒResourceManageråŽ»é€šä¿¡ï¼Œç„¶åŽç”³è¯·Container, ä¹Ÿå°±æ˜¯é‚£ä¸‰ä¸ªYarncChildï¼Œè¿™ä¸‰ä¸ªContainerä¸­è¿è¡Œmap task å’Œreduce taskã€‚]]></content>
      <categories>
        <category>Bigdata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>yarn</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HADOOP--macä¸‹eclipseè¿žæŽ¥hadoopé›†ç¾¤å¼€å‘API]]></title>
    <url>%2F2017%2F07%2F05%2FeclipseConnectHadoop%2F</url>
    <content type="text"><![CDATA[macä¸‹eclipseè¿žæŽ¥hadoopé›†ç¾¤å¼€å‘API ä¸‹è½½å®‰è£…EclipseEclipse IDE for Java Developers é…ç½®Eclipseä¸‹è½½Hadoop-Eclipse-Pluginå¯ä¸‹è½½ Github ä¸Šçš„ hadoop2x-eclipse-pluginï¼ˆé€‰æ‹©ä¸‹è½½hadoop-eclipse-plugin-2.6.0.jarï¼‰ å®‰è£…Hadoop-Eclipse-Pluginåœ¨Applicationsä¸­æ‰¾ä¸ªEclise, å³é”®, Show Package Contents å°†æ’ä»¶å¤åˆ¶åˆ°pluginsç›®å½•ä¸‹ç„¶åŽé‡æ–°æ‰“å¼€Eclipseï¼Œæ·»åŠ æ’ä»¶ã€‚ è¿žæŽ¥Hadoopé›†ç¾¤é…ç½®Hadoopå®‰è£…ç›®å½•1)mkdir /Users/Chant/optå°†æºç åŒ…å’Œéƒ¨ç½²åŒ…éƒ½è§£åŽ‹åˆ°è¿™é‡Œã€‚2)é…ç½®çŽ¯å¢ƒå˜é‡vim ~/.zshrc 12export HADOOP_PREFIX=/Users/Chant/opt/hadoop-2.6.5export PATH=&quot;$ANACONDA_HOME/bin:/usr/local/bin:$PATH:$HADOOP_HOME/bin&quot; 3)åœ¨Eclipseä¸­æŒ‡å‘è¯¥å®‰è£…ç›®å½•ï¼ˆEclipseâ€“&gt;åå¥½è®¾ç½®ï¼‰éœ€è¦æ”¹Location name, Location name è¿™é‡Œå°±æ˜¯èµ·ä¸ªåå­—ï¼Œéšä¾¿èµ·ã€‚Portå¡«çš„æ˜¯8020,è¿™ä¸ªç”±ä½ çš„é›†ç¾¤é…ç½®å†³å®šï¼ˆåŽ»webé¡µé¢å¯ä»¥æŸ¥çœ‹ç«¯å£ï¼‰ã€‚ ( å‹¾é€‰Use M/Rçš„è¯ï¼Œéœ€è¦åœ¨hostsæ–‡ä»¶ä¸­æ·»åŠ 192.168.14.11 Master # æ·»åŠ Masterçš„IPï¼ŒMasterä¼šå¼•ç”¨Macä¸­çš„hostsé…ç½®çš„IP ) Map/Reduce(V2) Master Host è¿™é‡Œå°±æ˜¯è™šæ‹Ÿæœºé‡Œhadoop masterå¯¹åº”çš„IPåœ°å€ï¼Œä¸‹é¢çš„ç«¯å£å¯¹åº” hdfs-site.xmlé‡Œdfs.datanode.ipc.addresså±žæ€§æ‰€æŒ‡å®šçš„ç«¯å£ï¼Œé»˜è®¤ç«¯å£50020ã€‚ DFS Master Portï¼š è¿™é‡Œçš„ç«¯å£ï¼Œå¯¹åº”core-site.xmlé‡Œfs.defaultFSæ‰€æŒ‡å®šçš„ç«¯å£ æœ€åŽçš„user nameè¦è·Ÿè™šæ‹Ÿæœºé‡Œè¿è¡Œhadoopçš„ç”¨æˆ·åä¸€è‡´ï¼Œæ¯”å¦‚ç”¨zkpkèº«ä»½å®‰è£…è¿è¡Œhadoop 2.5.2çš„ï¼Œæ‰€ä»¥è¿™é‡Œå¡«å†™zkpkï¼Œå¦‚æžœä½ æ˜¯ç”¨rootå®‰è£…çš„ï¼Œç›¸åº”çš„æ”¹æˆroot,ä½†æ˜¯æ”¹æˆrootä¹Ÿæ²¡ç”¨,ä¸”çœ‹æƒé™è®¾ç½®ã€‚ æƒé™è®¾ç½®ï¼ˆPermisssion denyçš„ä¸‰ç§è§£å†³åŠžæ³•ï¼‰1.ç”±äºŽå®¢æˆ·ç«¯ä¸ŽæœåŠ¡å™¨çš„æƒé™é—®é¢˜ï¼Œå¯¹è¾“å…¥ç›®å½•ç­‰éœ€è¦èµ‹äºˆæŽˆæƒ123456# å‡è®¾Macçš„ç”¨æˆ·åä¸ºhadoopgroupadd supergroup # æ·»åŠ supergroupç»„useradd -g supergroup hadoop # æ·»åŠ hadoopç”¨æˆ·åˆ°supergroupç»„# ä¿®æ”¹hadoopé›†ç¾¤ä¸­hdfsæ–‡ä»¶çš„ç»„æƒé™, ä½¿å±žäºŽsupergroupç»„çš„æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰è¯»å†™æƒé™hadoop fs -chmod 777 / 2.æˆ–è€…hdfs-site.xmlé‡Œæ·»åŠ ,å¹¶é‡å¯hdfsã€‚1234&lt;property&gt; &lt;name&gt;dfs.permissions.enabled&lt;/name&gt; &lt;value&gt;false&lt;/value&gt;&lt;/property&gt; 3.æˆ–è€…åœ¨çŽ¯å¢ƒå˜é‡ä¸­è®¾ç½®HADOOP_USER_NAMEå€¼ä¸ºrootï¼Œå°±ä¸ç”¨æ”¹ç³»ç»Ÿç”¨æˆ·åäº†ï¼ˆwindowsä¸‹æ˜¯å¯ä»¥ä¿®æ”¹ç”µè„‘ç”¨æˆ·åä¸ºrootæ¥è§£å†³ï¼‰ã€‚ps:è®°å¾—é‡å¯ä¸€ä¸‹eclipseã€‚ æŸ¥çœ‹HDFSç‚¹å‡»å±•å¼€å·¦ä¸Šè§’çš„DFS Location, æŸ¥çœ‹æ˜¯å¦å¯ä»¥ç›´æŽ¥è®¿é—®HDFSã€‚ æ·»åŠ jaråŒ…ä½¿ç”¨å‘½ä»¤å°†éƒ¨ç½²åŒ…ä¸­ï¼ˆå…¶å®žå¯ä»¥ä¸è¦kmså’Œhttpfsä¸‹çš„jaråŒ…ï¼‰çš„jaråŒ…éƒ½æ‹·è´åˆ°åŒä¸€ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿æ·»åŠ ã€‚12[root@node01 share]# hadoop-2.6.5/share[root@node01 share]# \cp $(find hadoop -name *.jar) hadoop-2.6.5-lib.test æ·»åŠ æµ‹è¯•å•å…ƒåœ¨é¡¹ç›®ä¸‹æ–°å»ºconfï¼ˆHA,fullåˆ†åˆ«ç”¨äºŽä¸åŒçš„æ¨¡å¼ï¼‰æ–‡ä»¶å¤¹ï¼Œç”¨äºŽå­˜å‚¨hdfsé›†ç¾¤é…ç½® é…ç½®Hadoopå‚æ•°å¤åˆ¶é›†ç¾¤çš„é…ç½®æ–‡ä»¶ã€‚1$ scp root@node02:/opt/sxt/hadoop-2.6.5/etc/hadoop/core-site.xml root@node02:/opt/sxt/hadoop-2.6.5/etc/hadoop/hdfs-site.xml ./ æ‹·è´åˆ°HAæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œå¹¶å°†HAç›®å½•è®¾ç½®ä¸ºæºç›®å½•ï¼Œè¿™æ ·å°±èƒ½é€šè¿‡ç›¸å¯¹è·¯å¾„å¼•ç”¨å®ƒäº†ã€‚æ•ˆæžœå¦‚ä¸‹ï¼š é“¾æŽ¥æºç éšä¾¿æœç´¢ä¸€ä¸ªç±»ï¼ˆcommand+shift+Tï¼Œæœç´¢NameNodeï¼‰ï¼Œå‘çŽ°æ²¡æœ‰æºç ï¼Œç‚¹å‡»Attach Source -&gt; External location -&gt; External Floder æµ‹è¯•åˆ›å»ºæµ‹è¯•ç±»HDFS-APIå¼€å‘æµ‹è¯•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384package com.chant.hadoop.hdfs.test;import java.io.BufferedInputStream;import java.io.BufferedOutputStream;import java.io.File;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.IOException;import java.io.InputStream;import java.io.OutputStream;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.fs.BlockLocation;import org.apache.hadoop.fs.FSDataInputStream;import org.apache.hadoop.fs.FSDataOutputStream;import org.apache.hadoop.fs.FileStatus;import org.apache.hadoop.fs.FileSystem;import org.apache.hadoop.fs.Path;import org.apache.hadoop.io.IOUtils;import org.junit.After;import org.junit.Before;import org.junit.Test;public class TestHDFS &#123; Configuration conf = null; FileSystem fs = null; @Before public void conn() throws IOException&#123; conf = new Configuration(false); //é»˜è®¤å³ä¸ºtrueï¼ŒåŽ»binç›®å½•ä¸‹å¯»æ‰¾é…ç½®æ–‡ä»¶å¹¶è¯»å– conf.set("fs.defaultFS", "hdfs://node01:8020"); fs = FileSystem.get(conf); &#125; @After public void close() throws IOException&#123; fs.close(); &#125; @Test public void testConn()&#123; System.out.print(conf.get("fs.defaultFS")); &#125; @Test public void mkdir() throws IOException&#123; Path tmp = new Path("/temp"); if(!fs.exists(tmp))&#123; fs.mkdirs(tmp); &#125; &#125; //ä¸Šä¼ æ–‡ä»¶ @Test public void uploadFile() throws IOException&#123; Path file = new Path("/temp/sxt.txt"); FSDataOutputStream output = fs.create(file); InputStream input = new BufferedInputStream(new FileInputStream(new File("/Users/Chant/core-site.xml"))); IOUtils.copyBytes(input, output, conf, true); &#125; //ä¸‹è½½æ–‡ä»¶ @Test public void download() throws IOException&#123; Path file = new Path("/temp/sxt.txt"); FSDataInputStream input = fs.open(file); OutputStream output = new BufferedOutputStream(new FileOutputStream(new File("/Users/Chant/sxtTest"))); IOUtils.copyBytes(input, output, conf, true); &#125;// èŽ·å–blockLocationsï¼Œåç§»é‡ï¼Œè®¡ç®—å‘æ•°æ®ç§»åŠ¨å°±é è¿™ä¸ªæ¥æ”¯æ’‘ @Test public void bl() throws IOException&#123; Path f = new Path("/user/root/hello.txt"); FileStatus file = fs.getFileStatus(f); BlockLocation[] fileBlockLocations = fs.getFileBlockLocations(file, 0, file.getLen()); for (BlockLocation blockLocation : fileBlockLocations) &#123; System.out.println(blockLocation); &#125; //è¯»å–æŒ‡å®šblockä¸­çš„æ•°æ® FSDataInputStream input = fs.open(f); input.seek(1068577);//ä¿®æ”¹è¯»å–çš„åç§»é‡ï¼Œè®¡ç®—å‘æ•°æ®ç§»åŠ¨ System.out.println((char)input.readByte()); &#125;&#125; è¿è¡Œï¼Œå–åˆ°äº†é…ç½®ä¿¡æ¯ã€‚ mkdiræµ‹è¯• èŽ·å–blockLocationsèŽ·å–blockLocationsï¼ˆåç§»é‡ï¼Œä½ç½®ä¿¡æ¯ï¼‰ï¼Œè®¡ç®—å‘æ•°æ®ç§»åŠ¨å°±é è¿™ä¸ªæ¥æ”¯æ’‘ã€‚è®¿é—®http://node01:50070/æ‰¾åˆ°æ–‡ä»¶çš„blockä¿¡æ¯ï¼Œç„¶åŽåŽ»å¯¹åº”èŠ‚ç‚¹æŸ¥çœ‹æ–‡ä»¶ï¼Œå†æµ‹è¯•ä»£ç ï¼Œçœ‹è¯»å–æ˜¯å¦æ­£ç¡®ã€‚ 1234567[root@node03 logs]# cd /var/sxt/hadoop/ha/dfs/data/current/BP-570581829-192.168.14.11-1499209010319/current/finalized/subdir0/subdir0/[root@node03 subdir0]# ls *1073741826*blk_1073741826 blk_1073741826_1002.meta[root@node03 subdir0]# head blk_1073741826hant hadoop 42388hello Chant hadoop 42389hello Chant hadoop 42390 å‚è€ƒèµ„æ–™ Macä¸‹Eclipseæäº¤ä»»åŠ¡åˆ°Hadoopé›†ç¾¤]]></content>
      <categories>
        <category>Bigdata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>hadoop</tag>
        <tag>API</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HADOOP--MapReduceæ·±å…¥æºç -Mapper]]></title>
    <url>%2F2017%2F07%2F05%2F2017-07-09%2F</url>
    <content type="text"><![CDATA[MapReduce Mapperæºç è§£æžã€‚ æ¦‚è§ˆé¼ æ ‡ç§»åˆ°Mapperä¸Šï¼ŒæŸ¥çœ‹æ–‡æ¡£ï¼Œå…ˆçœ‹ä¸ªå¤§æ¦‚ï¼Œæœ‰ä¸ªå¤§æ¦‚çš„é€»è¾‘æ¡†æž¶åŽå†åŽ»çœ‹æºç ã€‚ ç‚¹å‡»Mapperï¼ŒCommand+F12æŸ¥çœ‹æ–‡ä»¶ç»“æž„ï¼Œæ‰¾åˆ°runæ–¹æ³•ã€‚ setupå¼€å¯æœåŠ¡è¿žæŽ¥ï¼ˆæ¯”å¦‚è¿žæŽ¥æ•°æ®åº“ï¼Œæ‰“å¼€æŸä¸ªæ–‡ä»¶ï¼‰ä¸­é—´å¾ªçŽ¯ä¼ ä¸€è¡Œæ‰§è¡Œä¸€æ¬¡mapï¼Œæœ€åŽcleanupå…³é—­è¿žæŽ¥ï¼Œé‡Šæ”¾èµ„æºã€‚setupå’Œcleanupä¸­é™¤äº†ä¸€è¡Œæ³¨é‡Šå¤–ï¼Œå¹¶æ— æ“ä½œï¼Œæ‰€ä»¥æ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥å®žçŽ°ã€‚å¯ä»¥çœ‹å‡ºmapçš„è¾“å…¥æ¥è‡ªcontext.nextKeyValue()ï¼Œè¾“å‡ºé€šè¿‡context.write()ã€‚å³ï¼šcontext.nextKeyValue()â€“&gt;Mapper.map()â€“&gt;context.write()éšä¾¿æ‰¾ä¸ªåœ°æ–¹è¾“å…¥MapTaskï¼Œç„¶åŽç‚¹å‡»ï¼Œè¿›å…¥åˆ°org.apache.hadoop.mapredä¸‹çš„MapTaskï¼Œé€‰ä¸­MapTask,Command+F12æ‰“å¼€æ–‡ä»¶ç»“æž„ï¼Œé”®ç›˜æ•²å‡»runæ‰¾åˆ°runæ–¹æ³•å¹¶è¿›å…¥ã€‚ä»Žæ³¨é‡Šçœ‹å‡ºï¼Œè¿è¡Œä»»åŠ¡æ—¶ï¼Œæ‰“å°å‡ºçš„mapç™¾åˆ†ä¹‹å‡ çš„é‚£äº›è¿›åº¦ä¿¡æ¯æ˜¯åœ¨è¿™é‡Œå®šä¹‰çš„ã€‚å¾€ä¸‹ç¿»æ‰¾åˆ°runNewMapperå¹¶ç‚¹å‡»ï¼ˆå› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯æ–°çš„APIï¼‰ã€‚çœ‹æ³¨é‡Šï¼Œæ‰¾åˆ°// get an output objectï¼Œé‡Œé¢æœ‰ä¸€æ®µtryä»£ç å—ï¼Œå¯ä»¥çœ‹åˆ°å…ˆåˆå§‹åŒ–ï¼Œç„¶åŽè°ƒç”¨äº†mapper.run()ï¼Œä¹‹å‰çœ‹è¿‡çš„è¿™ä¸ªmapper.run()å°±æ˜¯é€šè¿‡å¾ªçŽ¯ä¸€è¡Œè¡ŒåŽ»è¯»æ•°æ®å¹¶æ‰§è¡Œmapæ–¹æ³•ã€‚ åå°„Mapperå¾€ä¸Šç¿»ï¼Œå›žåˆ°runNewMapperçš„ç¬¬äºŒä¸ªæ³¨é‡Š// make a mapperï¼ˆç¬¬ä¸€ä¸ªæ³¨é‡Šæ˜¯å‡†å¤‡åˆ›å»ºä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥å°±ç•¥è¿‡äº†ï¼Œä¸»è¦çœ‹è®¡ç®—æ¡†æž¶ï¼‰ã€‚æ‰“å¼€getMapperClass()çš„ç»§æ‰¿å…³ç³»ï¼Œæ‰¾åˆ°JobContextImplå¯ä»¥çœ‹åˆ°ï¼Œå®ƒçš„é»˜è®¤å–å¾—æ˜¯Mapper.classè€ŒMapperä¸­çš„mapæ˜¯é»˜è®¤ç›´æŽ¥è¾“å‡ºï¼Œå¼€å‘æ—¶çš„ä¸šåŠ¡è¿ç®—é€»è¾‘å°±æ²¡å†™è¿›åŽ»ï¼Œæ‰€ä»¥è¿™ä¸ªMAP_CLASS_ATTRè‚¯å®šæ˜¯è¦ç”±ç”¨æˆ·é…ç½®çš„ï¼ŒMapperç±»ç”±å¼€å‘äººå‘˜è‡ªå·±å®žçŽ°ï¼ˆæ¯”å¦‚WordCountä¸­çš„MyMapperï¼‰ã€‚æ‰€ä»¥æœ€ç»ˆ// make a mapperé˜¶æ®µå°±æ˜¯å°†ç”¨æˆ·æ‰€å†™çš„Mapperåå°„å‡ºæ¥æˆä¸€ä¸ªå¯¹è±¡ã€‚ è¾“å…¥input// make the input formaté˜¶æ®µä¹Ÿæ˜¯åŒç†ï¼Œä¸Šä¸€ç¯‡å®¢æˆ·ç«¯æºç ä¸­å·²ç»è®²è¿‡ï¼Œé»˜è®¤å–TextInputFormat.classï¼Œå¯é€šè¿‡job.setInputFormatClass()æ¥è®¾ç½®INPUT_FORMAT_CLASS_ATTRã€‚// rebuild the input splité˜¶æ®µï¼Œä¸€ä¸ªsplitå¯¹åº”ä¸€ä¸ªmapï¼Œå®¢æˆ·ç«¯ä¼šç”Ÿæˆsplitåˆ—è¡¨ï¼Œè¿™ä¸ªsplitåˆ—è¡¨æ”¯æ’‘äº†è®¡ç®—å‘æ•°æ®ç§»åŠ¨ï¼Œè¿™é‡Œæ˜¯å…¶ä¸­çš„ä¸€ä¸ªè®¡ç®—mapä»»åŠ¡ï¼ŒæŠŠsplité‡æ–°æž„é€ äº†ä¸€ä¸‹ã€‚å¾€ä¸‹ç»§ç»­ï¼Œç‚¹å‡»NewTrackingRecordReaderï¼Œ å¯è§ï¼Œinput = new NewTrackingRecordReaderï¼ŒNewTrackingRecordReaderåº•å±‚æœ‰ä¸€ä¸ªrealï¼Œè€Œè¿™ä¸ªrealæ˜¯ç”±createRecordReaderè¿”å›žçš„ä¸€ä¸ªLineRecordReaderã€‚ æ‰€ä»¥ç¿»åˆ°tryä»£ç å—ä¸­çš„Initializeåˆå§‹åŒ–é˜¶æ®µï¼Œæ‰“å¼€å®žçŽ°å…³ç³»ï¼Œinputæ˜¯NewTrackingRecordReaderï¼Œæ‰€ä»¥è¿™é‡Œåº”è¯¥é€‰æ‹©NewTrackingRecordReaderå‘çŽ°é‡Œé¢è°ƒç”¨çš„æ˜¯realçš„åˆå§‹åŒ–æ‰“å¼€å®žçŽ°å…³ç³»ï¼Œrealæ˜¯LineRecordReaderï¼Œæ‰€ä»¥é€‰æ‹©LineRecordReaderã€‚LineRecordReaderä¸­çš„initializeé¦–å…ˆå‡†å¤‡å¥½äº†splitçš„å¼€å§‹å’Œç»“æŸä½ç½®ï¼Œç„¶åŽé€šè¿‡æ–‡ä»¶è·¯å¾„æ‹¿åˆ°æ–‡ä»¶ã€‚æŽ¥ç€çœ‹æ³¨é‡Š// open the file and seek to the start of the splitï¼Œå…¶å®žæ³¨é‡Šè¯´å¾—å¾ˆæ¸…æ¥šäº†ï¼Œå…ˆopenå¼€å¯æ–‡ä»¶çš„IOè¾“å…¥æµï¼Œå¦‚æžœè¿™é‡Œä»Žå¤´å¼€å§‹è¯»ï¼Œä¸€å®šä¼šè¯»åˆ°åˆ«çš„blockå—æˆ–è€…åˆ«çš„splitåŽ»äº†ï¼Œæ‰€ä»¥ä¸€å®šè¦ç”¨seekæ–¹æ³•ï¼Œå°†ä½ è¿™ä¸ªè®¡ç®—è¦è¯»çš„splitçš„èµ·å§‹ä½ç½®çš„åç§»é‡ç»™è¿™ä¸ªæµè®¾ç½®è¿›åŽ»ã€‚æµå¼€å¯åŽï¼Œé€šè¿‡inå°†è¾“å…¥æµfileInç»‘å®šåˆ°SplitLineReaderï¼Œæ³¨æ„çœ‹æ³¨é‡ŠåŠé‚£æ®µä»£ç ï¼Œé€šè¿‡inå°†ç¬¬ä¸€è¡ŒæŠ›å¼ƒï¼ˆé‡Œé¢newäº†ä¸€ä¸ªåŒ¿åå¯¹è±¡Textï¼ŒåŒ¿åå¯¹è±¡ç”¨å®Œå°±è¢«é”€æ¯äº†ï¼Œä»¥æ­¤è¾¾åˆ°æŠ›å¼ƒç¬¬ä¸€è¡Œçš„ç›®çš„ï¼ŒåŒæ—¶å°†åç§»é‡startç§»åˆ°äº†ä¸‹ä¸€è¡Œï¼‰ï¼Œé¿å…å‡ºçŽ°æ–‡ä»¶åˆ‡å‰²é€ æˆçš„ä¹±ç å’Œå•è¯è¢«åˆ‡å¼€çš„é—®é¢˜ã€‚åˆå§‹åŒ–çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯è¿™ä¸ªã€‚è®¡ç®—å‘æ•°æ®ç§»åŠ¨æ˜¯ç”±å®¢æˆ·ç«¯æ¥æ”¯æ’‘çš„ï¼Œæœ¬åœ°åŒ–æ•°æ®è¯»å–å°±æ˜¯ç”±åˆå§‹åŒ–çš„è¿™æ®µä»£ç æ¥å®Œæˆçš„ã€‚ åˆå§‹åŒ–åŽè°ƒç”¨runæ–¹æ³•ï¼Œrunæ–¹æ³•å¾ªçŽ¯è¿­ä»£context.nextKeyValue()åŒæ—¶è°ƒç”¨mapæ–¹æ³•ï¼Œè¿™ä¸ªcontextæ¥è‡ªäºŽmapper.run(mapperContext)è°ƒç”¨æ—¶ä¼ å…¥çš„mapperContextï¼ŒmapperContextæ¥è‡ªäºŽmapContextï¼ŒmapContextä¸­ä¼ çš„å‚æ•°æœ‰è¾“å…¥inputå’Œè¾“å‡ºoutputã€‚ç‚¹å‡»MapContextImplï¼Œå…¶è¾“å…¥readerå°±æ˜¯ä¹‹å‰çš„inputå®ƒçš„nextKeyValue()è°ƒç”¨çš„readerçš„nextKeyValue()ï¼Œä¹Ÿå°±æ˜¯inputçš„nextKeyValue()ï¼Œè€Œinputæ˜¯NewTrackingRecorderã€‚æ‰€ä»¥ï¼Œæ‰“å¼€ç»§æ‰¿å…³ç³»ï¼Œæ‰¾åˆ°NewTrackingRecorderå¹¶è¿›å…¥ã€‚é‡Œé¢å®žé™…è°ƒç”¨çš„æ˜¯realçš„nextKeyValueï¼Œè€Œrealæ˜¯LineReacordReaderï¼Œæ‰€ä»¥æ‰“å¼€å®žçŽ°å…³ç³»ï¼Œæ‰¾åˆ°LineReacordReaderè¿›å…¥ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒnextKeyValueä¸»è¦åšäº†å››ä»¶äº‹ï¼š setæ–¹æ³•è®¾ç½®pos ç»™Keyå’ŒValueèµ‹å€¼ posæ›´æ–° è¿”å›žå¸ƒå°”åž‹ è€ŒgetCurrentKey()å’ŒgetCurrentValue()å°±åªæ˜¯ç›´æŽ¥è¿”å›žKeyå’ŒValueå°±å¥½äº†ã€‚æ•´ç†ä¸€ä¸‹æ•´ä¸ªæµç¨‹ï¼šç”¨é€»è¾‘è¯­è¨€æè¿°ä¸€éï¼š è¾“å‡ºouputçœ‹å®Œäº†è¾“å…¥ï¼ŒæŽ¥ä¸‹æ¥çœ‹è¾“å‡ºã€‚å›žåˆ°runNewMapper()ï¼Œæ‰¾åˆ°æ³¨é‡Š// get an output objectæ‰€ä»¥reduceæ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œä½¿ç”¨è¯­å¥job.setNumReduceTasks(n)æ¥è®¾ç½®recudeæ•°é‡ï¼Œkeyå¤šçš„è¯å°±å¤šè®¾ç½®reduceï¼Œå› ä¸ºå¤šä¸ªreduceæ˜¯å¹¶è¡Œè®¡ç®—çš„ã€‚ç‚¹å‡»NewOutputCollectorï¼Œå¯è§åˆ†åŒºæ•°é‡ç­‰äºŽreduceæ•°é‡ã€‚è€Œåˆ†åŒºå™¨partitioneræ˜¯é€šè¿‡åå°„å¾—åˆ°çš„ã€‚æ‰“å¼€getPartitionerClassçš„å®žçŽ°å…³ç³»ï¼Œæ‰¾åˆ°JobContextImplè¿›å…¥ã€‚å¯ä»¥çœ‹åˆ°ç”¨æˆ·å¯ä»¥è®¾ç½®partitionerï¼Œä¸è®¾ç½®çš„è¯ï¼Œå…¶é»˜è®¤å€¼æ˜¯HashPartitioneré€šè¿‡è¯­å¥job.setPartitionerClass(cls);æ¥è®¾ç½®partitionerï¼Œè‡ªå·±å®žçŽ°è¿™ä¸ªpartitionerç±»ã€‚ç‚¹å‡»HashPartitionerï¼Œå¯ä»¥çœ‹åˆ°å…¶å®žå®ƒå’Œç®€å•ï¼Œå°±æ˜¯å°†Keyçš„å“ˆå¸Œå€¼å’ŒReduceæ•°å–æ¨¡ï¼Œè¿”å›žä½™æ•°ï¼Œæ‰“æ ‡ç­¾ï¼Œè®©ReducerçŸ¥é“è¿™æ¡æ•°æ®è¯¥åŽ»å“ªä¸ªReduceã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªè°ƒä¼˜çš„é‡ç‚¹ã€‚å› ä¸ºHashPartionerå¹¶ä¸æ¸…æ¥šæ•°æ®å…·ä½“æƒ…å†µï¼Œæœ‰å¯èƒ½å‘ç”Ÿæ•°æ®å€¾æ–œï¼ˆæ¯”å¦‚ï¼Œå¤§éƒ¨åˆ†æ•°æ®å–æ¨¡åŽéƒ½ç­‰äºŽ1ï¼Œéƒ½åˆ°åŒä¸€ä¸ªReduceé‡ŒåŽ»äº†ï¼‰ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®å…·ä½“åœºæ™¯è‡ªå·±å®žçŽ°Partitionerã€‚ä¸¾ä¸ªæ —å­ï¼šæ¯”å¦‚æ•°æ®æ˜¯ä¹±åºçš„æ•°å­—ï¼Œéœ€æ±‚æ˜¯å…¨æŽ’åºã€‚é‚£ä¹ˆå¯ä»¥åœ¨è‡ªå·±å®žçŽ°çš„Partionerä¸­å†™ä¸ªåˆ¤æ–­ï¼Œ1~100è¿”å›ž0ï¼Œ100~200è¿”å›ž1ï¼Œè¿™æ ·æ¥å°½é‡è®©ä»–ä»¬å‡åŒ€çš„åˆ†å¸ƒåˆ°æ¯ä¸ªReduceä¸­åŽ»ã€‚å›žåˆ°NewOutputCollectorï¼Œå¦‚æžœpartionsç­‰äºŽ1ï¼Œé‚£å°±ç›´æŽ¥è¿”å›ž0ï¼Œæ‰€æœ‰æ•°æ®åŽ»åˆ°åŒä¸€ä¸ªReduceã€‚ç‚¹å‡»createSortingCollector å…ˆæ‰¾åˆ°return collectorï¼Œå†ä¸€æ­¥æ­¥å¾€ä¸Šçœ‹ã€‚collectoråå°„äºŽsubClazzï¼ŒsubClazzæ¥è‡ªäºŽclazzï¼Œclazzæ˜¯forå¾ªçŽ¯ä¼ å…¥çš„collectorClassesï¼ŒcollectorClassesæ¥è‡ªç”¨æˆ·é…ç½®æˆ–é»˜è®¤çš„MapOutputBufferã€‚æ‰€ä»¥è¿™ä¸ªcollectoré»˜è®¤æ˜¯MapOutputBufferï¼ˆä¸‹å›¾ä¸­æŒ‰æ•°å­—é¡ºåºæŸ¥çœ‹ï¼‰ã€‚è€Œè¿™ä¸ªMapOutputBufferå°±æ˜¯çŽ¯å½¢ç¼“å†²åŒºï¼ˆåŽé¢å†è®²ï¼Œè¿™ä¸ªçŽ¯å½¢æ˜¯ä¸ªæŒºæœºæ™ºçš„æœºåˆ¶ðŸ˜‚ï¼‰ã€‚å¯ä»¥ç‚¹è¿›åŽ»çœ‹ä¸€ä¸‹ï¼Œå®ƒæœ‰1109è¡Œä»£ç ï¼Œå¦‚æžœä½ èƒ½å†™ä¸€ä¸ªæ›´å¥½çš„çŽ¯å½¢ç¼“å†²åŒºï¼Œé‚£å°±å¯ä»¥ä¸Šå¤©äº†ã€‚å…³äºŽçŽ¯å½¢ç¼“å†²åŒºæºç è¯¦ç»†è§£æžè¯·æˆ³MapReduceä¹‹mapOutputBufferè§£æžã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªçŽ¯å½¢ç¼“å†²åŒºçš„åˆå§‹åŒ–ï¼Œæ‰¾åˆ°colletor.init()æ‰“å¼€å®žçŽ°å…³ç³»ï¼Œæ‰¾åˆ°MapOutputBufferè¿›å…¥ã€‚MAP_SORT_SPILL_PERCENTå°±æ˜¯çŽ¯å½¢ç¼“å†²åŒºæº¢å†™çš„é˜ˆå€¼ï¼Œé»˜è®¤ä¸º80%ã€‚IO_SORT_MBå°±æ˜¯çŽ¯å½¢ç¼“å†²åŒºçš„å¤§å°ï¼Œé»˜è®¤100Mã€‚è¿™æ˜¯ä¸¤ä¸ªè°ƒä¼˜ç‚¹ï¼Œå¦‚æžœæ•°æ®ä¸€è¡Œå°±å¥½å‡ ç™¾å…†ï¼Œé‚£ä¹ˆæ˜¾ç„¶è¦è°ƒå¤§IO_SORT_MBã€‚å¦‚æžœmapè¿ç®—é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œå‰©ä¸‹çš„20%ä¸è¶³ä»¥æ»¡è¶³mapçš„è¾“å‡ºï¼ˆæ¯”å¦‚ï¼š80%è¢«é”ä½æ­£åœ¨æº¢å†™ï¼Œè€Œå‰©ä¸‹20%ç”±äºŽmapè®¡ç®—è¾ƒå¿«ï¼Œä¹Ÿå·²ç»ä¹Ÿå·²ç»å†™æ»¡ï¼Œå°±é˜»å¡žäº†ï¼‰ï¼Œé‚£ä¹ˆåº”è¯¥è°ƒå°MAP_SORT_SPILL_PERCENTï¼Œå¯ä»¥ç›´æŽ¥è°ƒæˆ50%ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æå‡ï¼Œå†åŽ»å¾®è°ƒï¼Œä¸è¦ä¸€ç‚¹ç‚¹çš„è°ƒã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œblockå¤§å°hadoop1.0æ˜¯64Mï¼Œhadoop2.0æ˜¯128Mï¼Œè€Œsplitå¤§å°é»˜è®¤ç­‰äºŽblockå¤§å°ï¼Œæ‰€ä»¥mapä¼šè¯»å–128Mï¼Œè¾“å‡ºçš„æ—¶å€™ä¹Ÿå°±å·®ä¸å¤š100Må·¦å³ï¼Œæœ€å¤šæº¢å†™ä¸¤æ¬¡ï¼Œæ‰€ä»¥IO_SORT_MBé»˜è®¤æƒ…å†µä¸‹è¿˜æ˜¯å¯ä»¥çš„ã€‚ hadoopåœ¨æ‰§è¡ŒMapReduceä»»åŠ¡æ—¶ï¼Œåœ¨mapé˜¶æ®µï¼Œmapå‡½æ•°äº§ç”Ÿçš„è¾“å‡ºï¼Œå¹¶ä¸æ˜¯ç›´æŽ¥å†™å…¥ç£ç›˜çš„ã€‚ä¸ºäº†æé«˜æ•ˆçŽ‡ï¼Œå®ƒå°†è¾“å‡ºç»“æžœå…ˆå†™å…¥åˆ°å†…å­˜ä¸­ï¼ˆå³çŽ¯å½¢å†…å­˜ç¼“å†²åŒºï¼Œé»˜è®¤å¤§å°100Mï¼‰ï¼Œå†ä»Žç¼“å†²åŒºï¼ˆæº¢ï¼‰å†™å…¥ç£ç›˜ã€‚ç¼“å­˜ä¸ºä»€ä¹ˆè¦è®¾è®¡æˆçŽ¯å½¢çš„ï¼Ÿæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿç­”ï¼šä½¿è¾“å…¥è¾“å‡ºå¹¶è¡Œå·¥ä½œï¼Œå³â€œå†™ç¼“å†²â€å¯ä»¥å’Œâ€œæº¢å†™â€å¹¶è¡Œã€‚â€œæº¢å†™â€å·¥ä½œç”±å•ç‹¬çš„çº¿ç¨‹æ¥åšã€‚ å¾€ä¸‹çœ‹ï¼Œå¯ä»¥çœ‹åˆ°é»˜è®¤çš„æŽ’åºå™¨ç”¨çš„æ˜¯å¿«é€ŸæŽ’åºQuickSorterï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸€ä¸ªè°ƒä¼˜ç‚¹ï¼Œå¯ä»¥è‡ªè¡Œé…ç½®æŽ’åºå™¨ã€‚ç»§ç»­å¾€ä¸‹ï¼ŒK/Våºåˆ—åŒ–è¿™é‡Œï¼Œçœ‹åˆ°æœ‰ä¸€ä¸ªæ¯”è¾ƒå™¨ã€‚ç‚¹å‡»getOutputComparatorï¼Œç»é¼ æ ‡æ”¾åˆ°getMapOutputKeyClassä¸Šï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œé»˜è®¤å–çš„æ˜¯mapè¾“å‡ºçš„keyçš„æ¯”è¾ƒå™¨ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨job.setSortComparatorClass(cls);é…ç½®è‡ªå·±å®žçŽ°çš„æ¯”è¾ƒå™¨ï¼Œè¿™å°±å…è®¸ä½ mapè¾“å‡ºæ—¶ç”¨çš„æ¯”è¾ƒå™¨å’Œæ”¾åˆ°çŽ¯å½¢ç¼“å†²åŒºåŽæœ€ç»ˆè¾“å‡ºæ—¶çš„æ¯”è¾ƒå™¨å¯ä»¥ä¸åŒã€‚æˆ‘ä»¬å¯ä»¥æ‰¾ä¸ªç®€å•çš„ç±»åž‹æ¯”å¦‚IntWritableæ¥çœ‹ä¸€ä¸‹å®ƒçš„comparatorç»§ç»­çœ‹MapOutputBufferçš„init()ï¼Œå¾€ä¸‹ç¿»ï¼Œå¯ä»¥çœ‹åˆ°// combinerï¼Œè¿™ä¸ªcombineråœ¨ä¸€å¼€å§‹çš„æ¦‚è§ˆé‡Œæœ‰æè¿° Users can optionally specify a combiner, via Job.setCombinerClass(Class), to perform local aggregation of the intermediate outputs, which helps to cut down the amount of data transferred from the Mapper to the Reducer. å°±æ˜¯å¯ä»¥è°ƒç”¨combineråœ¨mapç«¯åˆå¹¶æ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥å‡å°‘è¦ä¼ è¾“çš„æ•°æ®é‡å’Œreduceç«¯çš„åŽ‹åŠ›ã€‚ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œä¸æ˜¯ä»€ä¹ˆæ•°æ®éƒ½é€‚åˆç®€å•çš„åˆå¹¶ï¼Œæ¯”å¦‚å¹³å‡æ•°ï¼Œç®€å•çš„åˆå¹¶åŽæ˜¯ä¸å¯¹çš„ï¼ˆæ¯”å¦‚ï¼š$(\frac{a+b}{2}+\frac{c+d}{2})/2\neq\frac{a+b+c+d}{4}$ï¼‰ï¼Œè¿™æ—¶å€™éœ€è¦æ³¨æ„ä¹¦å†™æ­£ç¡®çš„åˆå¹¶æ–¹æ³•ã€‚å¾€ä¸‹æ‰¾åˆ°tryä»£ç å—ä¸­çš„spillThreadï¼Œshift+Command+Bæ‰“å¼€å£°æ˜Žç±»åž‹æ‰¾åˆ°tryä»£ç å—ä¸­sortAndSpillï¼Œçœ‹åå­—å°±çŸ¥é“è¿™æ–¹æ³•æ˜¯è´Ÿè´£æŽ’åºå’Œæº¢å†™ã€‚å¯ä»¥çœ‹åˆ°æŽ’åºç”¨çš„sorterï¼Œè€Œä¹‹å‰å·²ç»çœ‹åˆ°è¿‡sorterçš„é»˜è®¤æŽ’åºæ–¹æ³•æ˜¯å¿«é€ŸæŽ’åºã€‚ å‚è€ƒèµ„æ–™ä»¥ä¸‹æ˜¯çŽ¯å½¢ç¼“å†²åŒºçš„ä¸€äº›æºç è§£è¯»å’ŒæŽ’åºç®—æ³•çš„æ–‡ç« ï¼š MapReduceä¹‹mapOutputBufferè§£æžâ€“è¯¦ç»† MapReduceæºç è§£æžâ€“çŽ¯å½¢ç¼“å†²åŒºâ€“è¯¦ç»† mapçš„çŽ¯å½¢å†…å­˜ç¼“å†²åŒºâ€“æ¦‚è§ˆ å¸¸ç”¨æŽ’åºç®—æ³•æ€»ç»“]]></content>
      <categories>
        <category>Bigdata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>API</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HADOOP--MapReduceæ·±å…¥æºç -Client]]></title>
    <url>%2F2017%2F07%2F05%2F2017-07-08%2F</url>
    <content type="text"><![CDATA[MapReduceå®¢æˆ·ç«¯æäº¤è¿‡ç¨‹çš„æºç ï¼Œä»¥åŠæ‰‹å†™wordCountæµ‹è¯•ã€‚ ä¸€å…¥æºç æ·±ä¼¼æµ·ï¼Œæºç æ·±æ·±æ·±å‡ è®¸ ç‚¹å‡»submit ç‚¹å‡»submitJobInternal å¾€ä¸‹ç¿»ï¼Œçœ‹åˆ°å®¢æˆ·ç«¯å¯åŠ¨åŽå…ˆåˆ›å»ºåˆ‡ç‰‡åˆ—è¡¨ç”±äºŽæˆ‘ä½¿ç”¨çš„æ˜¯æ–°çš„APIï¼Œæ‰€ä»¥ç‚¹å‡»writeNewSplitesè¿™é‡Œä¸æ˜¯ç›´æŽ¥ç‚¹ï¼Œè€Œæ˜¯command+option+Bæ‰“å¼€ç»§æ‰¿å…³ç³»ï¼Œé€‰æ‹©JobContextImplã€‚è¿™é‡Œç”¨æˆ·å¦‚æžœè®¾ç½®äº†InputFormat.classåˆ™å–ç”¨æˆ·è‡ªå·±å®žçŽ°çš„ï¼Œå¦åˆ™å–é»˜è®¤å€¼TextInputFormat.classä¹Ÿå°±æ˜¯è¯´å¯ä»¥åœ¨è‡ªå·±çš„ä»£ç ä¸­è®¾ç½®InputFormat.classï¼Œè‡ªå·±åŽ»å®žçŽ°ooxx.classè¿™ä¸ªç±»ï¼Œè¿™æ ·å°±å¯ä»¥æŽ§åˆ¶å®ƒæ˜¯æŒ‰è¡Œè¿˜æ˜¯æŒ‰ä¸€å—æ•°æ®æ¥è¾“å…¥ã€‚setInputFormatClassé‡Œé¢è®¾ç½®çš„å°±æ˜¯INPUT_FORMAT_CLASS_ATTRï¼Œè€ŒgetInputFormatClassé‡Œgetçš„ä¹Ÿæ˜¯è¿™ä¸ªINPUT_FORMAT_CLASS_ATTRã€‚ è¿™é‡Œé¡ºå¸¦è¯´ä¸€ä¸‹,è¿›å…¥Job.java,ç‚¹å‡»JobContextâ€“&gt;MRJobConfigå¯ä»¥çœ‹åˆ°å¾ˆå¤šå¸¸é‡å±žæ€§ï¼Œè¿™ä¸Žä½ çš„hadoopé…ç½®æ–‡ä»¶æœ‰å…³ï¼Œæœç´¢Default,æ‰¾åˆ°DEFAULT_MAP_MEMORY_MBï¼Œå¯ä»¥çœ‹åˆ°ä»–æœ‰é»˜è®¤é…ç½®ä¸”ä¸º1Gã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªè°ƒä¼˜ç‚¹ã€‚å½“ä½ çš„æ•°æ®æ¯ä¸€è¡Œéƒ½æ˜¯å¥½å‡ ç™¾å…†æ—¶ï¼Œ1Gçš„å†…å­˜ä¼šå¯¼è‡´é¢‘ç¹çš„ç£ç›˜IOï¼Ÿï¼Ÿï¼Ÿï¼Œæˆ–è€…å†…å­˜æº¢å‡ºï¼Œå½“ä½ ç¡®å®šè®¡ç®—æ²¡æœ‰é—®é¢˜ä½†æ˜¯æäº¤è®¡ç®—æ€»æ˜¯æŠ¥å†…å­˜æº¢å‡ºï¼Œå¯ä»¥è¯•è¯•å°†å®ƒè°ƒå¤§ã€‚DEFAULT_REDUCE_MEMORY_MBåªæœ‰1Gï¼Œè¿™å¯¼è‡´ä½ çš„bufferä¼šå¾ˆå°ï¼Œä¼šé¢‘ç¹åœ°è§¦å‘ç£ç›˜IOï¼ˆæ¯”å¦‚ä¸€æ¬¡è¯»3Gæ•°æ®åˆ°å†…å­˜åŽå†™å…¥ç£ç›˜ä¸€æ¬¡ï¼Œå’Œè¯»3æ¬¡1GåŽå†™3æ¬¡åˆ°ç£ç›˜ã€‚IOè°ƒç”¨æ¬¡æ•°è¶Šå¤šï¼Œå¼€é”€è¶Šå¤§ï¼‰ã€‚æ‰€ä»¥DEFAULT_REDUCE_MEMORY_MBåŸºæœ¬ä¸Šæ˜¯å¿…ç„¶è¦è°ƒçš„ã€‚å›žåˆ°TextInputFormatï¼ŒCtrl+Hæ‰“å¼€ç»§æ‰¿å±‚çº§ï¼Œå‘çŽ°å®ƒç»§æ‰¿è‡ªFileInputFormatï¼Œå¯¹æ¯”æˆ‘ä»¬åˆ›å»ºè¾“å…¥è·¯å¾„æ—¶çš„è¯­å¥ï¼Œå¯è§TextInputFormatæ˜¯é€šè¿‡ç»§æ‰¿æ¥èŽ·å–åˆ°çˆ¶ç±»ä¸­çš„Jobé…ç½®å’Œinputè·¯å¾„ã€‚ æŽ¥ä¸‹æ¥ï¼Œçœ‹getSplitsã€‚æ‰“å¼€å®žçŽ°å…³ç³»ï¼Œé€‰æ‹©FileInputFormatã€‚ç‚¹å‡»getFormatMinSplitSizeï¼Œå¯è§å…¶å›ºå®šè¿”å›ž1ã€‚ ç‚¹å‡»getMinSplitSize,å¯è§å…¶é»˜è®¤å€¼ä¸º1ï¼Œæ‰€ä»¥long minSize = Math.max(getFormatMinSplitSize(), getMinSplitSize(job)); è®¡ç®—å‡ºçš„é»˜è®¤å€¼ä¹Ÿæ˜¯1ï¼Œä¸”ç”¨æˆ·å¯ä»¥å¹²é¢„è°ƒèŠ‚ã€‚é€šè¿‡FileInputFormatè¿™ä¸ªç±»æ¥è°ƒèŠ‚SplitSizeã€‚ç‚¹å‡»getMaxSplitSizeï¼Œå¯ä»¥çœ‹åˆ°MaxSplitSizeçš„é»˜è®¤å€¼æ˜¯longç±»åž‹çš„æœ€å¤§å€¼ã€‚è¿”å›žgetSplitsæŽ¥ç€å¾€ä¸‹ç¿»ã€‚åˆ¤æ–­æ˜¯å¦ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œå¦åˆ™è¯»å–é›†ç¾¤çš„blockLocationsã€‚æ ‡çº¢çš„ä»£ç åœ¨ä¹‹å‰çš„æµ‹è¯•ä¸­ä½¿ç”¨è¿‡ï¼Œç”¨æ¥å–å›žæ‰€æœ‰çš„blockä½ç½®ä¿¡æ¯ã€‚ä»ŽcomputeSplitSizeä¸­å¯ä»¥çœ‹å‡ºï¼Œåˆ‡ç‰‡å¤§å°splitSizeçš„é»˜è®¤å€¼å°±æ˜¯blockå—å¤§å°blockSizeã€‚å¦‚æžœæƒ³è®©åˆ‡ç‰‡çš„åœ¨blockä¸­ï¼Œåº”è¯¥è®¾ç½®MaxSizeï¼Œä»¤å…¶å°äºŽblockSizeï¼›å¦‚æžœæƒ³è®©åˆ‡ç‰‡å¤§äºŽblockå—ï¼Œåº”è¯¥è®¾ç½®MinSizeï¼Œä»¤å…¶å¤§äºŽblockSizeã€‚é¼ æ ‡æ”¾åˆ°makeSplitä¸Šï¼Œå¯ä»¥çœ‹å‡ºsplitåˆ—è¡¨ä¸­çš„ä¿¡æ¯å°±æ˜¯makeSplitçš„å‚æ•°ï¼Œæ–‡ä»¶ï¼Œåç§»é‡ï¼Œsplité•¿åº¦ï¼ŒèŠ‚ç‚¹ä¸»æœºåã€‚å†ç‚¹å‡»ä¸Šé¢çš„getBloclIndexå‘ä¸Šç¿»ï¼Œæ‰¾åˆ°// Create the splits for the jobçš„åœ°æ–¹ï¼Œä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ï¼Œåˆšæ‰çœ‹çš„é‚£ä¹ˆå¤šæºç æ˜¯writeSplitsçš„å®žçŽ°ï¼Œè¿™é‡Œçš„mapså°±æ˜¯writeSplitsè®¡ç®—å‡ºçš„éœ€è¦å¤šå°‘ä¸ªmapï¼ˆä¸€ä¸ªblockä¸­çš„splitsæ•°é‡ï¼‰ã€‚å¯ä»¥é‡æ–°è¿½æº¯ç€å¤ç›˜ä¸€ä¸‹ï¼Œmaps&lt;â€“writeSplits&lt;â€“writeNewSplits(è¿”å›žarray.length&lt;â€“splits.toarray)&lt;â€“getSplits(è¿”å›žsplits&lt;â€“forå¾ªçŽ¯è¿­ä»£filesè¿‡ç¨‹ä¸­splits.add())ä¸‹é¢çš„å°±çœ‹ç€æ³¨é‡Šèµ°é©¬è§‚èŠ±å§ï¼Œåˆ°æœ€åŽï¼Œç»ˆäºŽsubmitäº†ã€‚è°¢å¤©è°¢åœ°ï¼Œæˆ‘å¿«è¦ç–¯äº†ã€‚ä»Žæºç å¯ä»¥çœ‹å‡ºå®¢æˆ·ç«¯ä¸»è¦åšäº†ä»¥ä¸‹äº‹æƒ…ï¼Œè®¡ç®—å‘æ•°æ®ç§»åŠ¨ï¼Œæœ¬åœ°åŒ–æ•°æ®è¯»å–ï¼š é…ç½®å®Œå–„ï¼šä¸ªæ€§åŒ– æ£€æŸ¥è·¯å¾„ è®¡ç®—Split:mapsblocklocationï¼šä½ç½®ä¿¡æ¯file1.txt,0,1048576,node02,node03,node04file1.txt,1048576,1048576,node01,node02,node03 èµ„æºæäº¤åˆ°HDFS æäº¤ä»»åŠ¡æŽ¥ä¸‹æ¥ç”±é›†ç¾¤ä¸­AppMasterå‘RMç”³è¯·èµ„æºï¼ˆå‚ç…§splitï¼‰ã€‚ æµ‹è¯•ç†è§£å†™ä¸€ä¸ªWordCountç¨‹åºï¼Œåœ¨Mapperä¸­æ·»åŠ ä¸€è¡ŒThread.sleep(999999);å¦‚ä¸‹ï¼š 12345while (itr.hasMoreTokens()) &#123; word.set(itr.nextToken()); Thread.sleep(999999); context.write(word, one);&#125; æ‰“jaråŒ…æ‹·è´åˆ°ä½ çš„HDFSä¸»èŠ‚ç‚¹ï¼Œè¿è¡Œã€‚çœ‹åˆ°map 0% reduce 0%åŽï¼Œæ–°å¼€ä¸€ä¸ªsshçª—å£,æŸ¥çœ‹hdfsçš„æ ¹ç›®å½•ï¼Œå‘çŽ°å¤šäº†ä¸€ä¸ªtmpç›®å½•ï¼Œä¸€æ­¥æ­¥æ·±å…¥å…¶ä¸­ã€‚å¯ä»¥å°†è¿™äº›æ–‡ä»¶getåˆ°æœ¬åœ°ï¼Œç„¶åŽå‘çŽ°è¿™é‡Œé¢çš„job.jarå’Œä¸€å¼€å§‹ä¸Šä¼ çš„testHadoop-1.0-SNAPSHOT.jarå¤§å°ä¸€æ ·ï¼Œå…¶å®žå†…å®¹ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œé›†ç¾¤ä¸­ä»»ä¸€èŠ‚ç‚¹å¯åŠ¨MapTaskä»»åŠ¡åŽï¼Œå°±ä¼šæŠŠè¿™ä¸ªjaråŒ…æ‹¿è¿‡åŽ»ï¼Œç„¶åŽåå°„å‡ºé‡Œé¢çš„MyMapperã€‚ç„¶åŽä»»ä¸€èŠ‚ç‚¹å¯åŠ¨ReduceTaskä»»åŠ¡åŽï¼Œä¹Ÿä¼šä»Žhdfsä¸­æŠŠè¿™ä¸ªjaråŒ…æ‹¿è¿‡åŽ»ï¼Œåå°„å‡ºé‡Œé¢çš„MyReducer,è¿™æ ·å°±å¯ä»¥åˆ†å¸ƒå¼åœ°è®¡ç®—äº†ã€‚12-rw-r--r-- 1 root root 13K Jul 7 03:44 testHadoop-1.0-SNAPSHOT.jar-rw-r--r-- 1 root root 13K Jul 7 03:50 job.jar æŸ¥çœ‹job.split,å‘çŽ°é‡Œé¢çš„ä¹±ç ï¼Œè¿™éƒ¨åˆ†ä¹±ç ä¹‹å‰æºç ä¸­çœ‹åˆ°çš„makeSplitçš„å‚æ•°ï¼Œå³splitåˆ—è¡¨ä¸­çš„ä¿¡æ¯ï¼šæ–‡ä»¶ï¼Œåç§»é‡ï¼Œsplité•¿åº¦ï¼ˆå¤§å° ï¼‰ï¼ŒèŠ‚ç‚¹ä¸»æœºåã€‚12[root@node01 tmp]# vi job.splitSPL^@^@^@^A/org.apache.hadoop.mapreduce.lib.input.FileSplit*hdfs://mycluster/sxt/mr/wc/input/hello.txt^@^@^@^@^@^@^@^@^@^@^@^@^@%Ãº? WordCountç¤ºä¾‹å°†Jobï¼ŒMapperï¼ŒReducerçš„exampleé‡Œçš„ä»£ç æ‹¼èµ·æ¥å°±åˆšå¥½æ˜¯ä¸€ä¸ªWordCountç¨‹åºï¼Œè‡ªå·±ç¨ä½œä¿®æ”¹å°±è¡Œã€‚ Clientç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package com.chant.mr.wc;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.fs.FileSystem;import org.apache.hadoop.fs.Path;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Job;import org.apache.hadoop.mapreduce.lib.db.DBInputFormat;import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;import java.io.IOException;/** * Created by Chant on 2017/7/8. */public class MyJob &#123; public static void main(String[] args) throws IOException, ClassNotFoundException, InterruptedException &#123; Configuration conf = new Configuration(true); Job job = Job.getInstance(conf); // Create a new Job// Job job = Job.getInstance(); job.setJarByClass(MyJob.class); // Specify various job-specific parameters job.setJobName("myjob");// job.setInputPath(new Path("in"));// job.setOutputPath(new Path("out"));// ä¸Šé¢çš„æ˜¯ç¤ºä¾‹é‡Œçš„ä¼ ç»Ÿæ–¹æ³•ï¼ŒçŽ°åœ¨ç”¨ä»¥ä¸‹æ–¹æ³•,å› ä¸ºè¿˜å¯ä»¥ä»Žæ•°æ®åº“æˆ–è€…å…¶ä»–åœ°æ–¹æ‹¿æ•°æ®ã€‚ Path input = new Path("/sxt/mr/wc/input"); FileInputFormat.addInputPath(job,input);// DBInputFormat.setInput(); Path output = new Path("/sxt/mr/wc/output"); if (output.getFileSystem(conf).exists(output))//ä¹Ÿå¯ä»¥ç”¨FileSystem fs = FileSystem.get(conf);ç„¶åŽfs.exist(output) &#123; output.getFileSystem(conf).delete(output); &#125; FileOutputFormat.setOutputPath(job,output); job.setMapperClass(MyMapper.class);// mapçš„è¾“å‡ºç»“æžœåˆ°bufferçŽ¯é‡Œï¼Œä¼šåºåˆ—åŒ–ã€‚éœ€è¦å‘Šè¯‰reduceä½ è¿™ä¸ªååºåˆ—åŒ–åŽæ˜¯ä»€ä¹ˆç±»åž‹ï¼Œreduceä¼šå°†ååºåˆ—åŒ–åŽçš„ç±»åž‹å¼ºè½¬ä¸ºå¯¹åº”ç±»åž‹ã€‚ job.setMapOutputKeyClass(Text.class); job.setMapOutputValueClass(IntWritable.class); job.setReducerClass(MyReducer.class); // Submit the job, then poll for progress until the job is complete job.waitForCompletion(true); &#125;&#125; Mapperç±»1234567891011121314151617181920212223242526package com.chant.mr.wc;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Mapper;import java.io.IOException;import java.util.StringTokenizer;/** * Created by Chant on 2017/7/8. */public class MyMapper extends Mapper&lt;Object, Text, Text, IntWritable&gt; &#123;// ä¸ºä»€ä¹ˆè¦æŠŠwordå’Œoneå®šä¹‰åˆ°mapä¹‹å¤–å‘¢ï¼Ÿ å› ä¸ºmapç«¯å¯èƒ½è¯»å…¥å¾ˆå¤šè¡Œï¼Œæœ‰10ä¸‡è¡Œå°±è°ƒç”¨åä¸‡æ¬¡mapæ–¹æ³•ï¼Œå¦‚æžœwordå’Œoneå®šä¹‰åˆ°mapé‡Œé¢ï¼Œå°±ä¼šåˆ›å»º10ä¸‡ä¸ªwordå’Œoneå¯¹è±¡ï¼Œgcå°±ä¼šå¾ˆå¿™ï¼Œç¨‹åºé˜»å¡žã€‚ private final static IntWritable one = new IntWritable(1); private Text word = new Text(); public void map(Object key, Text value, Context context) throws IOException, InterruptedException &#123; StringTokenizer itr = new StringTokenizer(value.toString()); while (itr.hasMoreTokens()) &#123; word.set(itr.nextToken()); Thread.sleep(999999); context.write(word, one); &#125; &#125;&#125; Reduceerç±»123456789101112131415161718192021222324package com.chant.mr.wc;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Reducer;import java.io.IOException;/** * Created by Chant on 2017/7/8. */public class MyReducer extends Reducer&lt;Text,IntWritable, Text,IntWritable&gt; &#123; private IntWritable result = new IntWritable(); public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context) throws IOException, InterruptedException &#123; int sum = 0; for (IntWritable val : values) &#123; sum += val.get(); &#125; result.set(sum); context.write(key, result); &#125;&#125;]]></content>
      <categories>
        <category>Bigdata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>API</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HADOOP--macä¸‹IDEAè¿žæŽ¥hadoopé›†ç¾¤å¼€å‘API]]></title>
    <url>%2F2017%2F07%2F05%2FIDEAConnectHadoop%2F</url>
    <content type="text"><![CDATA[macä¸‹IDEAè¿žæŽ¥hadoopé›†ç¾¤å¼€å‘API åˆ›å»ºé¡¹ç›® pom.xmlæ–‡ä»¶å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.Chant.hadoop&lt;/groupId&gt; &lt;artifactId&gt;testHadoop&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;hadoop.version&gt;2.6.5&lt;/hadoop.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt; &lt;version&gt;$&#123;hadoop.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt; &lt;version&gt;$&#123;hadoop.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt; &lt;version&gt;$&#123;hadoop.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;3.8.1&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; æ·»åŠ ä¾èµ–çš„Libaryå¼•ç”¨é¡¹ç›®å’Œæ˜¯å“ªä¸ªå³å‡»open module sttingæˆ–è€…command+å‘ä¸‹é”®ã€‚ä½¿ç”¨å‘½ä»¤å°†éƒ¨ç½²åŒ…ä¸­share/hadoopä¸‹ï¼ˆå…¶å®žå¯ä»¥ä¸è¦kmså’Œhttpfsä¸‹çš„jaråŒ…ï¼‰çš„jaråŒ…éƒ½æ‹·è´åˆ°åŒä¸€ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿æ·»åŠ ã€‚12[root@node01 share]# hadoop-2.6.5/share[root@node01 share]# \cp $(find hadoop -name *.jar) hadoop-2.6.5-lib.test å°†æ‰€æœ‰jaråŒ…æ·»åŠ è¿›æ¥ï¼Œå¯¼å…¥çš„libaryå¯ä»¥èµ·ä¸ªåç§°ï¼Œæ¯”å¦‚hadoop2.6.5ã€‚ è®¾ç½®è¿è¡Œå‚æ•°hdfs://node01:9000/chant/words/input/test.txthdfs://node01:9000/chant/words/outputå¤§å®¶å‚è€ƒè¿™ä¸ªæ”¹ä¸€ä¸‹(ä¸»è¦æ˜¯æŠŠIPæ¢æˆè‡ªå·±è™šæ‹Ÿæœºé‡Œçš„IP)ï¼Œæ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœinput/test.txtæ–‡ä»¶æ²¡æœ‰ï¼Œè¯·å…ˆæ‰‹åŠ¨ä¸Šä¼ ï¼Œç„¶åŽ/output/ å¿…é¡»æ˜¯ä¸å­˜åœ¨çš„ï¼Œå¦åˆ™ç¨‹åºè¿è¡Œåˆ°æœ€åŽï¼Œå‘çŽ°ç›®æ ‡ç›®å½•å­˜åœ¨ï¼Œä¹Ÿä¼šæŠ¥é”™ï¼Œ è¿™é‡ŒIPå’Œç«¯å£è¦çœ‹é›†ç¾¤é…ç½®ï¼Œæ¯”å¦‚æˆ‘çš„core-site.xmlé‡Œdfs.DefaultFSé…çš„æ˜¯hdfs://mycluster,è€Œhdfs-site.xmlé‡Œrpcé…çš„node01:8020ï¼Œæ‰€ä»¥å†™node01:8020ã€‚12345678910# core-site.xml&lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://mycluster&lt;/value&gt;&lt;/property&gt;# hdfs-site.xml&lt;property&gt; &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn1&lt;/name&gt; &lt;value&gt;node01:8020&lt;/value&gt;&lt;/property&gt; working directoryï¼šæŒ‡å‘ä½ æœ¬åœ°çš„hadoopå®‰è£…ç›®å½•ã€‚ WordCountæµ‹è¯•ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133package com.chant.mr;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.fs.FileSystem;import org.apache.hadoop.fs.Path;import org.apache.hadoop.io.IOUtils;import org.apache.hadoop.io.IntWritable;import org.apache.hadoop.io.LongWritable;import org.apache.hadoop.io.Text;import org.apache.hadoop.mapreduce.Job;import org.apache.hadoop.mapreduce.Mapper;import org.apache.hadoop.mapreduce.Reducer;import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;import org.apache.hadoop.util.GenericOptionsParser;import java.io.IOException;import java.io.InputStream;/** * Created by Chant on 2017/7/6. *//** * è¿™æ˜¯ç»Ÿè®¡å•è¯ä¸ªæ•°çš„ä¾‹å­ * &lt;p&gt; * Created by zhangws on 16/7/31. */public class WordsCount &#123; public static class MyMapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; &#123; public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException &#123; String[] strings = value.toString().split(&quot; &quot;); for (String s : strings) &#123; //å°†æ–‡æœ¬è¡Œæ”¾å…¥key context.write(new Text(s), new IntWritable(1)); &#125; &#125; &#125; public static class MyReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; &#123; public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context) throws IOException, InterruptedException &#123; int count = 0; for (IntWritable v : values) &#123; count += v.get(); &#125; //è¾“å‡ºkey context.write(key, new IntWritable(count)); &#125; &#125; public static void main(String[] args) throws Exception &#123; Configuration conf = new Configuration(); String[] otherArgs = new GenericOptionsParser(conf, args).getRemainingArgs(); if (otherArgs.length &lt; 2) &#123; System.err.println(&quot;Usage: wordcount &lt;in&gt; [&lt;in&gt;...] &lt;out&gt;&quot;); System.exit(2); &#125; //å…ˆåˆ é™¤outputç›®å½• rmr(conf, otherArgs[otherArgs.length - 1]); Job job = Job.getInstance(conf, &quot;WordsCount&quot;); job.setJarByClass(WordsCount.class); job.setMapperClass(MyMapper.class); job.setCombinerClass(MyReducer.class); job.setReducerClass(MyReducer.class); job.setOutputKeyClass(Text.class); job.setOutputValueClass(IntWritable.class); FileInputFormat.addInputPath(job, new Path(otherArgs[0])); FileOutputFormat.setOutputPath(job, new Path(otherArgs[1])); if (job.waitForCompletion(true)) &#123; cat(conf, otherArgs[1] + &quot;/part-r-00000&quot;); System.out.println(&quot;success&quot;); &#125; else &#123; System.out.println(&quot;fail&quot;); &#125; &#125; /** * åˆ é™¤æŒ‡å®šç›®å½• * * @param conf * @param dirPath * @throws IOException */ private static void rmr(Configuration conf, String dirPath) throws IOException &#123; boolean delResult = false;// FileSystem fs = FileSystem.get(conf); Path targetPath = new Path(dirPath); FileSystem fs = targetPath.getFileSystem(conf); if (fs.exists(targetPath)) &#123; delResult = fs.delete(targetPath, true); if (delResult) &#123; System.out.println(targetPath + &quot; has been deleted sucessfullly.&quot;); &#125; else &#123; System.out.println(targetPath + &quot; deletion failed.&quot;); &#125; &#125;// return delResult; &#125; /** * è¾“å‡ºæŒ‡å®šæ–‡ä»¶å†…å®¹ * * @param conf HDFSé…ç½® * @param filePath æ–‡ä»¶è·¯å¾„ * @return æ–‡ä»¶å†…å®¹ * @throws IOException */ public static void cat(Configuration conf, String filePath) throws IOException &#123;// FileSystem fileSystem = FileSystem.get(conf); InputStream in = null; Path file = new Path(filePath); FileSystem fileSystem = file.getFileSystem(conf); try &#123; in = fileSystem.open(file); IOUtils.copyBytes(in, System.out, 4096, true); &#125; finally &#123; if (in != null) &#123; IOUtils.closeStream(in); &#125; &#125; &#125;&#125; å‚è€ƒæ–‡ç«  Macbook Intellij ideaä¸ŽEclipseè¿œç¨‹è°ƒè¯•Hadoopåº”ç”¨ç¨‹åº eclipse/intellij idea è¿œç¨‹è°ƒè¯•hadoop 2.6.0]]></content>
      <categories>
        <category>Bigdata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>API</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonç¬”è®°ï¼ˆäº”ï¼‰-- é«˜çº§ç‰¹æ€§]]></title>
    <url>%2F2017%2F06%2F27%2FpyhthonNote5%2F</url>
    <content type="text"><![CDATA[åˆ‡ç‰‡ï¼Œå…¨å±€å˜é‡ï¼Œç”Ÿæˆå™¨ åˆ‡ç‰‡ï¼ˆsliceï¼‰åˆ‡ç‰‡ï¼ˆsliceï¼‰ç”¨äºŽå–ä¸€ä¸ªlistæˆ–tupleçš„éƒ¨åˆ†å…ƒç´ ,æ¯”å¦‚ï¼Œä¸€ä¸ªlistå¦‚ä¸‹ï¼š1&gt;&gt;&gt; L = [&apos;Michael&apos;, &apos;Sarah&apos;, &apos;Tracy&apos;, &apos;Bob&apos;, &apos;Jack&apos;] L[0:3]è¡¨ç¤ºï¼Œä»Žç´¢å¼•0å¼€å§‹å–ï¼Œç›´åˆ°ç´¢å¼•3ä¸ºæ­¢ï¼Œä½†ä¸åŒ…æ‹¬ç´¢å¼•3ã€‚å³ç´¢å¼•0ï¼Œ1ï¼Œ2ï¼Œæ­£å¥½æ˜¯3ä¸ªå…ƒç´ ã€‚å¦‚æžœç¬¬ä¸€ä¸ªç´¢å¼•æ˜¯0ï¼Œè¿˜å¯ä»¥çœç•¥ï¼š12&gt;&gt;&gt; L[:3][&apos;Michael&apos;, &apos;Sarah&apos;, &apos;Tracy&apos;] ç±»ä¼¼çš„ï¼Œæ—¢ç„¶Pythonæ”¯æŒL[-1]å–å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå®ƒåŒæ ·æ”¯æŒå€’æ•°åˆ‡ç‰‡ã€‚1234&gt;&gt;&gt; L[-2:]['Bob', 'Jack']&gt;&gt;&gt; L[-2:-1]['Bob'] æ‰€æœ‰æ•°ï¼Œæ¯5ä¸ªå–ä¸€ä¸ªï¼š123&gt;&gt;&gt; L = list(range(100))&gt;&gt;&gt; L[::5][0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95] ç”šè‡³ä»€ä¹ˆéƒ½ä¸å†™ï¼Œåªå†™[:]å°±å¯ä»¥åŽŸæ ·å¤åˆ¶ä¸€ä¸ªlist(è¿™å¯ä»¥ç”¨æ¥è§£å†³é»˜è®¤å‚æ•°é‡å¤èµ‹å€¼é—®é¢˜)ï¼š12&gt;&gt;&gt; L[:][0, 1, 2, 3, ..., 99] tupleä¹Ÿæ˜¯ä¸€ç§listï¼Œå”¯ä¸€åŒºåˆ«æ˜¯tupleä¸å¯å˜ã€‚å› æ­¤ï¼Œtupleä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œçš„ç»“æžœä»æ˜¯tupleï¼š12&gt;&gt;&gt; (0, 1, 2, 3, 4, 5)[:3](0, 1, 2) å­—ç¬¦ä¸²&#39;xxx&#39;ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ç§listï¼Œæ¯ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œç»“æžœä»æ˜¯å­—ç¬¦ä¸²ï¼š1234&gt;&gt;&gt; &apos;ABCDEFG&apos;[:3]&apos;ABC&apos;&gt;&gt;&gt; &apos;ABCDEFG&apos;[::2]&apos;ACEG&apos; å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡12345678A = 10def fun(): global A A = 20print(A) # 10fun()print(A) # 20 generatorè¦åˆ›å»ºä¸€ä¸ªgeneratorï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•å¾ˆç®€å•ï¼Œåªè¦æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„[]æ”¹æˆ()ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªgeneratorï¼š 123456&gt;&gt;&gt; L = [x * x for x in range(10)]&gt;&gt;&gt; L[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]&gt;&gt;&gt; g = (x * x for x in range(10))&gt;&gt;&gt; g&lt;generator object &lt;genexpr&gt; at 0x1022ef630&gt; åˆ›å»ºLå’Œgçš„åŒºåˆ«ä»…åœ¨äºŽæœ€å¤–å±‚çš„[]å’Œ()ï¼ŒLæ˜¯ä¸€ä¸ªlistï¼Œè€Œgæ˜¯ä¸€ä¸ªgeneratorã€‚æˆ‘ä»¬å¯ä»¥ç›´æŽ¥æ‰“å°å‡ºlistçš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œä½†æˆ‘ä»¬æ€Žä¹ˆæ‰“å°å‡ºgeneratorçš„æ¯ä¸€ä¸ªå…ƒç´ å‘¢ï¼Ÿå¦‚æžœè¦ä¸€ä¸ªä¸€ä¸ªæ‰“å°å‡ºæ¥ï¼Œå¯ä»¥é€šè¿‡next()å‡½æ•°èŽ·å¾—generatorçš„ä¸‹ä¸€ä¸ªè¿”å›žå€¼ï¼š 123456789&gt;&gt;&gt; next(g)0&gt;&gt;&gt; next(g)1# æ‰§è¡Œåˆ°æœ€åŽä¸€ä¸ªå…ƒç´ çš„æ—¶å€™&gt;&gt;&gt; next(g)Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt;StopIteration generatorä¿å­˜çš„æ˜¯ç®—æ³•ï¼Œæ¯æ¬¡è°ƒç”¨next(g)ï¼Œå°±è®¡ç®—å‡ºgçš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œç›´åˆ°è®¡ç®—åˆ°æœ€åŽä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰æ›´å¤šçš„å…ƒç´ æ—¶ï¼ŒæŠ›å‡ºStopIterationçš„é”™è¯¯ã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªgeneratoråŽï¼ŒåŸºæœ¬ä¸Šæ°¸è¿œä¸ä¼šè°ƒç”¨next()ï¼Œè€Œæ˜¯é€šè¿‡forå¾ªçŽ¯æ¥è¿­ä»£å®ƒï¼Œå¹¶ä¸”ä¸éœ€è¦å…³å¿ƒStopIterationçš„é”™è¯¯ã€‚ 1234567&gt;&gt;&gt; g = (x * x for x in range(3))&gt;&gt;&gt; for n in g:... print(n)... 014 yeild å®šä¹‰generatorFibonacci sequenceï¼ˆæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰123456789def fib(max): n, a, b = 0, 0, 1 while n &lt; max: print(a) a, b = b, a+b n = n+1 return 'done'fib(10) ä»”ç»†è§‚å¯Ÿï¼Œå¯ä»¥çœ‹å‡ºï¼Œfibå‡½æ•°å®žé™…ä¸Šæ˜¯å®šä¹‰äº†æ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„æŽ¨ç®—è§„åˆ™ï¼Œå¯ä»¥ä»Žç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼ŒæŽ¨ç®—å‡ºåŽç»­ä»»æ„çš„å…ƒç´ ï¼Œè¿™ç§é€»è¾‘å…¶å®žéžå¸¸ç±»ä¼¼generatorã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„å‡½æ•°å’Œgeneratorä»…ä¸€æ­¥ä¹‹é¥ã€‚è¦æŠŠfibå‡½æ•°å˜æˆgeneratorï¼Œåªéœ€è¦æŠŠprint(b)æ”¹ä¸ºyield bå°±å¯ä»¥äº†ï¼š è¿™å°±æ˜¯å®šä¹‰generatorçš„å¦ä¸€ç§æ–¹æ³•ã€‚å¦‚æžœä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸­åŒ…å«yieldå…³é”®å­—ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±ä¸å†æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªgeneratorã€‚ è¿™é‡Œï¼Œæœ€éš¾ç†è§£çš„å°±æ˜¯generatorå’Œå‡½æ•°çš„æ‰§è¡Œæµç¨‹ä¸ä¸€æ ·ã€‚å‡½æ•°æ˜¯é¡ºåºæ‰§è¡Œï¼Œé‡åˆ°returnè¯­å¥æˆ–è€…æœ€åŽä¸€è¡Œå‡½æ•°è¯­å¥å°±è¿”å›žã€‚è€Œå˜æˆgeneratorçš„å‡½æ•°ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨next()çš„æ—¶å€™æ‰§è¡Œï¼Œé‡åˆ°yieldè¯­å¥è¿”å›žï¼Œå†æ¬¡æ‰§è¡Œæ—¶ä»Žä¸Šæ¬¡è¿”å›žçš„yieldè¯­å¥å¤„ç»§ç»­æ‰§è¡Œã€‚12345678print("====================")def fibGenerator(max): n, a, b = 0, 0, 1 while n&lt; max: yield a a, b =b, a+b n += 1 return 'done' è°ƒç”¨è¯¥generatoræ—¶ï¼Œé¦–å…ˆè¦ç”Ÿæˆä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œç„¶åŽç”¨next()å‡½æ•°ä¸æ–­èŽ·å¾—ä¸‹ä¸€ä¸ªè¿”å›žå€¼ï¼š 1234567891011121314151617181920f = fibGenerator(10)print(next(f))print(next(f))print(next(f))print('=====================')for x in f: print(x)# è¾“å‡ºç»“æžœå¦‚ä¸‹011=====================2358132134 åŒæ ·çš„ï¼ŒæŠŠå‡½æ•°æ”¹æˆgeneratoråŽï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šä»Žæ¥ä¸ä¼šç”¨next()æ¥èŽ·å–ä¸‹ä¸€ä¸ªè¿”å›žå€¼ï¼Œè€Œæ˜¯ç›´æŽ¥ä½¿ç”¨forå¾ªçŽ¯æ¥è¿­ä»£ï¼š1234567print(fibGenerator(10))for x in fibGenerator(10): print(x)print("====================")L = [x for x in fibGenerator(10)]print(L) ç”¨forå¾ªçŽ¯è°ƒç”¨generatoræ—¶ï¼Œå‘çŽ°æ‹¿ä¸åˆ°generatorçš„returnè¯­å¥çš„è¿”å›žå€¼ã€‚å¦‚æžœæƒ³è¦æ‹¿åˆ°è¿”å›žå€¼ï¼Œå¿…é¡»æ•èŽ·StopIterationé”™è¯¯ï¼Œè¿”å›žå€¼åŒ…å«åœ¨StopIterationçš„valueä¸­ï¼š 12345678910111213141516171819while True: try: x = next(f) print('f: ', x) except StopIteration as e: print('Generator return value: ', e.value) break# è¾“å‡ºç»“æžœå¦‚ä¸‹f: 0f: 1f: 1f: 2f: 3f: 5f: 8f: 13f: 21f: 34Generator return value: done ç»ƒä¹ â€“æ¨è¾‰ä¸‰è§’æ¨è¾‰ä¸‰è§’å®šä¹‰å¦‚ä¸‹ï¼š123456 1 1 1 1 2 1 1 3 3 1 1 4 6 4 11 5 10 10 5 1 æŠŠæ¯ä¸€è¡Œçœ‹åšä¸€ä¸ªlistï¼Œè¯•å†™ä¸€ä¸ªgeneratorï¼Œä¸æ–­è¾“å‡ºä¸‹ä¸€è¡Œçš„listï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# ä»¥ä¸‹æ˜¯æˆ‘å†™çš„æ¸£æ¸£ç‰ˆdef triangles(max): n = 1 if n == 1: L = [1] # print(L) yield L n = n + 1 L = [1,1] # print(L) yield L while n &lt; max: L = list([*L, 1]) L[0] = 1 L[n-1] = 1 l = L[:] for i in range(1, n): L[i] = l[i-1] + l[i] n = n + 1 yield L # print(L)t = triangles(10)for i in t: print(i)# è¾“å‡ºç»“æžœå¦‚ä¸‹[1][1, 1][1, 2, 1][1, 3, 3, 1][1, 4, 6, 4, 1][1, 5, 10, 10, 5, 1][1, 6, 15, 20, 15, 6, 1][1, 7, 21, 35, 35, 21, 7, 1][1, 8, 28, 56, 70, 56, 28, 8, 1][1, 9, 36, 84, 126, 126, 84, 36, 9, 1]# ä¸‹é¢æ˜¯ç½‘å‹ç»™å‡ºçš„ç®€æ´ç‰ˆ,å†æ¬¡è¢«ç§’æˆæ¸£def trian(max): L=[1] n = 0 while n &lt; max: yield L L = [1] + [ L[x-1] + L[x] for x in range(1,len(L)) ] + [1] n += 1t = trian(10)for i in t: print(i) å‚è€ƒèµ„æ–™ å»–é›ªå³°pythonæ•™ç¨‹]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonç¬”è®°ï¼ˆå››ï¼‰-- å‡½æ•°]]></title>
    <url>%2F2017%2F06%2F26%2F2017-06-26%2F</url>
    <content type="text"><![CDATA[å‡½æ•°ä¸­çš„å„ç§å‚æ•°ï¼Œlambdaè¡¨è¾¾å¼ï¼Œé€’å½’å‡½æ•°ï¼Œæ±‰è¯ºå¡”ç¤ºä¾‹ã€‚ ç©ºå‡½æ•°æœ‰å•¥åµç”¨ï¼Ÿéªšå¹´ï¼Œè¿˜è®°å¾—å¤§æ˜Žæ¹–ç•”ï¼ˆjavaä¸­ï¼‰çš„æŠ½è±¡å‡½æ•°ä¹ˆï¼Ÿ12def nop(): pass å‡½æ•°çš„å‚æ•°ç±»åž‹æ£€æŸ¥ï¼šif not isinstance(x, (int, float)): raise TypeError(&#39;bad operand type&#39;)1234567def my_abs(x): if not isinstance(x, (int, float)): raise TypeError(&apos;bad operand type&apos;) if x &gt;= 0: return x else: return -x å‚æ•°positional argumentsï¼ˆä½ç½®å‚æ•°ï¼‰ï¼šå°±æ˜¯æ™®é€šçš„å‚æ•°äº†ï¼Œæˆ‘çŒœæ˜¯å› ä¸ºä¼ å‚æ—¶å…¶ä½ç½®å¿…é¡»ä¸€ä¸€å¯¹åº”è€Œå¾—åã€‚key-word argumentsï¼ˆå…³é”®å­—å‚æ•°ï¼‰ï¼šå½¢å¼ä¸ºkwarg=valueï¼Œï¼ˆå¦‚æžœå‡ºçŽ°åœ¨å‡½æ•°å®šä¹‰ä¸­ï¼Œè¿™ä¹Ÿå°±æ˜¯é»˜è®¤å‚æ•°ï¼‰æˆ–é€šè¿‡è¯å…¸æ‹†åŒ…**dictæ¥ä¼ é€’ã€‚arbitrary argument lists(å¯å˜å‚æ•°è¡¨): å½¢å¼ä¸º*anameNOTEï¼šåœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­çš„é¡ºåºä¸ºï¼šä½ç½®å‚æ•°ï¼Œå¯å˜å‚æ•°è¡¨ï¼Œå…³é”®å­—å‚æ•° 1234567891011121314151617181920""" Arbitrary Argument Lists """&gt;&gt;&gt; def concat(*args, sep="/"):... return sep.join(args)...&gt;&gt;&gt; concat("earth", "mars", "venus")'earth/mars/venus'&gt;&gt;&gt; concat("earth", "mars", "venus", sep=".")'earth.mars.venus'# å¯å˜å‚æ•°ä¹‹åŽæ˜¯å…³é”®å­—å‚æ•°ï¼Œå¿…é¡»ä»¥é”®å€¼å¯¹çš„å½¢å¼ä¼ å…¥ï¼Œå¦åˆ™ä¼šè¢«è®¤ä¸ºæ˜¯å¯å˜å‚æ•°ï¼Œæˆ–è€…æŠ¥é”™SyntaxError: positional argument follows keyword argument&gt;&gt;&gt; concat("earth", "mars", "venus", ".")'earth/mars/venus/.'# Unpacking Argument Lists&gt;&gt;&gt; def parrot(voltage, state='a stiff', action='voom'):... print("-- This parrot wouldn't", action, end=' ')... print("if you put", voltage, "volts through it.", end=' ')... print("E's", state, "!")...&gt;&gt;&gt; d = &#123;"voltage": "four million", "state": "bleedin' demised", "action": "VOOM"&#125;&gt;&gt;&gt; parrot(**d)-- This parrot wouldn't VOOM if you put four million volts through it. E's bleedin' demised ! å…³é”®å­—å‚æ•°å¯ä»¥ä¼ å…¥0ä¸ªæˆ–è€…ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å‚æ•°ååœ¨å‡½æ•°å®šä¹‰ä¸­å¹¶æ²¡æœ‰å‡ºçŽ°ï¼Œè¿™äº›å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨å°è£…æˆä¸€ä¸ªå­—å…¸(dict).123456def portrait(name, **kw): print('name is', name) for k,v in kw.items(): print(k, v) portrait('Mike', age=24, country='China', education='bachelor') å¦‚æžœè¦é™åˆ¶å…³é”®å­—å‚æ•°çš„åå­—ï¼Œå°±å¯ä»¥ç”¨å‘½åå…³é”®å­—å‚æ•°ï¼Œä¾‹å¦‚ï¼ŒåªæŽ¥æ”¶cityå’Œjobä½œä¸ºå…³é”®å­—å‚æ•°ã€‚è¿™ç§æ–¹å¼å®šä¹‰çš„å‡½æ•°å¦‚ä¸‹ï¼š12def person(name, age, *, city, job): print(name, age, city, job) è°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š12&gt;&gt;&gt; person(&apos;Jack&apos;, 24, city=&apos;Beijing&apos;, job=&apos;Engineer&apos;)Jack 24 Beijing Engineer å¦‚æžœå‡½æ•°å®šä¹‰ä¸­å·²ç»æœ‰äº†ä¸€ä¸ªå¯å˜å‚æ•°ï¼ŒåŽé¢è·Ÿç€çš„å‘½åå…³é”®å­—å‚æ•°å°±ä¸å†éœ€è¦ä¸€ä¸ªç‰¹æ®Šåˆ†éš”ç¬¦*äº†ï¼šdef person(name, age, *args, city, job): print(name, age, args, city, job)å‘½åå…³é”®å­—å‚æ•°å¿…é¡»ä¼ å…¥å‚æ•°åï¼Œè¿™å’Œä½ç½®å‚æ•°ä¸åŒã€‚å¦‚æžœæ²¡æœ‰ä¼ å…¥å‚æ•°åï¼Œè°ƒç”¨å°†æŠ¥é”™ï¼š1234&gt;&gt;&gt; person(&apos;Jack&apos;, 24, &apos;Beijing&apos;, &apos;Engineer&apos;)Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;TypeError: person() takes 2 positional arguments but 4 were given ç”±äºŽè°ƒç”¨æ—¶ç¼ºå°‘å‚æ•°åcityå’Œjobï¼ŒPythonè§£é‡Šå™¨æŠŠè¿™4ä¸ªå‚æ•°å‡è§†ä¸ºä½ç½®å‚æ•°ï¼Œä½†person()å‡½æ•°ä»…æŽ¥å—2ä¸ªä½ç½®å‚æ•°ã€‚ é€šè¿‡å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ï¼Œä»»ä½•å‡½æ•°éƒ½å¯ä»¥ç”¨ universal_func(*args, **kw) è¡¨è¾¾ã€‚ å‚æ•°å°ç»“ï¼šé»˜è®¤å‚æ•°ä¸€å®šè¦ç”¨ä¸å¯å˜å¯¹è±¡ï¼Œå¦‚æžœæ˜¯å¯å˜å¯¹è±¡ï¼Œç¨‹åºè¿è¡Œæ—¶ä¼šæœ‰é€»è¾‘é”™è¯¯ï¼è¦æ³¨æ„å®šä¹‰å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š *argsæ˜¯å¯å˜å‚æ•°ï¼ŒargsæŽ¥æ”¶çš„æ˜¯ä¸€ä¸ªtupleï¼›**kwæ˜¯å…³é”®å­—å‚æ•°ï¼ŒkwæŽ¥æ”¶çš„æ˜¯ä¸€ä¸ªdictã€‚ ä»¥åŠè°ƒç”¨å‡½æ•°æ—¶å¦‚ä½•ä¼ å…¥å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š å¯å˜å‚æ•°æ—¢å¯ä»¥ç›´æŽ¥ä¼ å…¥ï¼šfunc(1, 2, 3)ï¼Œåˆå¯ä»¥å…ˆç»„è£…listæˆ–tupleï¼Œå†é€šè¿‡*argsä¼ å…¥ï¼šfunc(*(1, 2, 3))ï¼›å­—å‚æ•°æ—¢å¯ä»¥ç›´æŽ¥ä¼ å…¥ï¼šfunc(a=1, b=2)ï¼Œåˆå¯ä»¥å…ˆç»„è£…dictï¼Œå†é€šè¿‡**kwä¼ å…¥ï¼šfunc(**{&#39;a&#39;: 1, &#39;b&#39;: 2})ã€‚ ä½¿ç”¨*argså’Œ**kwæ˜¯Pythonçš„ä¹ æƒ¯å†™æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–å‚æ•°åï¼Œä½†æœ€å¥½ä½¿ç”¨ä¹ æƒ¯ç”¨æ³•ã€‚å‘½åçš„å…³é”®å­—å‚æ•°æ˜¯ä¸ºäº†é™åˆ¶è°ƒç”¨è€…å¯ä»¥ä¼ å…¥çš„å‚æ•°åï¼ŒåŒæ—¶å¯ä»¥æä¾›é»˜è®¤å€¼ã€‚å®šä¹‰å‘½åçš„å…³é”®å­—å‚æ•°åœ¨æ²¡æœ‰å¯å˜å‚æ•°çš„æƒ…å†µä¸‹ä¸è¦å¿˜äº†å†™åˆ†éš”ç¬¦ï¼Œå¦åˆ™å®šä¹‰çš„å°†æ˜¯ä½ç½®å‚æ•°ã€‚å¦‚æžœå‡½æ•°å®šä¹‰ä¸­å·²ç»æœ‰äº†ä¸€ä¸ªå¯å˜å‚æ•°ï¼ŒåŽé¢è·Ÿç€çš„å‘½åå…³é”®å­—å‚æ•°å°±ä¸å†éœ€è¦ä¸€ä¸ªç‰¹æ®Šåˆ†éš”ç¬¦``äº†ã€‚ Lambda Expressions123456789101112def make_incrementor(n): return lambda x: x + n # lambdaæ–°å»ºäº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œç›¸å½“äºŽå¦‚ä¸‹ä»£ç  # def test(x): # return x + n # return testf = make_incrementor(42) # å°†42èµ‹å€¼ç»™nï¼Œå¹¶å°†è¿”å›žçš„lambdaåŒ¿åå‡½æ•°èµ‹å€¼ç»™fprint(f)print(f(0))print(f(1)) The above example uses a lambda expression to return a function. Another use is to pass a small function as an argument:1234&gt;&gt;&gt; pairs = [(1, &apos;one&apos;), (2, &apos;two&apos;), (3, &apos;three&apos;), (4, &apos;four&apos;)]&gt;&gt;&gt; pairs.sort(key=lambda pair: pair[0])&gt;&gt;&gt; pairs[(1, &apos;one&apos;), (2, &apos;two&apos;), (3, &apos;three&apos;), (4, &apos;four&apos;)] é€’å½’å‡½æ•°åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥è°ƒç”¨å…¶ä»–å‡½æ•°ã€‚å¦‚æžœä¸€ä¸ªå‡½æ•°åœ¨å†…éƒ¨è°ƒç”¨è‡ªèº«æœ¬èº«ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯é€’å½’å‡½æ•°ã€‚ 1234def fact(n): if n==1: return 1 return n * fact(n - 1) é€’å½’å‡½æ•°çš„ä¼˜ç‚¹æ˜¯å®šä¹‰ç®€å•ï¼Œé€»è¾‘æ¸…æ™°ã€‚ç†è®ºä¸Šï¼Œæ‰€æœ‰çš„é€’å½’å‡½æ•°éƒ½å¯ä»¥å†™æˆå¾ªçŽ¯çš„æ–¹å¼ï¼Œä½†å¾ªçŽ¯çš„é€»è¾‘ä¸å¦‚é€’å½’æ¸…æ™°ã€‚ ä½¿ç”¨é€’å½’å‡½æ•°éœ€è¦æ³¨æ„é˜²æ­¢æ ˆæº¢å‡ºã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œå‡½æ•°è°ƒç”¨æ˜¯é€šè¿‡æ ˆï¼ˆstackï¼‰è¿™ç§æ•°æ®ç»“æž„å®žçŽ°çš„ï¼Œæ¯å½“è¿›å…¥ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œæ ˆå°±ä¼šåŠ ä¸€å±‚æ ˆå¸§ï¼Œæ¯å½“å‡½æ•°è¿”å›žï¼Œæ ˆå°±ä¼šå‡ä¸€å±‚æ ˆå¸§ã€‚ç”±äºŽæ ˆçš„å¤§å°ä¸æ˜¯æ— é™çš„ï¼Œæ‰€ä»¥ï¼Œé€’å½’è°ƒç”¨çš„æ¬¡æ•°è¿‡å¤šï¼Œä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚å¯ä»¥è¯•è¯•fact(1000)ï¼š 1234567&gt;&gt;&gt; fact(1000)Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt; File "&lt;stdin&gt;", line 4, in fact ... File "&lt;stdin&gt;", line 4, in factRuntimeError: maximum recursion depth exceeded in comparison ä¸€äº›è¯­è¨€å¯ä»¥é€šè¿‡å°¾é€’å½’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯Pythonæ ‡å‡†çš„è§£é‡Šå™¨æ²¡æœ‰é’ˆå¯¹å°¾é€’å½’åšä¼˜åŒ–ï¼Œä»»ä½•é€’å½’å‡½æ•°éƒ½å­˜åœ¨æ ˆæº¢å‡ºçš„é—®é¢˜ã€‚ æ±‰è¯ºå¡”â€“é€’å½’å‡½æ•°çš„åº”ç”¨å®žä¾‹è¯·ç¼–å†™move(n, a, b, c)å‡½æ•°ï¼Œå®ƒæŽ¥æ”¶å‚æ•°nï¼Œè¡¨ç¤º3ä¸ªæŸ±å­Aã€Bã€Cä¸­ç¬¬1ä¸ªæŸ±å­Açš„ç›˜å­æ•°é‡ï¼Œç„¶åŽæ‰“å°å‡ºæŠŠæ‰€æœ‰ç›˜å­ä»ŽAå€ŸåŠ©Bç§»åŠ¨åˆ°Cçš„æ–¹æ³•ã€‚ç”»å›¾åˆ†æžä¸€ä¸‹ï¼šä»Žå›¾ä¸­çš„åˆ†æžå¯ä»¥çœ‹å‡ºf(n,a,b,c)=f(n-1,a,c,b)+f(1,a,b,c)+f(n-1,b,a,c)ï¼ŒäºŽæ˜¯ä½¿ç”¨é€’å½’å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š12345678910def move(n, a, b, c): if n == 1: print(a + '--&gt;' + c) return move(n-1, a, c, b) move(1, a, b, c) move(n-1, b, a, c)move(7, 'A', 'B', 'C') å‚è€ƒèµ„æ–™ å®˜æ–¹æ–‡æ¡£â€“ Defining Functions èŽ«çƒ¦Python å»–é›ªå³°çš„Pythonæ•™ç¨‹]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonç¬”è®°ï¼ˆä¸‰ï¼‰-- Important Warning]]></title>
    <url>%2F2017%2F06%2F25%2F2017-06-25%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ•´ç†ä¸‹pythonä¸­å®¹æ˜“å‡ºé”™çš„é‚£äº›å‘ã€‚åœ¨å­¦ä¹ Pythonçš„è¿‡ç¨‹ä¸­ï¼Œå‘çŽ°å…¶å¾ˆå¤šä¸Žjavaä¸åŒçš„åœ°æ–¹ï¼Œå¾ˆå¤šäººå¹¶æ²¡æœ‰ä»”ç»†ç ”è¯»è¿‡pythonï¼Œåªæ˜¯å¤§æ¦‚åœ°çœ‹ä¸‹ç›¸å…³çš„è¯­æ³•å°±å¼€å§‹ä¸Šæ‰‹å†™ä»£ç åŽ»äº†ï¼Œæœ€å®¹æ˜“è¢«å¿½è§†çš„å°±æ˜¯ç®€å•çš„forï¼Œifç­‰æŽ§åˆ¶è¯­å¥ï¼Œå®žé™…ä¸Špythonçš„æŽ§åˆ¶è¯­å¥ä¸Žjavaç­‰é«˜çº§è¯­è¨€æ˜¯ä¸åŒçš„ï¼Œæ‰€è°“å¤±ä¹‹æ¯«åŽ˜å·®ä¹‹åƒé‡Œï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ forå¾ªçŽ¯æ“ä½œå¯å˜åºåˆ—12345678910111213a = [-1, 2, -4, -3, -1, -2, 3]print(a)for x in a: if x &lt; 0: a.remove(x)print(a) # [2, -3, -2, 3]print("=========================")b = [-1, 2, -4, -3, -1, -2, 3]print(b)for x in b[:]: if x &lt; 0: b.remove(x)print(b) # [2, 3] Note There is a subtlety when the sequence is being modified by the loop (this can only occur for mutable sequences, i.e. lists). An internal counter is used to keep track of which item is used next, and this is incremented on each iteration. When this counter has reached the length of the sequence the loop terminates. This means that if the suite deletes the current (or a previous) item from the sequence, the next item will be skipped (since it gets the index of the current item which has already been treated). Likewise, if the suite inserts an item in the sequence before the current item, the current item will be treated again the next time through the loop. This can lead to nasty bugs that can be avoided by making a temporary copy using a slice of the whole sequence.ç®€è€Œè¨€ä¹‹ï¼Œå¾ªçŽ¯æ—¶æŒ‡é’ˆä¼šç§»åŠ¨ï¼Œæ‰€ä»¥ç›´æŽ¥åˆ é™¤æ˜¯ä¸å®‰å…¨çš„ã€‚è€Œè§£å†³åŠžæ³•ä¹Ÿå¾ˆç²¾å¦™ï¼ˆçœŸæ˜¯å®Œç¾Žå¥‘åˆsubtletyè¿™ä¸ªè¯ï¼‰,ä½¿ç”¨b[:]ä¼šåœ¨å†…å­˜ä¸­ä¸´æ—¶å¤åˆ¶å‡ºä¸€ä¸ªbï¼Œåœ¨b[:]ä¸­å¾ªçŽ¯ï¼Œåœ¨åŽŸæœ¬çš„bä¸Šremoveã€‚ for elseæˆ‘é—®äº†èº«è¾¹ä¸‰ä¸ªä¼špythonçš„ç¨‹åºçŒ¿ï¼Œä»–ä»¬éƒ½éœ‡æƒŠåœ°è¡¨ç¤ºï¼šè¿˜æœ‰è¿™ç§æ“ä½œï¼Ÿï¼ç„¶è€Œå®˜æ–¹æ–‡æ¡£å†™å¾—å¾ˆæ¸…æ¥šï¼Œfor elseï¼Œtry elseéƒ½æ˜¯pythonçš„ç‹¬ç‰¹çš„æ­£ç¡®çš„è¯­æ³•ã€‚12for_stmt ::= &quot;for&quot; target_list &quot;in&quot; expression_list &quot;:&quot; suite [&quot;else&quot; &quot;:&quot; suite] A break statement executed in the first suite terminates the loop without executing the else clauseâ€™s suite. A continue statement executed in the first suite skips the rest of the suite and continues with the next item, or with the else clause if there is no next item. ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­£å¸¸æƒ…å†µä¸‹elseè¯­å¥ä¼šåœ¨å¾ªçŽ¯å®Œæˆï¼ˆéåŽ†å®Œæ•´ä¸ªexpression_listï¼‰åŽæ‰§è¡Œã€‚ä½†æ˜¯å¦‚æžœæœ‰breakå‘ç”Ÿæ—¶ï¼Œelseè¯­å¥ä¸æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´breakä¼šåŒæ—¶è·³å‡ºforå’Œelseçš„æ•´ç¨‹åºç»„ï¼ˆsuiteï¼‰ã€‚è€Œcontinueä¼šåœ¨å¾ªçŽ¯ä¸­è·³è¿‡elseè¯­å¥ï¼Œç„¶åŽåœ¨å¾ªçŽ¯å®Œæ¯•åŽæ‰§è¡Œelseè¯­å¥ã€‚ ç¤ºä¾‹ï¼š12345678for n in range(2, 10): for x in range(2, n): if n % x == 0: print(n, 'equals', x, '*', n//x) break else: # loop fell through without finding a factor print(n, 'is a prime number') æ¢ä¸ªè¯´æ³•å†æ¥è§£é‡Šä¸€éï¼š Loop statements may have an else clause; it is executed when the loop terminates through exhaustion of the list (with for) or when the condition becomes false (with while), but not when the loop is terminated by a break statement. ä½ èƒ½ä¸ç”¨for elseè¯­å¥æ¥å®žçŽ°ç›¸åŒçš„åŠŸèƒ½ä¹ˆï¼Ÿ(if x == n-1:) é»˜è®¤å‚æ•°å‡½æ•° Important warning: The default value is evaluated only once. This makes a difference when the default is a mutable object such as a list, dictionary, or instances of most classes. For example, the following function accumulates the arguments passed to it on subsequent calls: 1234567891011def f(a, L=[]): L.append(a) return Lprint(f(1))print(f(2))print(f(3))# è¾“å‡ºç»“æžœä¸º [1][1, 2][1, 2, 3] å®˜æ–¹çš„è§£é‡Šä¸å¤Ÿè¯¦ç»†ï¼Œå»–é›ªå³°çš„è§£é‡Šå¦‚ä¸‹ï¼šPythonå‡½æ•°åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œé»˜è®¤å‚æ•°Lçš„å€¼å°±è¢«è®¡ç®—å‡ºæ¥äº†ï¼Œå³[]ï¼Œå› ä¸ºé»˜è®¤å‚æ•°Lä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå®ƒæŒ‡å‘å¯¹è±¡[]ï¼Œæ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¦‚æžœæ”¹å˜äº†Lçš„å†…å®¹ï¼Œåˆ™ä¸‹æ¬¡è°ƒç”¨æ—¶ï¼Œé»˜è®¤å‚æ•°çš„å†…å®¹å°±å˜äº†ï¼Œä¸å†æ˜¯å‡½æ•°å®šä¹‰æ—¶çš„[]äº†ã€‚æ‰€ä»¥ï¼Œå®šä¹‰é»˜è®¤å‚æ•°è¦ç‰¢è®°ä¸€ç‚¹ï¼šé»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ï¼è¦ä¿®æ”¹ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Noneè¿™ä¸ªä¸å˜å¯¹è±¡æ¥å®žçŽ°ã€‚è§£å†³åŠžæ³•ï¼š1234567def f(a, L=None): if L is None: L = [] L.append(a) return Lprint(f(1), f(2), f(3)) # [1] [2] [3] å‚è€ƒæ–‡ç«  å®˜æ–¹æ–‡æ¡£â€“More Control Flow Tools]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaåŸºæœ¬æ•°æ®ç±»åž‹è½¬æ¢åŽŸç†ä»¥åŠæ•°æ®æº¢å‡ºå¤„ç†]]></title>
    <url>%2F2017%2F06%2F24%2Fjava%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%2F</url>
    <content type="text"><![CDATA[æœ‹å‹å‘æ¥çš„ä¸€ä¸ªå°é—®é¢˜ï¼Œè®©æˆ‘åˆæŠŠjavaåº•å±‚æ•°æ®åŽŸç†æ·±å…¥å­¦ä¹ äº†ä¸€éã€‚ Javaä¸­x=x+1 ä¸Žx+=1 çš„ä¸€ç‚¹åŒºåˆ«è®¸å¤šç¨‹åºå‘˜éƒ½ä¼šè®¤ä¸ºè¿™é‡Œçš„è¡¨è¾¾å¼ï¼ˆs1 +=1ï¼‰åªæ˜¯ä¸Šé¢è¡¨è¾¾å¼ï¼ˆs1 = s1 + 1ï¼‰çš„ç®€å†™æ–¹å¼,è‡³å°‘ä»¥å‰æˆ‘æ˜¯è¿™æ ·è®¤ä¸ºçš„ã€‚ä½†æ˜¯è¿™å¹¶ä¸ååˆ†å‡†ç¡®ã€‚ Javaè¯­è¨€è§„èŒƒä¸­è®²åˆ°ï¼Œå¤åˆèµ‹å€¼E1 op= E2ç­‰ä»·äºŽç®€å•èµ‹å€¼E1 = (T)((E1)op(E2) å…¶ä¸­Tæ˜¯E1çš„æ•°æ®ç±»åž‹,opä¸ºæ“ä½œç¬¦ã€‚è¿™ç§ç±»åž‹è½¬æ¢æˆ–è€…æ˜¯ä¸€ä¸ªæ’ç­‰è½¬æ¢,æˆ–è€…æ˜¯ä¸€ä¸ªçª„åŒ–è½¬æ¢. 1234567891011121314151617181920212223public class PlusEqualTest &#123; public static void main(String[] args) &#123; short s1 = 1; s1 = (short) (s1 + 1);//å¦‚æžœä¸åŠ è½¬æ¢æ˜¯ä¸èƒ½é€šè¿‡ç¼–è¯‘çš„ System.out.println("s1 = " + s1); short s2 = 1; s2 += 1; System.out.println("s2 = " + s2); short s3 = Short.MAX_VALUE;//32767 short s4 = s3; s3 += 1; System.out.println("s3 += 1 ç»“æžœä¸º" + s3); s4 = (short) (s4 + 1); System.out.println("s3 = (short)(s3 + 1) ç»“æžœä¸º" + s4); &#125;&#125;//è¾“å‡ºç»“æžœå¦‚ä¸‹ï¼šs1 = 2s2 = 2s3 += 1 ç»“æžœä¸º-32768s3 = (short)(s3 + 1) ç»“æžœä¸º-32768 æ•°æ®æº¢å‡ºå’‹åŠžå‘¢å¦‚ä¸Šç¨‹åºï¼Œä¸ºä»€ä¹ˆs3 = (short)(s3 + 1) ç»“æžœä¸º-32768å‘¢ï¼Ÿå¾ˆæ˜Žæ˜¾æ˜¯æ•°æ®è¶…å‡ºå…¶è¡¨ç¤ºèŒƒå›´äº†ï¼Œå¯æ˜¯æ•°æ®æº¢å‡ºåŽæ˜¯æ€Žä¹ˆå¤„ç†çš„å‘¢ï¼Ÿæ­¤äº‹è¯´æ¥è¯é•¿â€¦â€¦ æ•°æ®ç±»åž‹åŸºç¡€çŸ¥è¯†å‚¨å¤‡ åŸºæœ¬ç±»åž‹ ä½æ•° èŒƒå›´ é»˜è®¤å€¼ byte(å­—èŠ‚) 8 -128 è‡³ 127 0 shot(çŸ­æ•´åž‹) 16 -32768(-2^15 ) è‡³ 32767(2^15-1 ) 0 int(æ•´åž‹) 32 -2147483648(-2^31 )è‡³2147483647(2^31-1 ) 0 long(é•¿æ•´åž‹) 64 -2^63 è‡³2^63-1 0Læˆ–0l boolean 1 0,1æˆ–trueï¼Œfalse false char 8 \u0000è‡³\uffff \u0000\ float 32 1.4E-45è‡³3.4028235E38 0.0f double 64 4.9E-324è‡³1.7976931348623157E308 0.0d ç±»åž‹è½¬æ¢çš„åŽŸç† çœŸå€¼ï¼šè¿™ä¸ªå°±çœ‹å­—é¢æ„æ€ï¼Œint a = -1;açš„çœŸå€¼å°±æ˜¯-1. åŽŸç ï¼šintç±»åž‹çš„-1çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œç”±äºŽ-1æ˜¯è´Ÿæ•°ï¼Œåˆæ˜¯intç±»åž‹çš„ï¼Œæ‰€ä»¥ä»–éœ€è¦32ä¸ªäºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼ŒäºŒè¿›åˆ¶çš„æœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œæ‰€ä»¥ä¸º1ï¼Œ1çš„äºŒè¿›åˆ¶ä¸º1ï¼Œæ‰€ä»¥-1çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º1000 0000 0000 0000 0000 0000 0000 0001ï¼› åç ï¼šæ­£æ•°çš„åç å°±æ˜¯åŽŸç ï¼Œè´Ÿæ•°çš„åç æ˜¯åœ¨åŽŸç çš„åŸºç¡€ä¸Šï¼Œç¬¦å·ä½ä¸å˜ï¼Œå…¶ä½™ä½å–åã€‚æ‰€ä»¥intç±»åž‹çš„-1çš„åç æ˜¯1111 1111 1111 1111 1111 1111 1111 1110ã€‚ è¡¥ç ï¼šæ­£æ•°çš„è¡¥ç å°±æ˜¯åŽŸç ï¼Œè´Ÿæ•°çš„è¡¥ç æ˜¯åœ¨å…¶åç çš„åŸºç¡€ä¸ŠåŠ 1ã€‚æ‰€ä»¥ï¼Œintç±»åž‹çš„-1çš„è¡¥ç æ˜¯ 1111 1111 1111 1111 1111 1111 1111 1111ã€‚ è¡¥ä½ï¼šè¡¥ä½æ˜¯äºŒè¿›åˆ¶ä¸­åœ¨æ‰©å……ä½æ•°çš„æ—¶å€™ï¼Œä½æ•°ä¸å¤Ÿéœ€è¦åœ¨å·¦è¾¹è¡¥é½ï¼Œè¡¥é½çš„æ–¹å¼ä¸ºå¦‚æžœæ˜¯æ­£æ•°çš„è¡¥ä½ï¼Œå·¦è¾¹å…¨éƒ¨è¡¥0ï¼Œè´Ÿæ•°å·¦è¾¹å…¨éƒ¨è¡¥1ï¼ˆä¹Ÿå°±æ˜¯è¯´è¡¥ä½çš„æ—¶å€™è¡¥è¶³çš„æ˜¯ç¬¦å·ä½ï¼‰ã€‚ è‡ªåŠ¨è½¬æ¢ï¼ˆä»Žé«˜ä½å‘ä½Žä½è½¬æ¢ï¼‰ï¼šå°†aä½çš„å˜é‡Aè½¬æ¢ä¸ºbä½çš„Bï¼šAâ€“&gt;è¡¥ç â€“&gt;æˆªå–ï¼ˆåŽ»æŽ‰å‰a-bä½ï¼Œåªä¿ç•™åŽbä½ï¼‰â€“&gt;è¡¥ç â€“&gt;Bã€‚ç¤ºä¾‹ï¼š1int a=-1ï¼›byte b=ï¼ˆbyteï¼‰aï¼›//bçš„ç»“æžœæ˜¯-1ã€‚ 1000 0000 0000 0000 0000 0000 0000 0001è¡¥ç 1111 1111 1111 1111 1111 1111 1111 1111æˆªå–ï¼ˆä¿ç•™åŽ8ä½ï¼‰1111 1111 1111 1111 1111 1111 1111 1111å³1111 1111è¡¥ç 1000 0001å³çœŸå€¼ä¸º-1 å¼ºåˆ¶è½¬æ¢ï¼ˆä»Žä½Žä½å‘é«˜ä½è½¬æ¢æ—¶ï¼‰ï¼š(byte-&gt;short-&gt;int-&gt;long-&gt;float-&gt;double)è¡¥ç â€“&gt;è¡¥ä½â€“&gt;è¡¥ç ç¤ºä¾‹ï¼š1byte a =-1ï¼›int b=aï¼›//bçš„ç»“æžœæ˜¯-1ã€‚ 1000 0001è¡¥ç 1111 1111è¡¥ä½1111 1111 1111 1111 1111 1111 1111 1111è¡¥ç 1000 0000 0000 0000 0000 0000 0000 0001å³çœŸå€¼ä¸º-1 æ•°æ®æº¢å‡ºå¤„ç†ç¤ºä¾‹1ï¼š1int a=255;byte b=(byte)a; //bçš„å€¼ä¸ºä»€ä¹ˆæ˜¯-1? 0000 0000 0000 0000 0000 0000 1111 1111è¡¥ç 0000 0000 0000 0000 0000 0000 1111 1111æˆªå–1111 1111è¡¥ç 1000 0001å³çœŸå€¼ä¸º-1ç¤ºä¾‹2ï¼šå¤§å®¶åœ¨è‡ªå·±ç®—ä¸€ä¸‹ï¼ˆbyteï¼‰234çš„ç»“æžœæ˜¯ä»€ä¹ˆï¼Œç„¶åŽåœ¨IDEé‡Œåœ¨è¿è¡Œä¸‹çœ‹å’Œè‡ªå·±æ‰‹å†™ç®—å‡ºæ¥çš„ä¸€æ ·å—ã€‚è¿™é‡Œï¼ˆbyteï¼‰234çš„æ‰‹å†™ç»“æžœæ˜¯150ï¼Œä½†æ˜¯150æ˜¯è¶…å‡ºäº†byteçš„è¡¨ç¤ºèŒƒå›´çš„ï¼Œæ‰€ä»¥è¿™é‡Œè¿˜æœ‰ä¸€æ¬¡è½¬åŒ–ï¼Ÿï¼Ÿï¼ŸåŽé¢æ˜¯æ€Žä¹ˆè½¬åŒ–çš„å‘¢ï¼Ÿ å®šç‚¹æ•°ä¸Žæµ®ç‚¹æ•°åŒºåˆ«å®šç‚¹æ•°åœ¨è®¡ç®—æœºç³»ç»Ÿçš„å‘å±•è¿‡ç¨‹ä¸­ï¼Œæ›¾ç»æå‡ºè¿‡å¤šç§æ–¹æ³•è¡¨è¾¾å®žæ•°ã€‚å…¸åž‹çš„æ¯”å¦‚ç›¸å¯¹äºŽæµ®ç‚¹æ•°çš„å®šç‚¹æ•°ï¼ˆFixed Point Numberï¼‰ã€‚åœ¨è¿™ç§è¡¨è¾¾æ–¹å¼ä¸­ï¼Œå°æ•°ç‚¹å›ºå®šçš„ä½äºŽå®žæ•°æ‰€æœ‰æ•°å­—ä¸­é—´çš„æŸä¸ªä½ç½®ã€‚è´§å¸çš„è¡¨è¾¾å°±å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæ¯”å¦‚ 99.00 æˆ–è€… 00.99 å¯ä»¥ç”¨äºŽè¡¨è¾¾å…·æœ‰å››ä½ç²¾åº¦ï¼ˆPrecisionï¼‰ï¼Œå°æ•°ç‚¹åŽæœ‰ä¸¤ä½çš„è´§å¸å€¼ã€‚ç”±äºŽå°æ•°ç‚¹ä½ç½®å›ºå®šï¼Œæ‰€ä»¥å¯ä»¥ç›´æŽ¥ç”¨å››ä½æ•°å€¼æ¥è¡¨è¾¾ç›¸åº”çš„æ•°å€¼ã€‚SQL ä¸­çš„ NUMBER æ•°æ®ç±»åž‹å°±æ˜¯åˆ©ç”¨å®šç‚¹æ•°æ¥å®šä¹‰çš„ã€‚è¿˜æœ‰ä¸€ç§æè®®çš„è¡¨è¾¾æ–¹å¼ä¸ºæœ‰ç†æ•°è¡¨è¾¾æ–¹å¼ï¼Œå³ç”¨ä¸¤ä¸ªæ•´æ•°çš„æ¯”å€¼æ¥è¡¨è¾¾å®žæ•°ã€‚å®šç‚¹æ•°è¡¨è¾¾æ³•çš„ç¼ºç‚¹åœ¨äºŽå…¶å½¢å¼è¿‡äºŽåƒµç¡¬ï¼Œå›ºå®šçš„å°æ•°ç‚¹ä½ç½®å†³å®šäº†å›ºå®šä½æ•°çš„æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†ï¼Œä¸åˆ©äºŽåŒæ—¶è¡¨è¾¾ç‰¹åˆ«å¤§çš„æ•°æˆ–è€…ç‰¹åˆ«å°çš„æ•°ã€‚ æµ®ç‚¹æ•°ï¼ˆfloat-point-numberï¼‰æœ€ç»ˆï¼Œç»å¤§å¤šæ•°çŽ°ä»£çš„è®¡ç®—æœºç³»ç»Ÿé‡‡çº³äº†æ‰€è°“çš„æµ®ç‚¹æ•°è¡¨è¾¾æ–¹å¼ã€‚è¿™ç§è¡¨è¾¾æ–¹å¼åˆ©ç”¨ç§‘å­¦è®¡æ•°æ³•æ¥è¡¨è¾¾å®žæ•°ï¼Œå³ç”¨ä¸€ä¸ªå°¾æ•°ï¼ˆMantissa ï¼‰ï¼Œä¸€ä¸ªåŸºæ•°ï¼ˆBaseï¼‰ï¼Œä¸€ä¸ªæŒ‡æ•°ï¼ˆExponentï¼‰ä»¥åŠä¸€ä¸ªè¡¨ç¤ºæ­£è´Ÿçš„ç¬¦å·æ¥è¡¨è¾¾å®žæ•°ã€‚æ¯”å¦‚ 123.45 ç”¨åè¿›åˆ¶ç§‘å­¦è®¡æ•°æ³•å¯ä»¥è¡¨è¾¾ä¸º 1.2345 Ã— 10^2 ï¼Œå…¶ä¸­ 1.2345 ä¸ºå°¾æ•°ï¼Œ10 ä¸ºåŸºæ•°ï¼Œ2 ä¸ºæŒ‡æ•°ã€‚æµ®ç‚¹æ•°åˆ©ç”¨æŒ‡æ•°è¾¾åˆ°äº†æµ®åŠ¨å°æ•°ç‚¹çš„æ•ˆæžœï¼Œä»Žè€Œå¯ä»¥çµæ´»åœ°è¡¨è¾¾æ›´å¤§èŒƒå›´çš„å®žæ•°ã€‚ NOTE: å°¾æ•°æœ‰æ—¶ä¹Ÿç§°ä¸ºæœ‰æ•ˆæ•°å­—ï¼ˆSignificandï¼‰ã€‚å°¾æ•°å®žé™…ä¸Šæ˜¯æœ‰æ•ˆæ•°å­—çš„éžæ­£å¼è¯´æ³•ã€‚ åŒæ ·çš„æ•°å€¼å¯ä»¥æœ‰å¤šç§æµ®ç‚¹æ•°è¡¨è¾¾æ–¹å¼ï¼Œæ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„ 123.45 å¯ä»¥è¡¨è¾¾ä¸º 12.345 Ã— 10^1 ï¼Œ0.12345 Ã— 10^3 æˆ–è€… 1.2345 Ã— 10^2 ã€‚å› ä¸ºè¿™ç§å¤šæ ·æ€§ï¼Œæœ‰å¿…è¦å¯¹å…¶åŠ ä»¥è§„èŒƒåŒ–ä»¥è¾¾åˆ°ç»Ÿä¸€è¡¨è¾¾çš„ç›®æ ‡ã€‚è§„èŒƒçš„ï¼ˆNormalizedï¼‰æµ®ç‚¹æ•°è¡¨è¾¾æ–¹å¼å…·æœ‰å¦‚ä¸‹å½¢å¼ï¼š $Â±d_0.d_1d_2â€¦d_i Ã— Î²^e , (0 â‰¤ d_i &lt; Î²)$ å…¶ä¸­ d.ddâ€¦d å³å°¾æ•°ï¼ŒÎ² ä¸ºåŸºæ•°ï¼Œe ä¸ºæŒ‡æ•°ã€‚å°¾æ•°ä¸­æ•°å­—çš„ä¸ªæ•°ç§°ä¸ºç²¾åº¦ï¼Œåœ¨æœ¬æ–‡ä¸­ç”¨ p æ¥è¡¨ç¤ºã€‚æ¯ä¸ªæ•°å­— d ä»‹äºŽ 0 å’ŒåŸºæ•°ä¹‹é—´ï¼ŒåŒ…æ‹¬ 0ã€‚å°æ•°ç‚¹å·¦ä¾§çš„æ•°å­—ä¸ä¸º 0ã€‚ åŸºäºŽè§„èŒƒè¡¨è¾¾çš„æµ®ç‚¹æ•°å¯¹åº”çš„å…·ä½“å€¼å¯ç”±ä¸‹é¢çš„è¡¨è¾¾å¼è®¡ç®—è€Œå¾—ï¼š$Â±(d_0 + d1Î²^{e-1} + â€¦ + d{i-1}Î² ^ {e-(i-1)}+ d_iÎ²^{e-i} ), (0 â‰¤ d_i &lt; Î²)$å¯¹äºŽåè¿›åˆ¶çš„æµ®ç‚¹æ•°ï¼Œå³åŸºæ•° Î² ç­‰äºŽ 10 çš„æµ®ç‚¹æ•°è€Œè¨€ï¼Œä¸Šé¢çš„è¡¨è¾¾å¼éžå¸¸å®¹æ˜“ç†è§£ï¼Œä¹Ÿå¾ˆç›´ç™½ã€‚è®¡ç®—æœºå†…éƒ¨çš„æ•°å€¼è¡¨è¾¾æ˜¯åŸºäºŽäºŒè¿›åˆ¶çš„ã€‚ä»Žä¸Šé¢çš„è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼ŒäºŒè¿›åˆ¶æ•°åŒæ ·å¯ä»¥æœ‰å°æ•°ç‚¹ï¼Œä¹ŸåŒæ ·å…·æœ‰ç±»ä¼¼äºŽåè¿›åˆ¶çš„è¡¨è¾¾æ–¹å¼ã€‚åªæ˜¯æ­¤æ—¶ Î² ç­‰äºŽ 2ï¼Œè€Œæ¯ä¸ªæ•°å­—$d_i$ åªèƒ½åœ¨ 0 å’Œ 1 ä¹‹é—´å–å€¼ã€‚æ¯”å¦‚äºŒè¿›åˆ¶æ•° 1001.101 ç›¸å½“äºŽ 1 Ã— 2^3 + 0 Ã— 2^2 + 0 Ã— 2^1 + 1 Ã— 2^0 + 1 Ã— 2^-1 + 0 Ã— 2^-2 + 1 Ã— 2^-3 ï¼Œå¯¹åº”äºŽåè¿›åˆ¶çš„ 9.625ã€‚å…¶è§„èŒƒæµ®ç‚¹æ•°è¡¨è¾¾ä¸º 1.001101 Ã— 2^3ã€‚ IEEE æµ®ç‚¹æ•°è®¡ç®—æœºä¸­æ˜¯ç”¨æœ‰é™çš„è¿žç»­å­—èŠ‚ä¿å­˜æµ®ç‚¹æ•°çš„ã€‚ä¿å­˜è¿™äº›æµ®ç‚¹æ•°å½“ç„¶å¿…é¡»æœ‰ç‰¹å®šçš„æ ¼å¼ï¼ŒJava å¹³å°ä¸Šçš„æµ®ç‚¹æ•°ç±»åž‹ float å’Œ double é‡‡çº³äº† IEEE 754 æ ‡å‡†ä¸­æ‰€å®šä¹‰çš„å•ç²¾åº¦ 32 ä½æµ®ç‚¹æ•°å’ŒåŒç²¾åº¦ 64 ä½æµ®ç‚¹æ•°çš„æ ¼å¼ã€‚ floatå’Œdoubleå†…å­˜ç»“æž„åœ¨ IEEE æ ‡å‡†ä¸­ï¼Œæµ®ç‚¹æ•°æ˜¯å°†ç‰¹å®šé•¿åº¦çš„è¿žç»­å­—èŠ‚çš„æ‰€æœ‰äºŒè¿›åˆ¶ä½åˆ†å‰²ä¸ºç‰¹å®šå®½åº¦çš„ç¬¦å·åŸŸï¼ŒæŒ‡æ•°åŸŸå’Œå°¾æ•°åŸŸä¸‰ä¸ªåŸŸï¼Œå…¶ä¸­ä¿å­˜çš„å€¼åˆ†åˆ«ç”¨äºŽè¡¨ç¤ºç»™å®šäºŒè¿›åˆ¶æµ®ç‚¹æ•°ä¸­çš„ç¬¦å·ï¼ŒæŒ‡æ•°å’Œå°¾æ•°ã€‚floatçš„æŒ‡æ•°ä½æœ‰8ä½ï¼Œè€Œdoubleçš„æŒ‡æ•°ä½æœ‰11ä½ï¼Œåˆ†å¸ƒå¦‚ä¸‹ï¼š floatï¼š 1bitï¼ˆç¬¦å·ä½ï¼‰ 8bitsï¼ˆæŒ‡æ•°ä½ï¼‰ 23bitsï¼ˆå°¾æ•°ä½ï¼‰ doubleï¼š 1bitï¼ˆç¬¦å·ä½ï¼‰ 11bitsï¼ˆæŒ‡æ•°ä½ï¼‰ 52bitsï¼ˆå°¾æ•°ä½ï¼‰ ç¬¬äºŒä¸ªåŸŸä¸ºæŒ‡æ•°åŸŸï¼ˆå›¾ä¸­æ ‡æ³¨ä¸ºæŒ‡æ•°ä½ï¼‰ï¼Œå¯¹åº”äºŽæˆ‘ä»¬ä¹‹å‰ä»‹ç»çš„äºŒè¿›åˆ¶ç§‘å­¦è®¡æ•°æ³•ä¸­çš„æŒ‡æ•°éƒ¨åˆ†ã€‚å…¶ä¸­å•ç²¾åº¦æ•°ä¸º 8 ä½ï¼ŒåŒç²¾åº¦æ•°ä¸º 11 ä½ã€‚ä»¥å•ç²¾åº¦æ•°ä¸ºä¾‹ï¼Œ8 ä½çš„æŒ‡æ•°ä¸ºå¯ä»¥è¡¨è¾¾ 0 åˆ° 255 ä¹‹é—´çš„ 255 ä¸ªæŒ‡æ•°å€¼ã€‚ä½†æ˜¯ï¼ŒæŒ‡æ•°å¯ä»¥ä¸ºæ­£æ•°ï¼Œä¹Ÿå¯ä»¥ä¸ºè´Ÿæ•°ã€‚ä¸ºäº†å¤„ç†è´ŸæŒ‡æ•°çš„æƒ…å†µï¼Œå®žé™…çš„æŒ‡æ•°å€¼æŒ‰è¦æ±‚éœ€è¦åŠ ä¸Šä¸€ä¸ªåå·®ï¼ˆBiasï¼‰å€¼ä½œä¸ºä¿å­˜åœ¨æŒ‡æ•°åŸŸä¸­çš„å€¼ï¼Œå•ç²¾åº¦æ•°çš„åå·®å€¼ä¸º 127ï¼Œè€ŒåŒç²¾åº¦æ•°çš„åå·®å€¼ä¸º 1023ã€‚æ¯”å¦‚ï¼Œå•ç²¾åº¦çš„å®žé™…æŒ‡æ•°å€¼ 0 åœ¨æŒ‡æ•°åŸŸä¸­å°†ä¿å­˜ä¸º 127ï¼›è€Œä¿å­˜åœ¨æŒ‡æ•°åŸŸä¸­çš„ 64 åˆ™è¡¨ç¤ºå®žé™…çš„æŒ‡æ•°å€¼ -63ã€‚ åå·®çš„å¼•å…¥ä½¿å¾—å¯¹äºŽå•ç²¾åº¦æ•°ï¼Œå®žé™…å¯ä»¥è¡¨è¾¾çš„æŒ‡æ•°å€¼çš„èŒƒå›´å°±å˜æˆ -127 åˆ° 128 ä¹‹é—´ï¼ˆåŒ…å«ä¸¤ç«¯ï¼‰ã€‚æˆ‘ä»¬ä¸ä¹…è¿˜å°†çœ‹åˆ°ï¼Œå®žé™…çš„æŒ‡æ•°å€¼ -127ï¼ˆä¿å­˜ä¸º å…¨ 0ï¼‰ä»¥åŠ +128ï¼ˆä¿å­˜ä¸ºå…¨ 1ï¼‰ä¿ç•™ç”¨ä½œç‰¹æ®Šå€¼çš„å¤„ç†ã€‚è¿™æ ·ï¼Œå®žé™…å¯ä»¥è¡¨è¾¾çš„æœ‰æ•ˆæŒ‡æ•°èŒƒå›´å°±åœ¨ -127 å’Œ 127 ä¹‹é—´ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæœ€å°æŒ‡æ•°å’Œæœ€å¤§æŒ‡æ•°åˆ†åˆ«ç”¨ emin å’Œ emax æ¥è¡¨è¾¾ã€‚ äºŽæ˜¯ï¼Œfloatçš„æŒ‡æ•°èŒƒå›´ä¸º-128~+127ï¼Œè€Œdoubleçš„æŒ‡æ•°èŒƒå›´ä¸º-1024~+1023ï¼Œå¹¶ä¸”æŒ‡æ•°ä½æ˜¯æŒ‰è¡¥ç çš„å½¢å¼æ¥åˆ’åˆ†çš„ã€‚å…¶ä¸­è´ŸæŒ‡æ•°å†³å®šäº†æµ®ç‚¹æ•°æ‰€èƒ½è¡¨è¾¾çš„ç»å¯¹å€¼æœ€å°çš„éžé›¶æ•°ï¼›è€Œæ­£æŒ‡æ•°å†³å®šäº†æµ®ç‚¹æ•°æ‰€èƒ½è¡¨è¾¾çš„ç»å¯¹å€¼æœ€å¤§çš„æ•°ï¼Œä¹Ÿå³å†³å®šäº†æµ®ç‚¹æ•°çš„å–å€¼èŒƒå›´ã€‚floatçš„èŒƒå›´ä¸º???-2^128 ~ +2^127ï¼Œä¹Ÿå³-3.40E+38 ~ +3.40E+38ï¼›doubleçš„èŒƒå›´ä¸º???-2^1024 ~ +2^1023ï¼Œä¹Ÿå³-1.79E+308(è¿™é‡Œä¸ŽIDEAæ‰“å°å‡ºçš„æœ€å°å€¼ä¸ç¬¦ï¼Œåšä¸»ä¼šæ…¢æ…¢æŸ¥è¯å†æ¥ä¿®æ”¹) ~ +1.79E+308ã€‚ ä¹‹æ‰€ä»¥ä¸èƒ½ç”¨f1==f2æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼Œæ˜¯å› ä¸ºè™½ç„¶f1å’Œf2åœ¨å¯èƒ½æ˜¯ä¸¤ä¸ªä¸åŒçš„æ•°å­—ï¼Œä½†æ˜¯å—åˆ°æµ®ç‚¹æ•°è¡¨ç¤ºç²¾åº¦çš„é™åˆ¶ï¼Œæœ‰å¯èƒ½ä¼šé”™è¯¯çš„åˆ¤æ–­ä¸¤ä¸ªæ•°ç›¸ç­‰ ç²¾åº¦floatå’Œdoubleçš„ç²¾åº¦æ˜¯ç”±å°¾æ•°çš„ä½æ•°æ¥å†³å®šçš„ã€‚æµ®ç‚¹æ•°åœ¨å†…å­˜ä¸­æ˜¯æŒ‰ç§‘å­¦è®¡æ•°æ³•æ¥å­˜å‚¨çš„ï¼Œå…¶æ•´æ•°éƒ¨åˆ†å§‹ç»ˆæ˜¯ä¸€ä¸ªéšå«ç€çš„â€œ1â€ï¼Œç”±äºŽå®ƒæ˜¯ä¸å˜çš„ï¼Œæ•…ä¸èƒ½å¯¹ç²¾åº¦é€ æˆå½±å“ã€‚ floatï¼š2^23 = 8388608ï¼Œä¸€å…±ä¸ƒä½ï¼Œç”±äºŽæœ€å·¦ä¸º1çš„ä¸€ä½çœç•¥äº†ï¼Œè¿™æ„å‘³ç€æœ€å¤šèƒ½è¡¨ç¤º8ä½æ•°ï¼š 2*8388608 = 16777216 ã€‚æœ‰8ä½æœ‰æ•ˆæ•°å­—ï¼Œä½†ç»å¯¹èƒ½ä¿è¯çš„ä¸º7ä½ï¼Œä¹Ÿå³==floatçš„ç²¾åº¦ä¸º7~8ä½æœ‰æ•ˆæ•°å­—==ï¼› doubleï¼š2^52 = 4503599627370496ï¼Œä¸€å…±16ä½ï¼ŒåŒç†ï¼Œ==doubleçš„ç²¾åº¦ä¸º16~17ä½==ã€‚ å›¾ä¾‹ä¸­çš„ç¬¬ä¸‰ä¸ªåŸŸä¸ºå°¾æ•°åŸŸï¼Œå…¶ä¸­å•ç²¾åº¦æ•°ä¸º 23 ä½é•¿ï¼ŒåŒç²¾åº¦æ•°ä¸º 52 ä½é•¿ã€‚é™¤äº†æˆ‘ä»¬å°†è¦è®²åˆ°çš„æŸäº›ç‰¹æ®Šå€¼å¤–ï¼ŒIEEE æ ‡å‡†è¦æ±‚æµ®ç‚¹æ•°å¿…é¡»æ˜¯è§„èŒƒçš„ã€‚è¿™æ„å‘³ç€å°¾æ•°çš„å°æ•°ç‚¹å·¦ä¾§å¿…é¡»ä¸º 1ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä¿å­˜å°¾æ•°çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥å°æ•°ç‚¹å‰é¢è¿™ä¸ª 1ï¼Œä»Žè€Œè…¾å‡ºä¸€ä¸ªäºŒè¿›åˆ¶ä½æ¥ä¿å­˜æ›´å¤šçš„å°¾æ•°ã€‚è¿™æ ·æˆ‘ä»¬å®žé™…ä¸Šç”¨ 23 ä½é•¿çš„å°¾æ•°åŸŸè¡¨è¾¾äº† 24 ä½çš„å°¾æ•°ã€‚æ¯”å¦‚å¯¹äºŽå•ç²¾åº¦æ•°è€Œè¨€ï¼ŒäºŒè¿›åˆ¶çš„ 1001.101ï¼ˆå¯¹åº”äºŽåè¿›åˆ¶çš„ 9.625ï¼‰å¯ä»¥è¡¨è¾¾ä¸º 1.001101 Ã— 23ï¼Œæ‰€ä»¥å®žé™…ä¿å­˜åœ¨å°¾æ•°åŸŸä¸­çš„å€¼ä¸º 00110100000000000000000ï¼Œå³åŽ»æŽ‰å°æ•°ç‚¹å·¦ä¾§çš„ 1ï¼Œå¹¶ç”¨ 0 åœ¨å³ä¾§è¡¥é½ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºŽå•ç²¾åº¦æ•°ï¼Œç”±äºŽæˆ‘ä»¬åªæœ‰ 24 ä½çš„å°¾æ•°ï¼ˆå…¶ä¸­ä¸€ä½éšè—ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥è¡¨è¾¾çš„æœ€å¤§å°¾æ•°ä¸º 224 - 1 = 16,777,215ã€‚ç‰¹åˆ«çš„ï¼Œ16,777,216 æ˜¯å¶æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å®ƒé™¤ä»¥ 2 å¹¶ç›¸åº”åœ°è°ƒæ•´æŒ‡æ•°æ¥ä¿å­˜è¿™ä¸ªæ•°ï¼Œè¿™æ · 16,777,216 åŒæ ·å¯ä»¥è¢«ç²¾ç¡®çš„ä¿å­˜ã€‚ç›¸åï¼Œæ•°å€¼ 16,777,217 åˆ™æ— æ³•è¢«ç²¾ç¡®çš„ä¿å­˜ã€‚ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å•ç²¾åº¦çš„æµ®ç‚¹æ•°å¯ä»¥è¡¨è¾¾çš„åè¿›åˆ¶æ•°å€¼ä¸­ï¼ŒçœŸæ­£æœ‰æ•ˆçš„æ•°å­—ä¸é«˜äºŽ 8 ä½ã€‚äº‹å®žä¸Šï¼Œå¯¹ç›¸å¯¹è¯¯å·®çš„æ•°å€¼åˆ†æžç»“æžœæ˜¾ç¤ºæœ‰æ•ˆçš„ç²¾åº¦å¤§çº¦ä¸º 7.22 ä½ã€‚å‚è€ƒä¸‹é¢çš„ç¤ºä¾‹ï¼š true value|16,777,215|16,777,216|16,777,217|16,777,218|16,777,219|â€”|â€”|â€”|â€”|â€”|â€”stored value|16,777,215|1.6777215E7|1.6777216E7|1.6777216E7|1.6777218E7 æ ¹æ®æ ‡å‡†è¦æ±‚ï¼Œæ— æ³•ç²¾ç¡®ä¿å­˜çš„å€¼å¿…é¡»å‘æœ€æŽ¥è¿‘çš„å¯ä¿å­˜çš„å€¼è¿›è¡Œèˆå…¥ã€‚è¿™æœ‰ç‚¹åƒæˆ‘ä»¬ç†Ÿæ‚‰çš„åè¿›åˆ¶çš„å››èˆäº”å…¥ï¼Œå³ä¸è¶³ä¸€åŠåˆ™èˆï¼Œä¸€åŠä»¥ä¸Šï¼ˆåŒ…æ‹¬ä¸€åŠï¼‰åˆ™è¿›ã€‚ä¸è¿‡å¯¹äºŽäºŒè¿›åˆ¶æµ®ç‚¹æ•°è€Œè¨€ï¼Œè¿˜å¤šä¸€æ¡è§„çŸ©ï¼Œå°±æ˜¯å½“éœ€è¦èˆå…¥çš„å€¼åˆšå¥½æ˜¯ä¸€åŠæ—¶ï¼Œä¸æ˜¯ç®€å•åœ°è¿›ï¼Œè€Œæ˜¯åœ¨å‰åŽä¸¤ä¸ªç­‰è·æŽ¥è¿‘çš„å¯ä¿å­˜çš„å€¼ä¸­ï¼Œå–å…¶ä¸­æœ€åŽä¸€ä½æœ‰æ•ˆæ•°å­—ä¸ºé›¶è€…ã€‚ä»Žä¸Šé¢çš„ç¤ºä¾‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¥‡æ•°éƒ½è¢«èˆå…¥ä¸ºå¶æ•°ï¼Œä¸”æœ‰èˆæœ‰è¿›ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™ç§èˆå…¥è¯¯å·®ç†è§£ä¸ºâ€åŠä½â€çš„è¯¯å·®ã€‚æ‰€ä»¥ï¼Œä¸ºäº†é¿å… 7.22 å¯¹å¾ˆå¤šäººé€ æˆçš„å›°æƒ‘ï¼Œæœ‰äº›æ–‡ç« ç»å¸¸ä»¥ 7.5 ä½æ¥è¯´æ˜Žå•ç²¾åº¦æµ®ç‚¹æ•°çš„ç²¾åº¦é—®é¢˜ã€‚ å¯ä»¥è¯•è¯•åœ¨IDEä¸­è¿è¡Œä¸€ä¸‹ä»£ç 12345float f1 = 16777215f; for (int i = 0; i &lt; 10; i++) &#123; System.out.println(f1); f1++; &#125; è¾“å‡ºç»“æžœé™¤äº†ç¬¬ä¸€ä¸ªæ˜¯1.6777215E7å…¶ä½™å…¨éƒ½æ˜¯1.6777216E7ï¼Œä¸æ˜¯forå¾ªçŽ¯å‡ºäº†é—®é¢˜ï¼Œè€Œæ˜¯å› ä¸º16,777,216åœ¨è®¡ç®—æœºä¸­å³1.6777216E7ï¼Œ+1åŽä¾æ—§ç­‰äºŽ1.6777216E7ã€‚ å‚è€ƒæ–‡ç«  Javaä¸­x=x+1 ä¸Žx+=1 çš„ä¸€ç‚¹åŒºåˆ« javaä¸­æ•°æ®æº¢å‡ºå¤„ç† java ç±»åž‹è½¬æ¢çš„åŽŸç† æ·±å…¥æµ…å‡ºæµ®ç‚¹æ•°Floating Point Number In a Nutshell]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>æ•°æ®ç±»åž‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonç¬”è®°ï¼ˆäºŒï¼‰-- å®¹å™¨]]></title>
    <url>%2F2017%2F06%2F22%2Fpython%E7%AC%94%E8%AE%B02%2F</url>
    <content type="text"><![CDATA[List å’Œ Tuplelist å’Œ tupleå‡ä¸ºæœ‰åºè¡¨ï¼Œå³å¯ç”¨ç´¢å¼•è®¿é—®ï¼Œä½†æ˜¯listå¯å˜ï¼Œtupleä¸å¯å˜ã€‚ å…ˆæ¥å‡ ä¸ªåŸºç¡€å•è¯ï¼šparenthesis/parentheses åœ†æ‹¬å·ï¼ˆï¼‰square brackets æ–¹æ‹¬å·[]curly braces å¤§æ‹¬å·/èŠ±æ‹¬å·{}heterogeneous [â€˜hÉ›tÉ™rÉ™â€™dÊ’inÉªÉ™s] ä¸åŒç§ç±»çš„homogeneous [,homÉ™â€™dÊ’inÉªÉ™s]åŒç§ç±»çš„ Listlistç±»ä¼¼äºŽæ•°ç»„ï¼Œæ˜¯ä¸€ä¸ªå¯å˜çš„æœ‰åºè¡¨ï¼Œå…ƒç´ çš„æ•°æ®ç±»åž‹ä¹Ÿå¯ä»¥ä¸åŒ,istå…ƒç´ ä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªlistã€‚å¦‚classmates = [&#39;Michael&#39;, &#39;Bob&#39;, &#39;Tracy&#39;]ï¼Œç´¢å¼•ä»Ž0å¼€å§‹åˆ°len(classmates)-1ï¼Œå¦‚æžœè¦å–æœ€åŽä¸€ä¸ªå…ƒç´ ï¼Œé™¤äº†è®¡ç®—ç´¢å¼•ä½ç½®å¤–ï¼Œè¿˜å¯ä»¥ç”¨-1åšç´¢å¼•ï¼Œç›´æŽ¥èŽ·å–æœ€åŽä¸€ä¸ªå…ƒç´ ï¼šclassmates[-1],ä»¥æ­¤ç±»æŽ¨ï¼Œå¯ä»¥èŽ·å–å€’æ•°ç¬¬2ä¸ªã€å€’æ•°ç¬¬3ä¸ªclassmates[-2]ã€‚æ–¹æ³•ï¼šlist.append(x)Add an item to the end of the list. Equivalent to a[len(a):] = [x].list.extend(iterable)Extend the list by appending all the items from the iterable. Equivalent to a[len(a):] = iterable.list.insert(i, x)Insert an item at a given position. The first argument is the index of the element before which to insert, so a.insert(0, x) inserts at the front of the list, and a.insert(len(a), x) is equivalent to a.append(x).list.remove(x)Remove the first item from the list whose value is x. It is an error if there is no such item.list.pop([i])Remove the item at the given position in the list, and return it. If no index is specified, a.pop() removes and returns the last item in the list. (The square brackets around the i in the method signature denote that the parameter is optional, not that you should type square brackets at that position. You will see this notation frequently in the Python Library Reference.)list.clear()Remove all items from the list. Equivalent to del a[:].list.index(x[, start[, end]])Return zero-based index in the list of the first item whose value is x. Raises a ValueError if there is no such item.The optional arguments start and end are interpreted as in the slice notation and are used to limit the search to a particular subsequence of the list. The returned index is computed relative to the beginning of the full sequence rather than the start argument.list.count(x)Return the number of times x appears in the list.list.sort(key=None, reverse=False)Sort the items of the list in place (the arguments can be used for sort customization, see sorted() for their explanation).list.reverse()Reverse the elements of the list in place.list.copy()Return a shallow copy of the list. Equivalent to a[:]. del() åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ list(tup) å°†ä¸å¯å˜çš„å…ƒç¥–tupè½¬æ¢ä¸ºå¯å˜çš„list1234567891011121314151617181920212223242526272829303132333435363738394041424344&gt;&gt;&gt; fruits = ['orange', 'apple', 'pear', 'banana', 'kiwi', 'apple', 'banana']&gt;&gt;&gt; fruits.count('apple')2&gt;&gt;&gt; fruits.count('tangerine')0&gt;&gt;&gt; fruits.index('banana')3&gt;&gt;&gt; fruits.index('banana', 4) # Find next banana starting a position 46&gt;&gt;&gt; fruits.reverse()&gt;&gt;&gt; fruits['banana', 'apple', 'kiwi', 'banana', 'pear', 'apple', 'orange']&gt;&gt;&gt; fruits.append('grape')&gt;&gt;&gt; fruits['banana', 'apple', 'kiwi', 'banana', 'pear', 'apple', 'orange', 'grape']&gt;&gt;&gt; fruits.sort()&gt;&gt;&gt; fruits['apple', 'apple', 'banana', 'banana', 'grape', 'kiwi', 'orange', 'pear']&gt;&gt;&gt; fruits.pop()'pear'classmates.append('Adam')classmates.insert(1, 'Jack')&gt;&gt;&gt; classmates.pop()'Adam'&gt;&gt;&gt; classmates.pop(1)'Jack'# delè¯­å¥,é€šè¿‡è§’æ ‡åˆ é™¤å…ƒç´ &gt;&gt;&gt; a = [-1, 1, 66.25, 333, 333, 1234.5]&gt;&gt;&gt; del a[0]&gt;&gt;&gt; a[1, 66.25, 333, 333, 1234.5]# åˆ é™¤éƒ¨åˆ†&gt;&gt;&gt; del a[2:4]&gt;&gt;&gt; a[1, 66.25, 1234.5]# æ¸…ç©º&gt;&gt;&gt; del a[:]&gt;&gt;&gt; a[]# delè¿˜å¯ä»¥ç›´æŽ¥åˆ é™¤æ•´ä¸ªlistå˜é‡ï¼ˆä¸æ˜¯æ¸…ç©ºï¼‰&gt;&gt;&gt; del a#tupleè½¬æ¢ä¸ºlistaTuple = (123, 'xyz', 'zara', 'abc');aList = list(aTuple) Nested List ComprehensionsThe initial expression in a list comprehension can be any arbitrary expression, including another list comprehension.Consider the following example of a 3x4 matrix implemented as a list of 3 lists of length 4: 12345matrix = [ [1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12],] The following list comprehension will transpose rows and columns:12&gt;&gt;&gt; [[row[i] for row in matrix] for i in range(4)][[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]] As we saw in the previous section, the nested listcomp is evaluated in the context of the for that follows it, so this example is equivalent to:123456&gt;&gt;&gt; transposed = []&gt;&gt;&gt; for i in range(4):... transposed.append([row[i] for row in matrix])...&gt;&gt;&gt; transposed[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]] In the real world, you should prefer built-in functions to complex flow statements. The zip() function would do a great job for this use case:12&gt;&gt;&gt; list(zip(*matrix))[(1, 5, 9), (2, 6, 10), (3, 7, 11), (4, 8, 12)] Tupletupleæ˜¯ä¸€ä¸ªä¸å¯å˜çš„æœ‰åºè¡¨ï¼Œtupleå’Œlistéžå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯tupleä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹ï¼Œæ¯”å¦‚åŒæ ·æ˜¯åˆ—å‡ºåŒå­¦çš„åå­—ï¼šclassmates = (&#39;Michael&#39;, &#39;Bob&#39;, &#39;Tracy&#39;)çŽ°åœ¨ï¼Œclassmatesè¿™ä¸ªtupleä¸èƒ½å˜äº†ï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æœ‰append()ï¼Œinsert()è¿™æ ·çš„æ–¹æ³•ã€‚å…¶ä»–èŽ·å–å…ƒç´ çš„æ–¹æ³•å’Œlistæ˜¯ä¸€æ ·çš„ï¼Œä½ å¯ä»¥æ­£å¸¸åœ°ä½¿ç”¨classmates[0]ï¼Œclassmates[-1]ï¼Œä½†ä¸èƒ½èµ‹å€¼æˆå¦å¤–çš„å…ƒç´ ã€‚Tuples may be constructed in a number of ways: Using a pair of parentheses to denote the empty tuple: () Using a trailing comma for a singleton tuple: a, or (a,) Separating items with commas: a, b, c or (a, b, c) Using the tuple() built-in: tuple() or tuple(iterable) ä¸å¯å˜çš„tupleæœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿå› ä¸ºtupleä¸å¯å˜ï¼Œæ‰€ä»¥ä»£ç æ›´å®‰å…¨ã€‚å¦‚æžœå¯èƒ½ï¼Œèƒ½ç”¨tupleä»£æ›¿listå°±å°½é‡ç”¨tupleã€‚ Though tuples may seem similar to lists, they are often used in different situations and for different purposes. Tuples are immutable, and usually contain a heterogeneous sequence of elements that are accessed via unpacking (see later in this section) or indexing (or even by attribute in the case of namedtuples). Lists are mutable, and their elements are usually homogeneous and are accessed by iterating over the list.The statement t = 12345, 54321, &#39;hello!&#39; is an example of tuple packing: the values 12345, 54321 and &#39;hello!&#39; are packed together in a tuple. The reverse operation is also possible:1&gt;&gt;&gt; x, y, z = t This is called, appropriately enough, sequence unpacking and works for any sequence on the right-hand side. Sequence unpacking requires that there are as many variables on the left side of the equals sign as there are elements in the sequence. Note that multiple assignment is really just a combination of tuple packing and sequence unpacking.æ³¨æ„ï¼š 1234# å®šä¹‰ä¸€ä¸ªç©ºçš„tuple&gt;&gt;&gt; t = ()# å®šä¹‰ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå…ƒç´ çš„tuple, éœ€è¦åŠ é€—å·&gt;&gt;&gt; t = (4,) # è¿™é‡Œå¯ä»¥çš„æ‹¬å·å¯ä»¥çœç•¥å³t = 4, t = (1)å®šä¹‰çš„ä¸æ˜¯tupleï¼Œæ˜¯1è¿™ä¸ªæ•°ï¼è¿™æ˜¯å› ä¸ºæ‹¬å·()æ—¢å¯ä»¥è¡¨ç¤ºtupleï¼Œåˆå¯ä»¥è¡¨ç¤ºæ•°å­¦å…¬å¼ä¸­çš„å°æ‹¬å·ï¼Œè¿™å°±äº§ç”Ÿäº†æ­§ä¹‰ï¼Œå› æ­¤ï¼ŒPythonè§„å®šï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒæŒ‰å°æ‹¬å·è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—ç»“æžœè‡ªç„¶æ˜¯1ã€‚æ‰€ä»¥ï¼Œåªæœ‰1ä¸ªå…ƒç´ çš„tupleå®šä¹‰æ—¶å¿…é¡»åŠ ä¸€ä¸ªé€—å·,ï¼Œæ¥æ¶ˆé™¤æ­§ä¹‰ã€‚ å½“tupleä¸­åµŒå¥—listæ—¶ï¼Œtupleæ˜¯å¯¹listçš„æŒ‡å‘ä¸å˜ï¼Œä½†listå¯å˜ï¼Œã€‚ Dictionaryå’ŒSetDictdictå…¨ç§°dictionaryï¼Œç±»ä¼¼äºŽjavaä¸­çš„mapï¼Œä½¿ç”¨é”®-å€¼ï¼ˆkey-valueï¼‰å­˜å‚¨ï¼ˆkeyè¦æ±‚å”¯ä¸€æ€§ï¼‰ï¼Œå…·æœ‰æžå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚ç¤ºä¾‹ï¼š123456789101112131415161718&gt;&gt;&gt; tel = &#123;'jack': 4098, 'sape': 4139&#125;&gt;&gt;&gt; tel['guido'] = 4127&gt;&gt;&gt; tel&#123;'sape': 4139, 'guido': 4127, 'jack': 4098&#125;&gt;&gt;&gt; tel['jack']4098&gt;&gt;&gt; del tel['sape']&gt;&gt;&gt; tel['irv'] = 4127&gt;&gt;&gt; tel&#123;'guido': 4127, 'irv': 4127, 'jack': 4098&#125;&gt;&gt;&gt; list(tel.keys())['irv', 'guido', 'jack']&gt;&gt;&gt; sorted(tel.keys())['guido', 'irv', 'jack']&gt;&gt;&gt; 'guido' in telTrue&gt;&gt;&gt; 'jack' not in telFalse ä½¿ç”¨dict()æž„é€ å™¨ã€comprehensionã€ç›´æŽ¥èµ‹å€¼æ³•æ¥åˆ›å»ºdictã€‚123456789# The dict() constructor builds dictionaries directly from sequences of key-value pairs:&gt;&gt;&gt; dict([('sape', 4139), ('guido', 4127), ('jack', 4098)])&#123;'sape': 4139, 'jack': 4098, 'guido': 4127&#125;# dict comprehensions&gt;&gt;&gt; &#123;x: x**2 for x in (2, 4, 6)&#125;&#123;2: 4, 4: 16, 6: 36&#125;# When the keys are simple strings, it is sometimes easier to specify pairs using keyword arguments:&gt;&gt;&gt; dict(sape=4139, guido=4127, jack=4098)&#123;'sape': 4139, 'jack': 4098, 'guido': 4127&#125; æ–¹æ³•ï¼šget()pop() åˆ é™¤æŒ‡å®šå…ƒç´ 12345678910d = &#123;'Michael': 95, 'Bob': 75, 'Tracy': 85&#125;# è‹¥keyä¸å­˜åœ¨ï¼Œåˆ™è¿”å›žNoneã€‚# æ³¨æ„ï¼šè¿”å›žNoneçš„æ—¶å€™,Pythonçš„äº¤äº’å¼å‘½ä»¤è¡Œä¸æ˜¾ç¤ºç»“æžœã€‚d.get('Tom')# æŒ‡å®šé»˜è®¤å€¼ã€‚å¦‚æžœkeyä¸å­˜åœ¨è‡ªå·±æŒ‡å®šçš„value&gt;&gt;&gt; d.get('Tom', -1)-1# pop(key)ï¼Œåˆ é™¤key-value,è¿”å›žè¢«åˆ é™¤çš„value&gt;&gt;&gt; d.pop('Bob')75 When looping through dictionaries, the key and corresponding value can be retrieved at the same time using the items() method. 123456&gt;&gt;&gt; knights = &#123;'gallahad': 'the pure', 'robin': 'the brave'&#125;&gt;&gt;&gt; for k, v in knights.items():... print(k, v)...gallahad the purerobin the brave è¯·åŠ¡å¿…æ³¨æ„ï¼Œdictå†…éƒ¨å­˜æ”¾çš„é¡ºåºå’Œkeyæ”¾å…¥çš„é¡ºåºæ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚å’Œlistæ¯”è¾ƒï¼Œdictæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š 1. æŸ¥æ‰¾å’Œæ’å…¥çš„é€Ÿåº¦æžå¿«ï¼Œä¸ä¼šéšç€keyçš„å¢žåŠ è€Œå˜æ…¢ï¼› 2. éœ€è¦å ç”¨å¤§é‡çš„å†…å­˜ï¼Œå†…å­˜æµªè´¹å¤šã€‚ è€Œlistç›¸åï¼š 1. æŸ¥æ‰¾å’Œæ’å…¥çš„æ—¶é—´éšç€å…ƒç´ çš„å¢žåŠ è€Œå¢žåŠ ï¼› 2. å ç”¨ç©ºé—´å°ï¼Œæµªè´¹å†…å­˜å¾ˆå°‘ã€‚ æ‰€ä»¥ï¼Œdictæ˜¯ç”¨ç©ºé—´æ¥æ¢å–æ—¶é—´çš„ä¸€ç§æ–¹æ³•ã€‚ Dictionaryçš„è¿­ä»£å–å‡ºå› ä¸ºdictçš„å­˜å‚¨ä¸æ˜¯æŒ‰ç…§listçš„æ–¹å¼é¡ºåºæŽ’åˆ—ï¼Œæ‰€ä»¥ï¼Œè¿­ä»£å‡ºçš„ç»“æžœé¡ºåºå¾ˆå¯èƒ½ä¸ä¸€æ ·ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œdictè¿­ä»£çš„æ˜¯keyã€‚å¦‚æžœè¦è¿­ä»£valueï¼Œå¯ä»¥ç”¨for value in d.values()ï¼Œå¦‚æžœè¦åŒæ—¶è¿­ä»£keyå’Œvalueï¼Œå¯ä»¥ç”¨for k, v in d.items()ã€‚1234567891011121314&gt;&gt;&gt; d = &#123;'a': 1, 'b': 2, 'c': 3&#125;&gt;&gt;&gt; for key in d:... print(key)...acb# å­—ç¬¦ä¸²ä¹Ÿèƒ½è¿­ä»£&gt;&gt;&gt; for ch in 'ABC':... print(ch)...ABC å½“æˆ‘ä»¬ä½¿ç”¨forå¾ªçŽ¯æ—¶ï¼Œåªè¦ä½œç”¨äºŽä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œforå¾ªçŽ¯å°±å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè€Œæˆ‘ä»¬ä¸å¤ªå…³å¿ƒè¯¥å¯¹è±¡ç©¶ç«Ÿæ˜¯listè¿˜æ˜¯å…¶ä»–æ•°æ®ç±»åž‹ã€‚ é‚£ä¹ˆï¼Œå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿæ–¹æ³•æ˜¯é€šè¿‡collectionsæ¨¡å—çš„Iterableç±»åž‹åˆ¤æ–­ï¼š123456&gt;&gt;&gt; isinstance('abc', Iterable) # stræ˜¯å¦å¯è¿­ä»£True&gt;&gt;&gt; isinstance([1,2,3], Iterable) # listæ˜¯å¦å¯è¿­ä»£True&gt;&gt;&gt; isinstance(123, Iterable) # æ•´æ•°æ˜¯å¦å¯è¿­ä»£False Setsetæ˜¯æ— åºä¸é‡å¤çš„é›†åˆ(A set is an unordered collection with no duplicate elements.)ã€‚å¯ä»¥è¿™æ ·ç†è§£ï¼šsetå’Œdictç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºŽkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyã€‚ ç”±äºŽå®˜æ–¹æ–‡æ¡£å†™å¾—å®žåœ¨æ˜¯å¤ªå¥½ï¼Œå†åŠ ä¸Šæƒ³ç»ƒä¹ è‹±è¯­ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—ç›´æŽ¥è´´è‹±æ–‡åŽŸæ–‡äº†ã€‚Curly braces or the set() function can be used to create sets. Note: to create an empty set you have to use set(), not {}; the latter creates an empty dictionary. Here is a brief demonstration: 123456789101112131415161718192021&gt;&gt;&gt; basket = &#123;'apple', 'orange', 'apple', 'pear', 'orange', 'banana'&#125;&gt;&gt;&gt; print(basket) # show that duplicates have been removed&#123;'orange', 'banana', 'pear', 'apple'&#125;&gt;&gt;&gt; 'orange' in basket # fast membership testingTrue&gt;&gt;&gt; 'crabgrass' in basketFalse# Demonstrate set operations on unique letters from two words&gt;&gt;&gt; a = set('abracadabra')&gt;&gt;&gt; b = set('alacazam')&gt;&gt;&gt; a # unique letters in a&#123;'a', 'r', 'b', 'c', 'd'&#125;&gt;&gt;&gt; a - b # letters in a but not in b&#123;'r', 'd', 'b'&#125;&gt;&gt;&gt; a | b # letters in a or b or both&#123;'a', 'c', 'r', 'd', 'b', 'm', 'z', 'l'&#125;&gt;&gt;&gt; a &amp; b # letters in both a and b&#123;'a', 'c'&#125;&gt;&gt;&gt; a ^ b # letters in a or b but not both&#123;'r', 'd', 'b', 'm', 'z', 'l'&#125; Similarly to list comprehensions, set comprehensions are also supported: 123&gt;&gt;&gt; a = &#123;x for x in 'abracadabra' if x not in 'abc'&#125;&gt;&gt;&gt; a&#123;'r', 'd'&#125; Looping TechniquesWhen looping through dictionaries, the key and corresponding value can be retrieved at the same time using the items() method. 123456&gt;&gt;&gt; knights = &#123;&apos;gallahad&apos;: &apos;the pure&apos;, &apos;robin&apos;: &apos;the brave&apos;&#125;&gt;&gt;&gt; for k, v in knights.items():... print(k, v)...gallahad the purerobin the brave When looping through a sequence, the position index and corresponding value can be retrieved at the same time using the enumerate() function. 123456&gt;&gt;&gt; for i, v in enumerate([&apos;tic&apos;, &apos;tac&apos;, &apos;toe&apos;]):... print(i, v)...0 tic1 tac2 toe To loop over two or more sequences at the same time, the entries can be paired with the zip() function.12345678&gt;&gt;&gt; questions = [&apos;name&apos;, &apos;quest&apos;, &apos;favorite color&apos;]&gt;&gt;&gt; answers = [&apos;lancelot&apos;, &apos;the holy grail&apos;, &apos;blue&apos;]&gt;&gt;&gt; for q, a in zip(questions, answers):... print(&apos;What is your &#123;0&#125;? It is &#123;1&#125;.&apos;.format(q, a))...What is your name? It is lancelot.What is your quest? It is the holy grail.What is your favorite color? It is blue. To loop over a sequence in reverse, first specify the sequence in a forward direction and then call the reversed() function.12345678&gt;&gt;&gt; for i in reversed(range(1, 10, 2)):... print(i)...97531 To loop over a sequence in sorted order, use the sorted() function which returns a new sorted list while leaving the source unaltered.123456&gt;&gt;&gt; basket = [&apos;apple&apos;, &apos;orange&apos;, &apos;apple&apos;, &apos;pear&apos;, &apos;orange&apos;, &apos;banana&apos;]&gt;&gt;&gt; a = sorted(set(basket))&gt;&gt;&gt; print(a)[&apos;apple&apos;, &apos;banana&apos;, &apos;orange&apos;, &apos;pear&apos;] # æ³¨æ„sortè¿˜æœ‰åŽ»é‡çš„æ•ˆæžœ&gt;&gt;&gt; print(basket)[&apos;apple&apos;, &apos;orange&apos;, &apos;apple&apos;, &apos;pear&apos;, &apos;orange&apos;, &apos;banana&apos;] It is sometimes tempting to change a list while you are looping over it; however, it is often simpler and safer to create a new list instead.123456789&gt;&gt;&gt; import math&gt;&gt;&gt; raw_data = [56.2, float(&apos;NaN&apos;), 51.7, 55.3, 52.5, float(&apos;NaN&apos;), 47.8]&gt;&gt;&gt; filtered_data = []&gt;&gt;&gt; for value in raw_data:... if not math.isnan(value):... filtered_data.append(value)...&gt;&gt;&gt; filtered_data[56.2, 51.7, 55.3, 52.5, 47.8] æˆ–è€…å‚è§Pythonç¬”è®°ï¼ˆä¸‰ï¼‰â€“ for elseè¿˜æœ‰è¿™ç§æ“ä½œä¸­çš„ä¸´æ—¶å¤åˆ¶æ³•ã€‚ æ‰©å±•é˜…è¯»Comparing Sequences and Other Types Sequence objects may be compared to other objects with the same sequence type. The comparison uses lexicographical ordering: first the first two items are compared, and if they differ this determines the outcome of the comparison; if they are equal, the next two items are compared, and so on, until either sequence is exhausted. If two items to be compared are themselves sequences of the same type, the lexicographical comparison is carried out recursively. If all items of two sequences compare equal, the sequences are considered equal. If one sequence is an initial sub-sequence of the other, the shorter sequence is the smaller (lesser) one. Lexicographical ordering for strings uses the Unicode code point number to order individual characters. Some examples of comparisons between sequences of the same type: 1234567(1, 2, 3) &lt; (1, 2, 4)[1, 2, 3] &lt; [1, 2, 4]&apos;ABC&apos; &lt; &apos;C&apos; &lt; &apos;Pascal&apos; &lt; &apos;Python&apos;(1, 2, 3, 4) &lt; (1, 2, 4)(1, 2) &lt; (1, 2, -1)(1, 2, 3) == (1.0, 2.0, 3.0)(1, 2, (&apos;aa&apos;, &apos;ab&apos;)) &lt; (1, 2, (&apos;abc&apos;, &apos;a&apos;), 4) Note that comparing objects of different types with &lt; or &gt; is legal provided that the objects have appropriate comparison methods. For example, mixed numeric types are compared according to their numeric value, so 0 equals 0.0, etc. Otherwise, rather than providing an arbitrary ordering, the interpreter will raise a TypeError exception. å‚è€ƒèµ„æ–™ å®˜æ–¹æ–‡æ¡£â€“Data Structures èŽ«çƒ¦Python å»–é›ªå³°çš„Pythonæ•™ç¨‹]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonç¬”è®°ï¼ˆä¸€ï¼‰--æ•°æ®ç±»åž‹]]></title>
    <url>%2F2017%2F06%2F22%2Fpython%E7%AC%94%E8%AE%B01%2F</url>
    <content type="text"><![CDATA[çœ‹å®Œäº†å°šå­¦å ‚çš„java300é›†ï¼ˆé™¤äº†æ‰‹å†™æœåŠ¡å™¨å’Œè®¾è®¡æ¨¡å¼éƒ¨åˆ†ï¼‰ï¼Œç”±äºŽä¸æ˜¯æŒ‰é¡ºåºçœ‹çš„ï¼Œæœ€åŽå¤ä¹ äº†å¤šçº¿ç¨‹ï¼Œæ˜¨æ™šå†™å®Œå¤šçº¿ç¨‹çš„åšå®¢ï¼Œjavaå­¦ä¹ ç®—æ˜¯å‘Šä¸€æ®µè½äº†ï¼ŒçŽ°åœ¨å‘Pythonå‘èµ·è¿›æ”»ã€‚æœ‰çš„äººç”¨â€œPythonè¿˜ç”¨å­¦ä¹ˆï¼Ÿâ€æ¥å½¢å®¹Pythonï¼Œçœ‹æ¥Pythonå®žåœ¨æ˜¯ä¸€é—¨ç®€å•æ˜“å­¦çš„è¯­è¨€ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½ å·²ç»æŽŒæ¡ä¸€é—¨é«˜çº§è¯­è¨€ä¹‹åŽã€‚ä½†æ˜¯åƒä¸‡ä¸èƒ½å› æ­¤å°±çœŸçš„â€œä¸å­¦â€ï¼Œå®Œæ•´çš„ç†è®ºçŸ¥è¯†æ˜¯ä½ ä¹‹åŽâ€œæ•²é”®ç›˜å¦‚æœ‰ç¥žâ€çš„åŸºæœ¬æ¡ä»¶ã€‚è¿™é‡Œç½—åˆ—ä¸€äº›æˆ‘æ²¡è§è¿‡çš„å°çŸ¥è¯†ç‚¹å’Œå®ƒä¸Žjavaç­‰è¯­è¨€çš„ä¸åŒä¹‹å¤„ã€‚ä»…ä½œä¸ºä¸ªäººç¬”è®°ï¼Œä¸ä¾›å‚è€ƒã€‚ æµ®ç‚¹æ•°æµ®ç‚¹æ•°ä¹Ÿå°±æ˜¯å°æ•°ï¼Œä¹‹æ‰€ä»¥ç§°ä¸ºæµ®ç‚¹æ•°ï¼Œæ˜¯å› ä¸ºæŒ‰ç…§ç§‘å­¦è®°æ•°æ³•è¡¨ç¤ºæ—¶ï¼Œä¸€ä¸ªæµ®ç‚¹æ•°çš„å°æ•°ç‚¹ä½ç½®æ˜¯å¯å˜çš„ï¼Œæ¯”å¦‚ï¼Œ1.23x109å’Œ12.3x108æ˜¯ç›¸ç­‰çš„ã€‚æµ®ç‚¹æ•°å¯ä»¥ç”¨æ•°å­¦å†™æ³•ï¼Œå¦‚1.23ï¼Œ3.14ï¼Œ-9.01ï¼Œç­‰ç­‰ã€‚ä½†æ˜¯å¯¹äºŽå¾ˆå¤§æˆ–å¾ˆå°çš„æµ®ç‚¹æ•°ï¼Œå°±å¿…é¡»ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼ŒæŠŠ10ç”¨eæ›¿ä»£ï¼Œ1.23x109å°±æ˜¯1.23e9ï¼Œæˆ–è€…12.3e8ï¼Œ0.000012å¯ä»¥å†™æˆ1.2e-5ï¼Œç­‰ç­‰ã€‚ æ•´æ•°å’Œæµ®ç‚¹æ•°åœ¨è®¡ç®—æœºå†…éƒ¨å­˜å‚¨çš„æ–¹å¼æ˜¯ä¸åŒçš„ï¼Œæ•´æ•°è¿ç®—æ°¸è¿œæ˜¯ç²¾ç¡®çš„ï¼ˆé™¤æ³•éš¾é“ä¹Ÿæ˜¯ç²¾ç¡®çš„ï¼Ÿæ˜¯çš„ï¼ï¼‰ï¼Œè€Œæµ®ç‚¹æ•°è¿ç®—åˆ™å¯èƒ½ä¼šæœ‰å››èˆäº”å…¥çš„è¯¯å·®ã€‚é¡ºä¾¿ä¸€æï¼Œä¸Žjavaä¸åŒï¼Œ9/4è¾“å‡ºç»“æžœä¸º2.5ï¼Œ9//4è¾“å‡ºç»“æžœä¸º2ã€‚ å­—ç¬¦ä¸²â€“è½¬ä¹‰ä¸Žæ¢è¡Œå¦‚æžœå­—ç¬¦ä¸²é‡Œé¢æœ‰å¾ˆå¤šå­—ç¬¦éƒ½éœ€è¦è½¬ä¹‰ï¼Œå°±éœ€è¦åŠ å¾ˆå¤š\ï¼Œä¸ºäº†ç®€åŒ–ï¼ŒPythonè¿˜å…è®¸ç”¨râ€™â€™è¡¨ç¤ºâ€™â€™å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰ã€‚12&gt;&gt;&gt; print(r'æ¢è¡Œ/nè¿˜æ˜¯ä¸æ¢è¡Œï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜')æ¢è¡Œ/nè¿˜æ˜¯ä¸æ¢è¡Œï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ å¦‚æžœå­—ç¬¦ä¸²å†…éƒ¨æœ‰å¾ˆå¤šæ¢è¡Œï¼Œç”¨\nå†™åœ¨ä¸€è¡Œé‡Œä¸å¥½é˜…è¯»ï¼Œä¸ºäº†ç®€åŒ–ï¼ŒPythonå…è®¸ç”¨â€™â€™â€™â€¦â€™â€™â€™çš„æ ¼å¼è¡¨ç¤ºå¤šè¡Œå†…å®¹.åœ¨ç»ˆç«¯replé‡Œè¿™æ ·ç”¨ï¼ŒIDEé‡Œå°±ç”¨ä¸ç€äº†ã€‚ Boolean0å’Œ0.0è¡¨ç¤ºFalseå…¶ä½™ä¸ºTrueå¸ƒå°”å€¼ä¸å¤–ä¹ŽTrueå’ŒFalseï¼Œä½†Pythonä¸­æ•´æ•°å’Œæµ®ç‚¹æ•°ä¹Ÿèƒ½è¿›è¡Œ Boolean æ•°æ®æ“ä½œ, å…·ä½“è§„åˆ™ï¼Œå¦‚æžœè¯¥å€¼ç­‰äºŽ 0 æˆ–è€… 0.0 å°†ä¼šè¿”å›ž Falseï¼Œå…¶ä½™çš„è¿”å›ž Trueã€‚1234con = 10while con: print(con) con -= 1 é€»è¾‘è¿ç®—ç¬¦and or notå¸ƒå°”å€¼å¯ä»¥ç”¨andã€orå’Œnotè¿ç®—,è€Œéž &amp; | ! ã€‚å¦‚æžœä½ æµ‹è¯•å‘çŽ°å®ƒä»¬ä¹Ÿèƒ½ç”¨çš„è¯ï¼Œé‚£åªæ˜¯å·§åˆï¼Œå› ä¸º&amp; | !æ˜¯ä½è¿ç®—ç¬¦ï¼Œæ¯”å¦‚1 &gt; 2 &amp; 1äº‹å®žä¸Šæ˜¯1 &gt; (2 &amp; 1)ç»“æžœä¸ºfalse, å®ƒæ˜¯æŒ‰ç…§ä½è¿ç®—ä¹‹åŽçš„ç»“æžœã€‚å¦‚æžœæ˜¯é€»è¾‘è¿ç®—1 &gt; 2 and 1ï¼Œç»“æžœåº”è¯¥æ˜¯trueã€‚ Pythonä¸­è¿˜æ”¯æŒx &lt; y &lt; zï¼ˆPS:è¿˜æœ‰è¿™ç§æ“ä½œï¼ï¼‰ï¼Œç­‰åŒäºŽx &lt; y and y &lt; zï¼Œè™½ç„¶æœ‰äººè®¤ä¸ºç¬¬ä¸€ç§æ“ä½œå¯èƒ½ä¼šè®©å…¶ä»–è¯­è¨€çš„ç¨‹åºçŒ¿çœ‹ä¸æ‡‚ï¼Œä½†æ˜¯PyCharmå´ä¼šåœ¨ç¬¬äºŒç§æ ¼å¼ä¸­æç¤ºä½ å°†å…¶è½¬ä¸ºç¬¬ä¸€ç§æ ¼å¼ï¼Œå› ä¸ºæ›´ç®€æ´ï¼Œä¸€è´¯çš„JetBrainsæ™ºèƒ½å¤„å¥³åº§é£Žæ ¼ã€‚ ç©ºå€¼ç©ºå€¼æ˜¯Pythoné‡Œä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œç”¨Noneè¡¨ç¤ºã€‚Noneä¸èƒ½ç†è§£ä¸º0ï¼Œå› ä¸º0æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè€ŒNoneæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç©ºå€¼ã€‚ å˜é‡å˜é‡åœ¨ç¨‹åºä¸­å°±æ˜¯ç”¨ä¸€ä¸ªå˜é‡åè¡¨ç¤ºäº†ï¼Œå¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»åž‹,å˜é‡åå¿…é¡»æ˜¯å¤§å°å†™è‹±æ–‡ã€æ•°å­—å’Œ_çš„ç»„åˆï¼Œä¸”ä¸èƒ½ç”¨æ•°å­—å¼€å¤´ï¼Œ å¸¸é‡æ‰€è°“å¸¸é‡å°±æ˜¯ä¸èƒ½å˜çš„å˜é‡ï¼Œæ¯”å¦‚å¸¸ç”¨çš„æ•°å­¦å¸¸æ•°Ï€å°±æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚åœ¨Pythonä¸­ï¼Œé€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡,å¦‚PI = 3.14159265359ä½†äº‹å®žä¸ŠPIä»ç„¶æ˜¯ä¸€ä¸ªå˜é‡ï¼ŒPythonæ ¹æœ¬æ²¡æœ‰ä»»ä½•æœºåˆ¶ä¿è¯PIä¸ä¼šè¢«æ”¹å˜ï¼Œæ‰€ä»¥ï¼Œç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡åªæ˜¯ä¸€ä¸ªä¹ æƒ¯ä¸Šçš„ç”¨æ³•ï¼Œå¦‚æžœä½ ä¸€å®šè¦æ”¹å˜å˜é‡PIçš„å€¼ï¼Œä¹Ÿæ²¡äººèƒ½æ‹¦ä½ä½ ã€‚ æ ¼å¼åŒ–åœ¨Pythonä¸­ï¼Œé‡‡ç”¨çš„æ ¼å¼åŒ–æ–¹å¼å’ŒCè¯­è¨€æ˜¯ä¸€è‡´çš„ï¼Œç”¨%å®žçŽ°ï¼Œå¦‚&#39;Hello, %s&#39; % &#39;world&#39;ã€‚å¸¸è§çš„å ä½ç¬¦æœ‰ï¼š%d æ•´æ•°%f æµ®ç‚¹æ•°%s å­—ç¬¦ä¸²%x åå…­è¿›åˆ¶æ•´æ•°å…¶ä¸­ï¼Œæ ¼å¼åŒ–æ•´æ•°å’Œæµ®ç‚¹æ•°è¿˜å¯ä»¥æŒ‡å®šæ˜¯å¦è¡¥0å’Œæ•´æ•°ä¸Žå°æ•°çš„ä½æ•°1234&gt;&gt;&gt; '%2d-%02d' % (3,1)' 3-01'&gt;&gt;&gt; '%d-%.2f' % (3,1.5647)'3-1.56' å‚è€ƒæ–‡ç«  èŽ«çƒ¦Python å»–é›ªå³°çš„Pythonæ•™ç¨‹]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå¤šçº¿ç¨‹]]></title>
    <url>%2F2017%2F06%2F21%2F2017-06-21%2F</url>
    <content type="text"><![CDATA[å¤šçº¿ç¨‹å¤§æ€»ç»“ å¹¶è¡Œä¸Žå¹¶å‘ å¹¶è¡Œï¼šå¤šä¸ªcpuå®žä¾‹æˆ–è€…å¤šå°æœºå™¨åŒæ—¶æ‰§è¡Œä¸€æ®µå¤„ç†é€»è¾‘ï¼Œæ˜¯çœŸæ­£çš„åŒæ—¶ã€‚ å¹¶å‘ï¼šé€šè¿‡cpuè°ƒåº¦ç®—æ³•ï¼Œè®©ç”¨æˆ·çœ‹ä¸ŠåŽ»åŒæ—¶æ‰§è¡Œï¼Œå®žé™…ä¸Šä»Žcpuæ“ä½œå±‚é¢ä¸æ˜¯çœŸæ­£çš„åŒæ—¶ã€‚å¹¶å‘å¾€å¾€åœ¨åœºæ™¯ä¸­æœ‰å…¬ç”¨çš„èµ„æºï¼Œé‚£ä¹ˆé’ˆå¯¹è¿™ä¸ªå…¬ç”¨çš„èµ„æºå¾€å¾€äº§ç”Ÿç“¶é¢ˆï¼Œæˆ‘ä»¬ä¼šç”¨TPSæˆ–è€…QPSæ¥ååº”è¿™ä¸ªç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ã€‚ Javaçº¿ç¨‹å…·æœ‰äº”ç§åŸºæœ¬çŠ¶æ€ ç½‘ä¸Šæœ‰å¾ˆå¤šå›¾ï¼Œä½†æ˜¯æ„Ÿè§‰åšå¥½çš„è¿˜æ˜¯è¿™å¼ å›¾ï¼ˆè™½ç„¶é‡Œé¢interruptå†™é”™æˆinteruptï¼Œä½†æ˜¯æ€»ä½“æž¶æž„å´æ˜¯æœ€æ¸…æ™°å®Œæ•´çš„ï¼‰æ–°å»ºçŠ¶æ€ï¼ˆNewï¼‰ï¼šå½“çº¿ç¨‹å¯¹è±¡å¯¹åˆ›å»ºåŽï¼Œå³è¿›å…¥äº†æ–°å»ºçŠ¶æ€ï¼Œå¦‚ï¼šThread t = new MyThread();å°±ç»ªçŠ¶æ€ï¼ˆRunnableï¼‰ï¼šå½“è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•ï¼ˆt.start();ï¼‰ï¼Œçº¿ç¨‹å³è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚å¤„äºŽå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹ï¼Œåªæ˜¯è¯´æ˜Žæ­¤çº¿ç¨‹å·²ç»åšå¥½äº†å‡†å¤‡ï¼Œéšæ—¶ç­‰å¾…CPUè°ƒåº¦æ‰§è¡Œï¼Œå¹¶ä¸æ˜¯è¯´æ‰§è¡Œäº†t.start()æ­¤çº¿ç¨‹ç«‹å³å°±ä¼šæ‰§è¡Œï¼›è¿è¡ŒçŠ¶æ€ï¼ˆRunningï¼‰ï¼šå½“CPUå¼€å§‹è°ƒåº¦å¤„äºŽå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹æ—¶ï¼Œæ­¤æ—¶çº¿ç¨‹æ‰å¾—ä»¥çœŸæ­£æ‰§è¡Œï¼Œå³è¿›å…¥åˆ°è¿è¡ŒçŠ¶æ€ã€‚æ³¨ï¼šå°±ç»ªçŠ¶æ€æ˜¯è¿›å…¥åˆ°è¿è¡ŒçŠ¶æ€çš„å”¯ä¸€å…¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿ç¨‹è¦æƒ³è¿›å…¥è¿è¡ŒçŠ¶æ€æ‰§è¡Œï¼Œé¦–å…ˆå¿…é¡»å¤„äºŽå°±ç»ªçŠ¶æ€ä¸­ï¼›é˜»å¡žçŠ¶æ€ï¼ˆBlockedï¼‰ï¼šå¤„äºŽè¿è¡ŒçŠ¶æ€ä¸­çš„çº¿ç¨‹ç”±äºŽæŸç§åŽŸå› ï¼Œæš‚æ—¶æ”¾å¼ƒå¯¹CPUçš„ä½¿ç”¨æƒï¼Œåœæ­¢æ‰§è¡Œï¼Œæ­¤æ—¶è¿›å…¥é˜»å¡žçŠ¶æ€ï¼Œç›´åˆ°å…¶è¿›å…¥åˆ°å°±ç»ªçŠ¶æ€ï¼Œæ‰æœ‰æœºä¼šå†æ¬¡è¢«CPUè°ƒç”¨ä»¥è¿›å…¥åˆ°è¿è¡ŒçŠ¶æ€ã€‚æ ¹æ®é˜»å¡žäº§ç”Ÿçš„åŽŸå› ä¸åŒï¼Œé˜»å¡žçŠ¶æ€åˆå¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š ç­‰å¾…é˜»å¡žï¼šè¿è¡ŒçŠ¶æ€ä¸­çš„çº¿ç¨‹æ‰§è¡Œwait()æ–¹æ³•ï¼Œä½¿æœ¬çº¿ç¨‹è¿›å…¥åˆ°ç­‰å¾…é˜»å¡žçŠ¶æ€ï¼› åŒæ­¥é˜»å¡ž â€“ çº¿ç¨‹åœ¨èŽ·å–synchronizedåŒæ­¥é”å¤±è´¥(å› ä¸ºé”è¢«å…¶å®ƒçº¿ç¨‹æ‰€å ç”¨)ï¼Œå®ƒä¼šè¿›å…¥åŒæ­¥é˜»å¡žçŠ¶æ€ï¼› å…¶ä»–é˜»å¡ž â€“ é€šè¿‡è°ƒç”¨çº¿ç¨‹çš„sleep()æˆ–join()æˆ–å‘å‡ºäº†I/Oè¯·æ±‚æ—¶ï¼Œçº¿ç¨‹ä¼šè¿›å…¥åˆ°é˜»å¡žçŠ¶æ€ã€‚å½“sleep()çŠ¶æ€è¶…æ—¶ã€join()ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢æˆ–è€…è¶…æ—¶ã€æˆ–è€…I/Oå¤„ç†å®Œæ¯•æ—¶ï¼Œçº¿ç¨‹é‡æ–°è½¬å…¥å°±ç»ªçŠ¶æ€ã€‚ æ­»äº¡çŠ¶æ€ï¼ˆDeadï¼‰ï¼šçº¿ç¨‹æ‰§è¡Œå®Œäº†æˆ–è€…å› å¼‚å¸¸é€€å‡ºäº†run()æ–¹æ³•ï¼Œè¯¥çº¿ç¨‹ç»“æŸç”Ÿå‘½å‘¨æœŸã€‚ Objectçš„æ–¹æ³•synchronized, wait, notify æ˜¯å±žäºŽObjectçš„æ–¹æ³•ã€‚ å®ƒä»¬æ˜¯åº”ç”¨äºŽåŒæ­¥é—®é¢˜çš„äººå·¥çº¿ç¨‹è°ƒåº¦å·¥å…·ã€‚è®²å…¶æœ¬è´¨ï¼Œé¦–å…ˆå°±è¦æ˜Žç¡®monitorçš„æ¦‚å¿µï¼ŒJavaä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç›‘è§†å™¨ï¼Œæ¥ç›‘æµ‹å¹¶å‘ä»£ç çš„é‡å…¥ï¼ˆä¹Ÿå°±æ˜¯å¾ˆå¤šäººè¯´çš„é”ï¼‰ã€‚åœ¨éžå¤šçº¿ç¨‹ç¼–ç æ—¶è¯¥ç›‘è§†å™¨ä¸å‘æŒ¥ä½œç”¨ï¼Œåä¹‹å¦‚æžœåœ¨synchronized èŒƒå›´å†…ï¼Œç›‘è§†å™¨å‘æŒ¥ä½œç”¨ã€‚ wait/notifyå¿…é¡»å­˜åœ¨äºŽsynchronizedå—ä¸­ã€‚å¹¶ä¸”ï¼Œè¿™ä¸‰ä¸ªå…³é”®å­—é’ˆå¯¹çš„æ˜¯åŒä¸€ä¸ªç›‘è§†å™¨ï¼ˆæŸå¯¹è±¡çš„ç›‘è§†å™¨ï¼‰ã€‚è¿™æ„å‘³ç€waitä¹‹åŽï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥è¿›å…¥åŒæ­¥å—æ‰§è¡Œï¼ˆä¹Ÿå°±æ˜¯è¯´waitä¼šé‡Šæ”¾é”ï¼Œè€Œsleepæ˜¯å±žäºŽThreadçš„æ–¹æ³•ï¼Œä¸ä¼šé‡Šæ”¾é”ï¼‰ã€‚ å½“æŸä»£ç å¹¶ä¸æŒæœ‰ç›‘è§†å™¨çš„ä½¿ç”¨æƒæ—¶ï¼ˆå³å·²ç»è„±ç¦»åŒæ­¥å—ï¼‰åŽ»ä½¿ç”¨waitæˆ–notifyï¼Œä¼šæŠ›å‡ºjava.lang.IllegalMonitorStateExceptionã€‚ä¹ŸåŒ…æ‹¬åœ¨synchronizedå—ä¸­åŽ»è°ƒç”¨å¦ä¸€ä¸ªå¯¹è±¡çš„wait/notifyï¼Œå› ä¸ºä¸åŒå¯¹è±¡çš„ç›‘è§†å™¨ä¸åŒï¼ŒåŒæ ·ä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ã€‚ synchronizedå•ç‹¬ä½¿ç”¨ï¼š åŒæ­¥ä»£ç å—ï¼šå¦‚ä¸‹ï¼Œåœ¨å¤šçº¿ç¨‹çŽ¯å¢ƒä¸‹ï¼Œsynchronizedå—ä¸­çš„æ–¹æ³•èŽ·å–äº†lockå®žä¾‹çš„monitorï¼Œå¦‚æžœå®žä¾‹ç›¸åŒï¼Œé‚£ä¹ˆåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ‰§è¡Œè¯¥å—å†…å®¹public 12345678public class Thread1 implements Runnable &#123; Object lock; public void run() &#123; synchronized(lock)&#123; ..do something &#125; &#125;&#125; ç›´æŽ¥ç”¨äºŽæ–¹æ³•ï¼š ç›¸å½“äºŽä¸Šé¢ä»£ç ä¸­ç”¨lockæ¥é”å®šçš„æ•ˆæžœï¼Œå®žé™…èŽ·å–çš„æ˜¯Thread1ç±»çš„monitorã€‚æ›´è¿›ä¸€æ­¥ï¼Œå¦‚æžœä¿®é¥°çš„æ˜¯staticæ–¹æ³•ï¼Œåˆ™é”å®šè¯¥ç±»æ‰€æœ‰å®žä¾‹ã€‚ 12345public class Thread1 implements Runnable &#123; public synchronized void run() &#123; ..do something &#125;&#125; ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜(Producer-consumer problem)synchronized, wait, notifyç»“åˆï¼šå…¸åž‹åœºæ™¯ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980public class TestProduce &#123; public static void main(String[] args) &#123; SyncStack sStack = new SyncStack(); Shengchan sc = new Shengchan(sStack); Xiaofei xf = new Xiaofei(sStack); sc.start(); xf.start(); &#125;&#125;class Mantou &#123; int id; Mantou(int id)&#123; this.id=id; &#125;&#125;class SyncStack&#123; int index=0; Mantou[] ms = new Mantou[10]; public synchronized void push(Mantou m)&#123; while(index==ms.length)&#123; try &#123; this.wait(); //waitåŽï¼Œçº¿ç¨‹ä¼šå°†æŒæœ‰çš„é”é‡Šæ”¾ã€‚sleepæ˜¯å³ä½¿ç¡ç€ä¹ŸæŒæœ‰äº’æ–¥é”ã€‚ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; this.notify(); //å”¤é†’åœ¨å½“å‰å¯¹è±¡ç­‰å¾…æ± ä¸­ç­‰å¾…çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹ã€‚notifyAllå«é†’æ‰€æœ‰åœ¨å½“å‰å¯¹è±¡ç­‰å¾…æ± ä¸­ç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ã€‚ //å¦‚æžœä¸å”¤é†’çš„è¯ã€‚ä»¥åŽè¿™ä¸¤ä¸ªçº¿ç¨‹éƒ½ä¼šè¿›å…¥ç­‰å¾…çº¿ç¨‹ï¼Œæ²¡æœ‰äººå”¤é†’ã€‚ ms[index]=m; index++; &#125; public synchronized Mantou pop()&#123; while(index==0)&#123; try &#123; this.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; this.notify(); index--; return ms[index]; &#125;&#125;class produce extends Thread&#123; SyncStack ss = null; public Shengchan(SyncStack ss) &#123; this.ss=ss; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 20; i++) &#123; System.out.println("é€ é¦’å¤´ï¼š"+i); Mantou m = new Mantou(i); ss.push(m); &#125; &#125;&#125;class consume extends Thread&#123; SyncStack ss = null; public Xiaofei(SyncStack ss) &#123; this.ss=ss; &#125; @Override public void run() &#123; for (int i = 0; i &lt; 20; i++) &#123; Mantou m = ss.pop(); System.out.println("åƒé¦’å¤´ï¼š"+i); &#125; &#125;&#125; volatileå¤šçº¿ç¨‹çš„å†…å­˜æ¨¡åž‹ï¼šmain memoryï¼ˆä¸»å­˜ï¼‰ã€working memoryï¼ˆçº¿ç¨‹æ ˆï¼‰ï¼Œåœ¨å¤„ç†æ•°æ®æ—¶ï¼Œçº¿ç¨‹ä¼šæŠŠå€¼ä»Žä¸»å­˜loadåˆ°æœ¬åœ°æ ˆï¼Œå®Œæˆæ“ä½œåŽå†saveå›žåŽ»(volatileå…³é”®è¯çš„ä½œç”¨ï¼šæ¯æ¬¡é’ˆå¯¹è¯¥å˜é‡çš„æ“ä½œéƒ½æ¿€å‘ä¸€æ¬¡load and save)ã€‚ é’ˆå¯¹å¤šçº¿ç¨‹ä½¿ç”¨çš„å˜é‡å¦‚æžœä¸æ˜¯volatileæˆ–è€…finalä¿®é¥°çš„ï¼Œå¾ˆæœ‰å¯èƒ½äº§ç”Ÿä¸å¯é¢„çŸ¥çš„ç»“æžœï¼ˆå¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå€¼ï¼Œä½†æ˜¯ä¹‹åŽåœ¨æŸçº¿ç¨‹çœ‹åˆ°çš„æ˜¯ä¿®æ”¹ä¹‹å‰çš„å€¼ï¼‰ã€‚å…¶å®žé“ç†ä¸Šè®²åŒä¸€å®žä¾‹çš„åŒä¸€å±žæ€§æœ¬èº«åªæœ‰ä¸€ä¸ªå‰¯æœ¬ã€‚ä½†æ˜¯å¤šçº¿ç¨‹æ˜¯ä¼šç¼“å­˜å€¼çš„ï¼Œæœ¬è´¨ä¸Šï¼Œvolatileå°±æ˜¯ä¸åŽ»ç¼“å­˜ï¼Œç›´æŽ¥å–å€¼ã€‚åœ¨çº¿ç¨‹å®‰å…¨çš„æƒ…å†µä¸‹åŠ volatileä¼šç‰ºç‰²æ€§èƒ½ã€‚ åŸºæœ¬çº¿ç¨‹ç±»åŸºæœ¬çº¿ç¨‹ç±»æŒ‡çš„æ˜¯Threadç±»ï¼ŒRunnableæŽ¥å£ï¼ŒCallableæŽ¥å£ã€‚ ####Threadç±»ï¼ŒRunnableæŽ¥å£ç»§æ‰¿Threadç±»ï¼ˆThreadç±»æœ¬èº«å°±æ˜¯ç»§æ‰¿äº†RunnableæŽ¥å£çš„ï¼‰ï¼Œå®žçŽ°RunnableæŽ¥å£éƒ½å¯ä»¥åˆ›å»ºçº¿ç¨‹ã€‚å¦‚æžœThreadå’ŒRunnableéƒ½å¤å†™äº†run()æ–¹æ³•ï¼Œæœ€ç»ˆä¼šè¿è¡Œå“ªä¸€ä¸ªrun()æ–¹æ³•å‘¢ï¼Ÿ12345678910111213141516171819202122232425262728293031323334353637383940public class ThreadTest &#123; public static void main(String[] args) &#123; for (int i = 0; i &lt; 100; i++) &#123; System.out.println(Thread.currentThread().getName() + " " + i); if (i == 30) &#123; Runnable myRunnable = new MyRunnable(); Thread thread = new MyThread(myRunnable); thread.start(); &#125; &#125; &#125;&#125;class MyRunnable implements Runnable &#123; private int i = 0; @Override public void run() &#123; System.out.println("in MyRunnable run"); for (i = 0; i &lt; 100; i++) &#123; System.out.println(Thread.currentThread().getName() + " " + i); &#125; &#125;&#125;class MyThread extends Thread &#123; private int i = 0; public MyThread(Runnable runnable)&#123;super(runnable);&#125; @Override public void run() &#123; System.out.println("in MyThread run"); for (i = 0; i &lt; 100; i++) &#123; System.out.println(Thread.currentThread().getName() + " " + i); &#125; &#125;&#125; åŒæ ·çš„ï¼Œä¸Žå®žçŽ°RunnableæŽ¥å£åˆ›å»ºçº¿ç¨‹æ–¹å¼ç›¸ä¼¼ï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºŽ 1Thread thread = new MyThread(myRunnable); é€šè¿‡è¾“å‡ºæˆ‘ä»¬çŸ¥é“çº¿ç¨‹æ‰§è¡Œä½“æ˜¯MyThreadç±»ä¸­çš„run()æ–¹æ³•ã€‚å…¶å®žåŽŸå› å¾ˆç®€å•ï¼Œå› ä¸ºThreadç±»æœ¬èº«ä¹Ÿæ˜¯å®žçŽ°äº†RunnableæŽ¥å£ï¼Œè€Œrun()æ–¹æ³•æœ€å…ˆæ˜¯åœ¨RunnableæŽ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹Threadç±»ä¸­å¯¹RunnableæŽ¥å£ä¸­run()æ–¹æ³•çš„å®žçŽ°ï¼š123456@Override public void run() &#123; if (target != null) &#123; target.run(); &#125; &#125; ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ‰§è¡Œåˆ°Threadç±»ä¸­çš„run()æ–¹æ³•æ—¶ï¼Œä¼šé¦–å…ˆåˆ¤æ–­targetæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™æ‰§è¡Œtargetä¸­çš„run()æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å®žçŽ°äº†RunnableæŽ¥å£å¹¶é‡å†™äº†run()æ–¹æ³•çš„ç±»ä¸­çš„run()æ–¹æ³•ã€‚ä½†æ˜¯ä¸Šè¿°ç»™åˆ°çš„åˆ—å­ä¸­ï¼Œç”±äºŽå¤šæ€çš„å­˜åœ¨ï¼Œæ ¹æœ¬å°±æ²¡æœ‰æ‰§è¡Œåˆ°Threadç±»ä¸­çš„run()æ–¹æ³•ï¼Œè€Œæ˜¯ç›´æŽ¥å…ˆæ‰§è¡Œäº†è¿è¡Œæ—¶ç±»åž‹å³MyThreadç±»ä¸­çš„run()æ–¹æ³•ã€‚ Callablefutureæ¨¡å¼ï¼šå¹¶å‘æ¨¡å¼çš„ä¸€ç§ï¼Œå¯ä»¥æœ‰ä¸¤ç§å½¢å¼ï¼Œå³æ— é˜»å¡žå’Œé˜»å¡žï¼Œåˆ†åˆ«æ˜¯isDoneå’Œgetã€‚å…¶ä¸­Futureå¯¹è±¡ç”¨æ¥å­˜æ”¾è¯¥çº¿ç¨‹çš„è¿”å›žå€¼ä»¥åŠçŠ¶æ€ã€‚è¿™æ˜¯Threadå’ŒRunnableåšä¸åˆ°çš„ 12345ExecutorService e = Executors.newFixedThreadPool(3); //submitæ–¹æ³•æœ‰å¤šé‡å‚æ•°ç‰ˆæœ¬ï¼ŒåŠæ”¯æŒcallableä¹Ÿèƒ½å¤Ÿæ”¯æŒrunnableæŽ¥å£ç±»åž‹.Future future = e.submit(new myCallable());future.isDone() //return true,false æ— é˜»å¡žfuture.get() // return è¿”å›žå€¼ï¼Œé˜»å¡žç›´åˆ°è¯¥çº¿ç¨‹è¿è¡Œç»“æŸ åŽå°çº¿ç¨‹ï¼ˆDaemon Threadï¼‰æ¦‚å¿µ/ç›®çš„ï¼šåŽå°çº¿ç¨‹ä¸»è¦æ˜¯ä¸ºå…¶ä»–çº¿ç¨‹ï¼ˆç›¸å¯¹å¯ä»¥ç§°ä¹‹ä¸ºå‰å°çº¿ç¨‹ï¼‰æä¾›æœåŠ¡ï¼Œæˆ–â€œå®ˆæŠ¤çº¿ç¨‹â€ã€‚å¦‚JVMä¸­çš„åžƒåœ¾å›žæ”¶çº¿ç¨‹ã€‚ç”Ÿå‘½å‘¨æœŸï¼šåŽå°çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä¸Žå‰å°çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸæœ‰ä¸€å®šå…³è”ã€‚ä¸»è¦ä½“çŽ°åœ¨ï¼šå½“æ‰€æœ‰çš„å‰å°çº¿ç¨‹éƒ½è¿›å…¥æ­»äº¡çŠ¶æ€æ—¶ï¼ŒåŽå°çº¿ç¨‹ä¼šè‡ªåŠ¨æ­»äº¡(å…¶å®žè¿™ä¸ªä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºåŽå°çº¿ç¨‹å­˜åœ¨çš„ç›®çš„åœ¨äºŽä¸ºå‰å°çº¿ç¨‹æœåŠ¡çš„ï¼Œæ—¢ç„¶æ‰€æœ‰çš„å‰å°çº¿ç¨‹éƒ½æ­»äº¡äº†ï¼Œé‚£å®ƒè‡ªå·±è¿˜ç•™ç€æœ‰ä»€ä¹ˆç”¨â€¦ä¼Ÿå¤§å•Š ! !)ã€‚è®¾ç½®åŽå°çº¿ç¨‹ï¼šè°ƒç”¨Threadå¯¹è±¡çš„setDaemon(true)æ–¹æ³•å¯ä»¥å°†æŒ‡å®šçš„çº¿ç¨‹è®¾ç½®ä¸ºåŽå°çº¿ç¨‹ã€‚ Threadç±»ç›¸å…³æ–¹æ³•ï¼š12345678//å½“å‰çº¿ç¨‹å¯è½¬è®©cpuæŽ§åˆ¶æƒï¼Œè®©åˆ«çš„å°±ç»ªçŠ¶æ€çº¿ç¨‹è¿è¡Œï¼ˆåˆ‡æ¢ï¼‰public static Thread.yield() //æš‚åœä¸€æ®µæ—¶é—´public static Thread.sleep() //åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è°ƒç”¨other.join(),å°†ç­‰å¾…otheræ‰§è¡Œå®ŒåŽæ‰ç»§ç»­æœ¬çº¿ç¨‹ã€‚ public join()//åŽä¸¤ä¸ªå‡½æ•°çš†å¯ä»¥è¢«æ‰“æ–­public interrupt() å…³äºŽä¸­æ–­å®ƒå¹¶ä¸åƒstopæ–¹æ³•é‚£æ ·ä¼šä¸­æ–­ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ã€‚çº¿ç¨‹ä¼šä¸æ—¶åœ°æ£€æµ‹ä¸­æ–­æ ‡è¯†ä½ï¼Œä»¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦åº”è¯¥è¢«ä¸­æ–­ï¼ˆä¸­æ–­æ ‡è¯†å€¼æ˜¯å¦ä¸ºtrueï¼‰ã€‚ä¸­æ–­åªä¼šå½±å“åˆ°waitçŠ¶æ€ã€sleepçŠ¶æ€å’ŒjoinçŠ¶æ€ã€‚è¢«æ‰“æ–­çš„çº¿ç¨‹ä¼šæŠ›å‡ºInterruptedExceptionã€‚Thread.interrupted()æ£€æŸ¥å½“å‰çº¿ç¨‹æ˜¯å¦å‘ç”Ÿä¸­æ–­ï¼Œè¿”å›žbooleanç±»åž‹å€¼ã€‚synchronizedåœ¨èŽ·é”çš„è¿‡ç¨‹ä¸­æ˜¯ä¸èƒ½è¢«ä¸­æ–­çš„ã€‚ ä¸­æ–­æ˜¯ä¸€ä¸ªçŠ¶æ€ï¼interrupt()æ–¹æ³•åªæ˜¯å°†è¿™ä¸ªçŠ¶æ€ç½®ä¸ºtrueè€Œå·²ã€‚æ‰€ä»¥è¯´æ­£å¸¸è¿è¡Œçš„ç¨‹åºä¸åŽ»æ£€æµ‹çŠ¶æ€ï¼Œå°±ä¸ä¼šç»ˆæ­¢ï¼Œè€Œwaitç­‰é˜»å¡žæ–¹æ³•ä¼šåŽ»æ£€æŸ¥å¹¶æŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æžœåœ¨æ­£å¸¸è¿è¡Œçš„ç¨‹åºä¸­æ·»åŠ while(!Thread.interrupted())ï¼Œåˆ™åŒæ ·å¯ä»¥åœ¨ä¸­æ–­åŽç¦»å¼€ä»£ç ä½“ã€‚ Threadç±»æœ€ä½³å®žè·µå†™çš„æ—¶å€™æœ€å¥½è¦è®¾ç½®çº¿ç¨‹åç§° Thread.nameï¼Œå¹¶è®¾ç½®çº¿ç¨‹ç»„ ThreadGroupï¼Œç›®çš„æ˜¯æ–¹ä¾¿ç®¡ç†ã€‚åœ¨å‡ºçŽ°é—®é¢˜çš„æ—¶å€™ï¼Œæ‰“å°çº¿ç¨‹æ ˆ (jstack -pid) ä¸€çœ¼å°±å¯ä»¥çœ‹å‡ºæ˜¯å“ªä¸ªçº¿ç¨‹å‡ºçš„é—®é¢˜ï¼Œè¿™ä¸ªçº¿ç¨‹æ˜¯å¹²ä»€ä¹ˆçš„ã€‚ Javaå¤šçº¿ç¨‹çš„å°±ç»ªã€è¿è¡Œå’Œæ­»äº¡çŠ¶æ€ä»¥åŠåœæ­¢çº¿ç¨‹ å°±ç»ªçŠ¶æ€è½¬æ¢ä¸ºè¿è¡ŒçŠ¶æ€ï¼šå½“æ­¤çº¿ç¨‹å¾—åˆ°å¤„ç†å™¨èµ„æºï¼› è¿è¡ŒçŠ¶æ€è½¬æ¢ä¸ºå°±ç»ªçŠ¶æ€ï¼šå½“æ­¤çº¿ç¨‹ä¸»åŠ¨è°ƒç”¨yield()æ–¹æ³•æˆ–åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¤±åŽ»å¤„ç†å™¨èµ„æºã€‚ è¿è¡ŒçŠ¶æ€è½¬æ¢ä¸ºæ­»äº¡çŠ¶æ€ï¼šå½“æ­¤çº¿ç¨‹çº¿ç¨‹æ‰§è¡Œä½“æ‰§è¡Œå®Œæ¯•æˆ–å‘ç”Ÿäº†å¼‚å¸¸ã€‚ æ­¤å¤„éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šå½“è°ƒç”¨çº¿ç¨‹çš„yield()æ–¹æ³•æ—¶ï¼Œçº¿ç¨‹ä»Žè¿è¡ŒçŠ¶æ€è½¬æ¢ä¸ºå°±ç»ªçŠ¶æ€ï¼Œä½†æŽ¥ä¸‹æ¥CPUè°ƒåº¦å°±ç»ªçŠ¶æ€ä¸­çš„å“ªä¸ªçº¿ç¨‹å…·æœ‰ä¸€å®šçš„éšæœºæ€§ï¼Œå› æ­¤ï¼Œå¯èƒ½ä¼šå‡ºçŽ°Açº¿ç¨‹è°ƒç”¨äº†yield()æ–¹æ³•åŽï¼ŒæŽ¥ä¸‹æ¥CPUä»ç„¶è°ƒåº¦äº†Açº¿ç¨‹çš„æƒ…å†µã€‚ ç”±äºŽå®žé™…çš„ä¸šåŠ¡éœ€è¦ï¼Œå¸¸å¸¸ä¼šé‡åˆ°éœ€è¦åœ¨ç‰¹å®šæ—¶æœºç»ˆæ­¢æŸä¸€çº¿ç¨‹çš„è¿è¡Œï¼Œä½¿å…¶è¿›å…¥åˆ°æ­»äº¡çŠ¶æ€ã€‚ç›®å‰æœ€é€šç”¨çš„åšæ³•æ˜¯è®¾ç½®ä¸€booleanåž‹çš„å˜é‡ï¼Œå½“æ¡ä»¶æ»¡è¶³æ—¶ï¼Œä½¿çº¿ç¨‹æ‰§è¡Œä½“å¿«é€Ÿæ‰§è¡Œå®Œæ¯•ã€‚å¦‚ï¼š12345678910111213141516171819202122232425262728293031323334public class ThreadTest &#123; public static void main(String[] args) &#123; MyRunnable myRunnable = new MyRunnable(); Thread thread = new Thread(myRunnable); for (int i = 0; i &lt; 100; i++) &#123; System.out.println(Thread.currentThread().getName() + " " + i); if (i == 30) &#123; thread.start(); &#125; if(i == 40)&#123; myRunnable.stopThread(); &#125; &#125; &#125;&#125;class MyRunnable implements Runnable &#123; private boolean stop; @Override public void run() &#123; for (int i = 0; i &lt; 100 &amp;&amp; !stop; i++) &#123; System.out.println(Thread.currentThread().getName() + " " + i); &#125; &#125; public void stopThread() &#123; this.stop = true; &#125;&#125; é«˜çº§å¤šçº¿ç¨‹æŽ§åˆ¶ç±»ä»¥ä¸Šéƒ½å±žäºŽå†…åŠŸå¿ƒæ³•ï¼ŒæŽ¥ä¸‹æ¥æ˜¯å®žé™…é¡¹ç›®ä¸­å¸¸ç”¨åˆ°çš„å·¥å…·äº†ï¼ŒJava1.5æä¾›äº†ä¸€ä¸ªéžå¸¸é«˜æ•ˆå®žç”¨çš„å¤šçº¿ç¨‹åŒ…:java.util.concurrent, æä¾›äº†å¤§é‡é«˜çº§å·¥å…·,å¯ä»¥å¸®åŠ©å¼€å‘è€…ç¼–å†™é«˜æ•ˆã€æ˜“ç»´æŠ¤ã€ç»“æž„æ¸…æ™°çš„Javaå¤šçº¿ç¨‹ç¨‹åºã€‚ Lockç±» lock: åœ¨java.util.concurrentåŒ…å†…ã€‚å…±æœ‰ä¸‰ä¸ªå®žçŽ°ï¼š â€¢ ReentrantLock â€¢ ReentrantReadWriteLock.ReadLock â€¢ ReentrantReadWriteLock.WriteLockä¸»è¦ç›®çš„æ˜¯å’Œsynchronizedä¸€æ ·ï¼Œ ä¸¤è€…éƒ½æ˜¯ä¸ºäº†è§£å†³åŒæ­¥é—®é¢˜ï¼Œå¤„ç†èµ„æºäº‰ç«¯è€Œäº§ç”Ÿçš„æŠ€æœ¯ã€‚åŠŸèƒ½ç±»ä¼¼ä½†æœ‰ä¸€äº›åŒºåˆ«ã€‚åŒºåˆ«å¦‚ä¸‹ï¼š 1. lockæ›´çµæ´»ï¼Œå¯ä»¥è‡ªç”±å®šä¹‰å¤šæŠŠé”çš„æž·é”è§£é”é¡ºåºï¼ˆsynchronizedè¦æŒ‰ç…§å…ˆåŠ çš„åŽè§£é¡ºåºï¼‰ 2. æä¾›å¤šç§åŠ é”æ–¹æ¡ˆï¼Œlock é˜»å¡žå¼, trylock æ— é˜»å¡žå¼, lockInterruptily å¯æ‰“æ–­å¼ï¼Œ è¿˜æœ‰trylockçš„å¸¦è¶…æ—¶æ—¶é—´ç‰ˆæœ¬ã€‚ 3. æœ¬è´¨ä¸Šå’Œç›‘è§†å™¨é”ï¼ˆå³synchronizedæ˜¯ä¸€æ ·çš„ï¼‰ 4. èƒ½åŠ›è¶Šå¤§ï¼Œè´£ä»»è¶Šå¤§ï¼Œå¿…é¡»æŽ§åˆ¶å¥½åŠ é”å’Œè§£é”ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¾éš¾ã€‚ 5. å’ŒConditionç±»çš„ç»“åˆã€‚ 6. æ€§èƒ½æ›´é«˜ï¼Œå¯¹æ¯”å¦‚ä¸‹å›¾ï¼š ReentrantLockå¯é‡å…¥çš„æ„ä¹‰åœ¨äºŽæŒæœ‰é”çš„çº¿ç¨‹å¯ä»¥ç»§ç»­æŒæœ‰ï¼Œå¹¶ä¸”è¦é‡Šæ”¾å¯¹ç­‰çš„æ¬¡æ•°åŽæ‰çœŸæ­£é‡Šæ”¾è¯¥é”ã€‚ä½¿ç”¨æ–¹æ³•æ˜¯ï¼š1.å…ˆnewä¸€ä¸ªå®žä¾‹1static ReentrantLock r=new ReentrantLock(); 2.åŠ é”1r.lock()æˆ–r.lockInterruptibly(); æ­¤å¤„ä¹Ÿæ˜¯ä¸ªä¸åŒï¼ŒåŽè€…å¯è¢«æ‰“æ–­ã€‚å½“açº¿ç¨‹lockåŽï¼Œbçº¿ç¨‹é˜»å¡žï¼Œæ­¤æ—¶å¦‚æžœæ˜¯lockInterruptiblyï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨b.interrupt()ä¹‹åŽï¼Œbçº¿ç¨‹é€€å‡ºé˜»å¡žï¼Œå¹¶æ”¾å¼ƒå¯¹èµ„æºçš„äº‰æŠ¢ï¼Œè¿›å…¥catchå—ã€‚ï¼ˆå¦‚æžœä½¿ç”¨åŽè€…ï¼Œå¿…é¡»throw interruptable exception æˆ–catchï¼‰3.é‡Šæ”¾é”1r.unlock() å¿…é¡»åšï¼ä½•ä¸ºå¿…é¡»åšå‘¢ï¼Œè¦æ”¾åœ¨finallyé‡Œé¢ã€‚ä»¥é˜²æ­¢å¼‚å¸¸è·³å‡ºäº†æ­£å¸¸æµç¨‹ï¼Œå¯¼è‡´ç¾éš¾ã€‚è¿™é‡Œè¡¥å……ä¸€ä¸ªå°çŸ¥è¯†ç‚¹ï¼Œfinallyæ˜¯å¯ä»¥ä¿¡ä»»çš„ï¼šç»è¿‡æµ‹è¯•ï¼Œå“ªæ€•æ˜¯å‘ç”Ÿäº†OutofMemoryErrorï¼Œfinallyå—ä¸­çš„è¯­å¥æ‰§è¡Œä¹Ÿèƒ½å¤Ÿå¾—åˆ°ä¿è¯ã€‚ ReentrantReadWriteLockå¯é‡å…¥è¯»å†™é”ï¼ˆè¯»å†™é”çš„ä¸€ä¸ªå®žçŽ°123ReentrantReadWriteLock lock = new ReentrantReadWriteLock()ReadLock r = lock.readLock();WriteLock w = lock.writeLock(); ä¸¤è€…éƒ½æœ‰lock,unlockæ–¹æ³•ã€‚å†™å†™ï¼Œå†™è¯»äº’æ–¥ï¼›è¯»è¯»ä¸äº’æ–¥ã€‚å¯ä»¥å®žçŽ°å¹¶å‘è¯»çš„é«˜æ•ˆçº¿ç¨‹å®‰å…¨ä»£ç  ç®¡ç†ç±»ç®¡ç†ç±»çš„æ¦‚å¿µæ¯”è¾ƒæ³›ï¼Œç”¨äºŽç®¡ç†çº¿ç¨‹ï¼Œæœ¬èº«ä¸æ˜¯å¤šçº¿ç¨‹çš„ï¼Œä½†æä¾›äº†ä¸€äº›æœºåˆ¶æ¥åˆ©ç”¨ä¸Šè¿°çš„å·¥å…·åšä¸€äº›å°è£…ã€‚äº†è§£åˆ°çš„å€¼å¾—ä¸€æçš„ç®¡ç†ç±»ï¼šThreadPoolExecutorå’Œ JMXæ¡†æž¶ä¸‹çš„ç³»ç»Ÿçº§ç®¡ç†ç±» ThreadMXBeanThreadPoolExecutorå¦‚æžœä¸äº†è§£è¿™ä¸ªç±»ï¼Œåº”è¯¥äº†è§£å‰é¢æåˆ°çš„ExecutorServiceï¼Œå¼€ä¸€ä¸ªè‡ªå·±çš„çº¿ç¨‹æ± éžå¸¸æ–¹ä¾¿ï¼š12345678ExecutorService e = Executors.newCachedThreadPool();ExecutorService e = Executors.newSingleThreadExecutor();ExecutorService e = Executors.newFixedThreadPool(3);// ç¬¬ä¸€ç§æ˜¯å¯å˜å¤§å°çº¿ç¨‹æ± ï¼ŒæŒ‰ç…§ä»»åŠ¡æ•°æ¥åˆ†é…çº¿ç¨‹ï¼Œ// ç¬¬äºŒç§æ˜¯å•çº¿ç¨‹æ± ï¼Œç›¸å½“äºŽFixedThreadPool(1)// ç¬¬ä¸‰ç§æ˜¯å›ºå®šå¤§å°çº¿ç¨‹æ± ã€‚// ç„¶åŽè¿è¡Œe.execute(new MyRunnableImpl()); è¯¥ç±»å†…éƒ¨æ˜¯é€šè¿‡ThreadPoolExecutorå®žçŽ°çš„ï¼ŒæŽŒæ¡è¯¥ç±»æœ‰åŠ©äºŽç†è§£çº¿ç¨‹æ± çš„ç®¡ç†ï¼Œæœ¬è´¨ä¸Šï¼Œä»–ä»¬éƒ½æ˜¯ThreadPoolExecutorç±»çš„å„ç§å®žçŽ°ç‰ˆæœ¬ã€‚è¯·å‚è§javadocï¼š corePoolSize:æ± å†…çº¿ç¨‹åˆå§‹å€¼ä¸Žæœ€å°å€¼ï¼Œå°±ç®—æ˜¯ç©ºé—²çŠ¶æ€ï¼Œä¹Ÿä¼šä¿æŒè¯¥æ•°é‡çº¿ç¨‹ã€‚maximumPoolSize:çº¿ç¨‹æœ€å¤§å€¼ï¼Œçº¿ç¨‹çš„å¢žé•¿å§‹ç»ˆä¸ä¼šè¶…è¿‡è¯¥å€¼ã€‚keepAliveTimeï¼šå½“æ± å†…çº¿ç¨‹æ•°é«˜äºŽcorePoolSizeæ—¶ï¼Œç»è¿‡å¤šå°‘æ—¶é—´å¤šä½™çš„ç©ºé—²çº¿ç¨‹æ‰ä¼šè¢«å›žæ”¶ã€‚å›žæ”¶å‰å¤„äºŽwaitçŠ¶æ€unitï¼šæ—¶é—´å•ä½ï¼Œå¯ä»¥ä½¿ç”¨TimeUnitçš„å®žä¾‹ï¼Œå¦‚TimeUnit.MILLISECONDSworkQueue:å¾…å…¥ä»»åŠ¡ï¼ˆRunnableï¼‰çš„ç­‰å¾…åœºæ‰€ï¼Œè¯¥å‚æ•°ä¸»è¦å½±å“è°ƒåº¦ç­–ç•¥ï¼Œå¦‚å…¬å¹³ä¸Žå¦ï¼Œæ˜¯å¦äº§ç”Ÿé¥¿æ­»(starving)threadFactory:çº¿ç¨‹å·¥åŽ‚ç±»ï¼Œæœ‰é»˜è®¤å®žçŽ°ï¼Œå¦‚æžœæœ‰è‡ªå®šä¹‰çš„éœ€è¦åˆ™éœ€è¦è‡ªå·±å®žçŽ°ThreadFactoryæŽ¥å£å¹¶ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚ å‚è€ƒæ–‡ç«  Javaä¸­çš„å¤šçº¿ç¨‹ä½ åªè¦çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº† Javaæ€»ç»“ç¯‡ç³»åˆ—ï¼šJavaå¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰ Javaæ€»ç»“ç¯‡ç³»åˆ—ï¼šJavaå¤šçº¿ç¨‹ï¼ˆäºŒï¼‰ å°šå­¦å ‚java300é›†]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaé˜»å¡žä¸Žéžé˜»å¡žçš„åŒæ­¥å¼‚æ­¥ï¼Œä»¥åŠå›žè°ƒ]]></title>
    <url>%2F2017%2F06%2F19%2F%E5%9B%9E%E8%B0%83%2F</url>
    <content type="text"><![CDATA[æ€Žæ ·ç†è§£é˜»å¡žéžé˜»å¡žä¸ŽåŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Œå›žè°ƒåˆæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ é˜»å¡žéžé˜»å¡žä¸ŽåŒæ­¥å¼‚æ­¥â€œé˜»å¡žâ€ä¸Žâ€éžé˜»å¡žâ€ä¸Žâ€åŒæ­¥â€ä¸Žâ€œå¼‚æ­¥â€ä¸èƒ½ç®€å•çš„ä»Žå­—é¢ç†è§£ï¼Œæä¾›ä¸€ä¸ªä»Žåˆ†å¸ƒå¼ç³»ç»Ÿè§’åº¦çš„å›žç­”ã€‚ 1.åŒæ­¥ä¸Žå¼‚æ­¥ åŒæ­¥å’Œå¼‚æ­¥å…³æ³¨çš„æ˜¯æ¶ˆæ¯é€šä¿¡æœºåˆ¶ (synchronous communication/ asynchronous communication)æ‰€è°“åŒæ­¥ï¼Œå°±æ˜¯åœ¨å‘å‡ºä¸€ä¸ªè°ƒç”¨æ—¶ï¼Œåœ¨æ²¡æœ‰å¾—åˆ°ç»“æžœä¹‹å‰ï¼Œè¯¥è°ƒç”¨å°±ä¸è¿”å›žã€‚ä½†æ˜¯ä¸€æ—¦è°ƒç”¨è¿”å›žï¼Œå°±å¾—åˆ°è¿”å›žå€¼äº†ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç”±è°ƒç”¨è€…ä¸»åŠ¨ç­‰å¾…è¿™ä¸ªè°ƒç”¨çš„ç»“æžœã€‚ è€Œå¼‚æ­¥åˆ™æ˜¯ç›¸åï¼Œè°ƒç”¨åœ¨å‘å‡ºä¹‹åŽï¼Œè¿™ä¸ªè°ƒç”¨å°±ç›´æŽ¥è¿”å›žäº†ï¼Œæ‰€ä»¥æ²¡æœ‰è¿”å›žç»“æžœã€‚æ¢å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªå¼‚æ­¥è¿‡ç¨‹è°ƒç”¨å‘å‡ºåŽï¼Œè°ƒç”¨è€…ä¸ä¼šç«‹åˆ»å¾—åˆ°ç»“æžœã€‚è€Œæ˜¯åœ¨è°ƒç”¨å‘å‡ºåŽï¼Œè¢«è°ƒç”¨è€…é€šè¿‡çŠ¶æ€ã€é€šçŸ¥æ¥é€šçŸ¥è°ƒç”¨è€…ï¼Œæˆ–é€šè¿‡å›žè°ƒå‡½æ•°å¤„ç†è¿™ä¸ªè°ƒç”¨ã€‚å…¸åž‹çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡åž‹æ¯”å¦‚Node.js ä¸¾ä¸ªé€šä¿—çš„ä¾‹å­ï¼š ä½ æ‰“ç”µè¯é—®ä¹¦åº—è€æ¿æœ‰æ²¡æœ‰ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œå¦‚æžœæ˜¯åŒæ­¥é€šä¿¡æœºåˆ¶ï¼Œä¹¦åº—è€æ¿ä¼šè¯´ï¼Œä½ ç¨ç­‰ï¼Œâ€æˆ‘æŸ¥ä¸€ä¸‹â€ï¼Œç„¶åŽå¼€å§‹æŸ¥å•ŠæŸ¥ï¼Œç­‰æŸ¥å¥½äº†ï¼ˆå¯èƒ½æ˜¯5ç§’ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€å¤©ï¼‰å‘Šè¯‰ä½ ç»“æžœï¼ˆè¿”å›žç»“æžœï¼‰ã€‚ è€Œå¼‚æ­¥é€šä¿¡æœºåˆ¶ï¼Œä¹¦åº—è€æ¿ç›´æŽ¥å‘Šè¯‰ä½ æˆ‘æŸ¥ä¸€ä¸‹å•Šï¼ŒæŸ¥å¥½äº†æ‰“ç”µè¯ç»™ä½ ï¼Œç„¶åŽç›´æŽ¥æŒ‚ç”µè¯äº†ï¼ˆä¸è¿”å›žç»“æžœï¼‰ã€‚ç„¶åŽæŸ¥å¥½äº†ï¼Œä»–ä¼šä¸»åŠ¨æ‰“ç”µè¯ç»™ä½ ã€‚åœ¨è¿™é‡Œè€æ¿é€šè¿‡â€œå›žç”µâ€è¿™ç§æ–¹å¼æ¥å›žè°ƒã€‚ 2.é˜»å¡žä¸Žéžé˜»å¡ž é˜»å¡žå’Œéžé˜»å¡žå…³æ³¨çš„æ˜¯ç¨‹åºåœ¨ç­‰å¾…è°ƒç”¨ç»“æžœï¼ˆæ¶ˆæ¯ï¼Œè¿”å›žå€¼ï¼‰æ—¶çš„çŠ¶æ€.é˜»å¡žè°ƒç”¨æ˜¯æŒ‡è°ƒç”¨ç»“æžœè¿”å›žä¹‹å‰ï¼Œå½“å‰çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ã€‚è°ƒç”¨çº¿ç¨‹åªæœ‰åœ¨å¾—åˆ°ç»“æžœä¹‹åŽæ‰ä¼šè¿”å›žã€‚éžé˜»å¡žè°ƒç”¨æŒ‡åœ¨ä¸èƒ½ç«‹åˆ»å¾—åˆ°ç»“æžœä¹‹å‰ï¼Œè¯¥è°ƒç”¨ä¸ä¼šé˜»å¡žå½“å‰çº¿ç¨‹ã€‚ è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œä½ æ‰“ç”µè¯é—®ä¹¦åº—è€æ¿æœ‰æ²¡æœ‰ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œä½ å¦‚æžœæ˜¯é˜»å¡žå¼è°ƒç”¨ï¼Œä½ ä¼šä¸€ç›´æŠŠè‡ªå·±â€œæŒ‚èµ·â€ï¼Œç›´åˆ°å¾—åˆ°è¿™æœ¬ä¹¦æœ‰æ²¡æœ‰çš„ç»“æžœï¼Œå¦‚æžœæ˜¯éžé˜»å¡žå¼è°ƒç”¨ï¼Œä½ ä¸ç®¡è€æ¿æœ‰æ²¡æœ‰å‘Šè¯‰ä½ ï¼Œä½ è‡ªå·±å…ˆä¸€è¾¹åŽ»çŽ©äº†ï¼Œ å½“ç„¶ä½ ä¹Ÿè¦å¶å°”è¿‡å‡ åˆ†é’Ÿcheckä¸€ä¸‹è€æ¿æœ‰æ²¡æœ‰è¿”å›žç»“æžœã€‚åœ¨è¿™é‡Œé˜»å¡žä¸Žéžé˜»å¡žä¸Žæ˜¯å¦åŒæ­¥å¼‚æ­¥æ— å…³ã€‚è·Ÿè€æ¿é€šè¿‡ä»€ä¹ˆæ–¹å¼å›žç­”ä½ ç»“æžœæ— å…³ã€‚ åŒæ­¥å¼‚æ­¥çš„ç»å…¸ä¾‹å­è€å¼ çˆ±å–èŒ¶ï¼ŒåºŸè¯ä¸è¯´ï¼Œç…®å¼€æ°´ã€‚å‡ºåœºäººç‰©ï¼šè€å¼ ï¼Œæ°´å£¶ä¸¤æŠŠï¼ˆæ™®é€šæ°´å£¶ï¼Œç®€ç§°æ°´å£¶ï¼›ä¼šå“çš„æ°´å£¶ï¼Œç®€ç§°å“æ°´å£¶)ã€‚ è€å¼ æŠŠæ°´å£¶æ”¾åˆ°ç«ä¸Šï¼Œç«‹ç­‰æ°´å¼€ã€‚ï¼ˆåŒæ­¥é˜»å¡žï¼‰ è€å¼ è§‰å¾—è‡ªå·±æœ‰ç‚¹å‚» è€å¼ æŠŠæ°´å£¶æ”¾åˆ°ç«ä¸Šï¼ŒåŽ»å®¢åŽ…çœ‹ç”µè§†ï¼Œæ—¶ä¸æ—¶åŽ»åŽ¨æˆ¿çœ‹çœ‹æ°´å¼€æ²¡æœ‰ã€‚ï¼ˆåŒæ­¥éžé˜»å¡žï¼‰ è€å¼ è¿˜æ˜¯è§‰å¾—è‡ªå·±æœ‰ç‚¹å‚»ï¼ŒäºŽæ˜¯å˜é«˜ç«¯äº†ï¼Œä¹°äº†æŠŠä¼šå“ç¬›çš„é‚£ç§æ°´å£¶ã€‚æ°´å¼€ä¹‹åŽ,èƒ½å¤§å£°å‘å‡ºå˜€~~~~çš„å™ªéŸ³ã€‚ è€å¼ æŠŠå“æ°´å£¶æ”¾åˆ°ç«ä¸Šï¼Œç«‹ç­‰æ°´å¼€ã€‚ï¼ˆå¼‚æ­¥é˜»å¡žï¼‰ è€å¼ è§‰å¾—è¿™æ ·å‚»ç­‰æ„ä¹‰ä¸å¤§ è€å¼ æŠŠå“æ°´å£¶æ”¾åˆ°ç«ä¸Šï¼ŒåŽ»å®¢åŽ…çœ‹ç”µè§†ï¼Œæ°´å£¶å“ä¹‹å‰ä¸å†åŽ»çœ‹å®ƒäº†ï¼Œå“äº†å†åŽ»æ‹¿å£¶ã€‚ï¼ˆå¼‚æ­¥éžé˜»å¡žï¼‰ è€å¼ è§‰å¾—è‡ªå·±èªæ˜Žäº†ã€‚ æ‰€è°“åŒæ­¥å¼‚æ­¥ï¼Œåªæ˜¯å¯¹äºŽæ°´å£¶è€Œè¨€ã€‚æ™®é€šæ°´å£¶ï¼ŒåŒæ­¥ï¼›å“æ°´å£¶ï¼Œå¼‚æ­¥ã€‚è™½ç„¶éƒ½èƒ½å¹²æ´»ï¼Œä½†å“æ°´å£¶å¯ä»¥åœ¨è‡ªå·±å®Œå·¥ä¹‹åŽï¼Œæç¤ºè€å¼ æ°´å¼€äº†ã€‚è¿™æ˜¯æ™®é€šæ°´å£¶æ‰€ä¸èƒ½åŠçš„ã€‚åŒæ­¥åªèƒ½è®©è°ƒç”¨è€…åŽ»è½®è¯¢è‡ªå·±ï¼ˆæƒ…å†µ2ä¸­ï¼‰ï¼Œé€ æˆè€å¼ æ•ˆçŽ‡çš„ä½Žä¸‹ã€‚ æ‰€è°“é˜»å¡žéžé˜»å¡žï¼Œä»…ä»…å¯¹äºŽè€å¼ è€Œè¨€ã€‚ç«‹ç­‰çš„è€å¼ ï¼Œé˜»å¡žï¼›çœ‹ç”µè§†çš„è€å¼ ï¼Œéžé˜»å¡žã€‚æƒ…å†µ1å’Œæƒ…å†µ3ä¸­è€å¼ å°±æ˜¯é˜»å¡žçš„ï¼Œåª³å¦‡å–Šä»–éƒ½ä¸çŸ¥é“ã€‚è™½ç„¶3ä¸­å“æ°´å£¶æ˜¯å¼‚æ­¥çš„å¯å¯¹äºŽç«‹ç­‰çš„è€å¼ æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰ã€‚æ‰€ä»¥ä¸€èˆ¬å¼‚æ­¥æ˜¯é…åˆéžé˜»å¡žä½¿ç”¨çš„ï¼Œè¿™æ ·æ‰èƒ½å‘æŒ¥å¼‚æ­¥çš„æ•ˆç”¨ã€‚ å›žè°ƒçš„ç»å…¸ä¾‹å­å›žè°ƒï¼šå°±æ˜¯Aç±»ä¸­è°ƒç”¨Bç±»ä¸­çš„æŸä¸ªæ–¹æ³•Cï¼Œç„¶åŽBç±»ä¸­åè¿‡æ¥è°ƒç”¨Aç±»ä¸­çš„æ–¹æ³•Dï¼ŒDè¿™ä¸ªæ–¹æ³•å°±å«å›žè°ƒæ–¹æ³•ï¼Œè¿™æ ·å­è¯´ä½ æ˜¯ä¸æ˜¯æœ‰ç‚¹æ™•æ™•çš„ï¼Œå…¶å®žæˆ‘åˆšå¼€å§‹ä¹Ÿæ˜¯è¿™æ ·ä¸ç†è§£ï¼Œçœ‹äº†äººå®¶è¯´æ¯”è¾ƒç»å…¸çš„å›žè°ƒæ–¹å¼ï¼š â€¢ Class Aå®žçŽ°æŽ¥å£CallBack callbackâ€”â€”èƒŒæ™¯1 â€¢ class Aä¸­åŒ…å«ä¸€ä¸ªclass Bçš„å¼•ç”¨b â€”â€”èƒŒæ™¯2 â€¢ class Bæœ‰ä¸€ä¸ªå‚æ•°ä¸ºcallbackçš„æ–¹æ³•f(CallBack callback) â€”â€”èƒŒæ™¯3 â€¢ Açš„å¯¹è±¡aè°ƒç”¨Bçš„æ–¹æ³• f(CallBack callback) â€”â€”Aç±»è°ƒç”¨Bç±»çš„æŸä¸ªæ–¹æ³• C â€¢ ç„¶åŽbå°±å¯ä»¥åœ¨f(CallBack callback)æ–¹æ³•ä¸­è°ƒç”¨Açš„æ–¹æ³• â€”â€”Bç±»è°ƒç”¨Aç±»çš„æŸä¸ªæ–¹æ³•D å›žè°ƒä»£ç ç¤ºä¾‹å‘Šè¯‰ä»–å¹²æ´»çš„ç»“æžœã€‚è¿™ä¸ªä¾‹å­å…¶å®žæ˜¯ä¸€ä¸ªå›žè°ƒ+å¼‚æ­¥çš„ä¾‹å­ï¼Œå†ä¸¾ä¸€ä¸ªä¾‹å­ï¼ŒAç¨‹åºå‘˜å†™äº†ä¸€æ®µç¨‹åºaï¼Œå…¶ä¸­é¢„ç•™äº†å›žè°ƒå‡½æ•°æŽ¥å£ï¼Œå¹¶å°è£…å¥½äº†è¯¥ç¨‹åºï¼Œç¨‹åºå‘˜Bè®©aè°ƒç”¨è‡ªå·±çš„ç¨‹åºbä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼ŒäºŽæ˜¯ï¼Œä»–é€šè¿‡aä¸­çš„æŽ¥å£å›žè°ƒè‡ªå·±bä¸­çš„æ–¹æ³•ï¼Œåˆ°è¿™é‡Œä½ å¯èƒ½ä¼¼æ‡‚éžæ‡‚äº†ã€‚ é¦–å…ˆåˆ›å»ºä¸€ä¸ªå›žè°ƒæŽ¥å£ï¼Œè®©è€æ¿å¾—å‘ŠçŸ¥å¹²å®Œæ´»å¦‚ä½•æ‰¾åˆ°ä»–çš„æ–¹å¼ï¼šç•™ä¸‹è€æ¿åŠžå…¬å®¤åœ°å€ï¼š 123456789101112package net.easyway.test;/** * æ­¤æŽ¥å£ä¸ºè”ç³»çš„æ–¹å¼ï¼Œä¸è®ºæ˜¯ç”µè¯å·ç è¿˜æ˜¯è”ç³»åœ°å€ï¼Œä½œä¸º * è€æ¿éƒ½å¿…é¡»è¦å®žçŽ°æ­¤æŽ¥å£ * @author Administrator * */public interface CallBackInterface &#123; public void execute();&#125; åˆ›å»ºå›žè°ƒå¯¹è±¡ï¼Œå°±æ˜¯è€æ¿æœ¬äººï¼Œå› ä¸ºå‘˜å·¥å¹²å®Œæ´»åŽè¦ç»™ä»–æ‰“ç”µè¯ï¼Œå› æ­¤è€æ¿å¿…é¡»å®žçŽ°å›žè°ƒæŽ¥å£ï¼Œä¸ç„¶å‘˜å·¥åŽ»å“ªé‡Œæ‰¾è€æ¿ï¼Ÿ 12345678910111213141516package net.easyway.test;/** * è€æ¿æ˜¯ä½œä¸ºä¸Šå±‚åº”ç”¨èº«ä»½å‡ºçŽ°çš„ï¼Œä¸‹å±‚åº”ç”¨ï¼ˆå‘˜å·¥ï¼‰æ˜¯ä¸çŸ¥é“ * æœ‰å“ªäº›æ–¹æ³•ï¼Œå› æ­¤ä»–æƒ³è¢«ä¸‹å±‚åº”ç”¨ï¼ˆå‘˜å·¥ï¼‰è°ƒç”¨å¿…é¡»å®žçŽ°æ­¤æŽ¥å£ * @author Administrator * */public class Boss implements CallBackInterface &#123; @Override public void execute() &#123; System.out.println("æ”¶åˆ°äº†ï¼ï¼" + System.currentTimeMillis()); &#125;&#125; åˆ›å»ºæŽ§åˆ¶ç±»ï¼Œä¹Ÿå°±æ˜¯å‘˜å·¥å¯¹è±¡ï¼Œä»–å¿…é¡»æŒæœ‰è€æ¿çš„åœ°å€ï¼ˆå›žè°ƒæŽ¥å£ï¼‰ï¼Œå³ä½¿è€æ¿æ¢äº†ä¸€èŒ¬åˆä¸€èŒ¬ï¼ŒåŠžå…¬å®¤ä¸å˜ï¼Œæ€»èƒ½æ‰¾åˆ°å¯¹åº”çš„è€æ¿ã€‚ 123456789101112131415161718192021222324252627package net.easyway.test;/** * å‘˜å·¥ç±»ï¼Œå¿…é¡»è¦è®°ä½ï¼Œè¿™æ˜¯ä¸€ä¸ªåº•å±‚ç±»ï¼Œåº•å±‚æ˜¯ä¸äº†è§£ä¸Šå±‚æœåŠ¡çš„ * @author Administrator * */public class Employee &#123; private CallBackInterface callBack = null; //å‘Šè¯‰å‘˜å·¥è€æ¿çš„è”ç³»æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æ³¨å†Œ public void setCallBack(CallBackInterface callBack)&#123; this.callBack = callBack; &#125; //å·¥äººå¹²æ´» public void doSome()&#123; //1.å¼€å§‹å¹²æ´»äº† for(int i=0;i&lt;10;i++)&#123; System.out.println("ç¬¬ã€" + i + "ã€‘äº‹æƒ…å¹²å®Œäº†ï¼"); &#125; //2.å‘Šè¯‰è€æ¿å¹²å®Œäº† callBack.execute(); &#125;&#125; æµ‹è¯•ç±»ä»£ç ï¼š 123456789101112131415package net.easyway.test;public class Client &#123; public static void main(String[] args) &#123; Employee emp = new Employee(); //å°†å›žè°ƒå¯¹è±¡ï¼ˆä¸Šå±‚å¯¹è±¡ï¼‰ä¼ å…¥ï¼Œæ³¨å†Œ emp.setCallBack(new Boss()); //å¼€å¯æŽ§åˆ¶å™¨å¯¹è±¡è¿è¡Œ emp.doSome(); &#125;&#125; å›žè°ƒæ€»ç»“è¦æ˜Žç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œé¦–å…ˆè¦æžæ¸…å›žè°ƒå‡½æ•°å‡ºçŽ°çš„åŽŸå› ï¼Œä¹Ÿå°±æ˜¯é€‚ç”¨åœºæ™¯ï¼Œæ‰èƒ½æžæ¸…æ¥šå›žè°ƒæœºåˆ¶ï¼Œä¸ç„¶äº‹å€åŠŸåŠã€‚ æœ€åŽï¼Œå†ä¸¾ä¸€ä¾‹ï¼Œä¸ºäº†ä½¿æˆ‘ä»¬å†™çš„å‡½æ•°æŽ¥è¿‘å®Œç¾Žï¼Œå°±æŠŠä¸€éƒ¨åˆ†åŠŸèƒ½å¤–åŒ…ç»™åˆ«äººï¼Œè®©åˆ«äººä¸ªæ€§åŒ–å®šåˆ¶ï¼Œè‡³äºŽåˆ«äººæ€Žä¹ˆå®žçŽ°ä¸ç®¡ï¼Œæˆ‘å”¯ä¸€è¦åšçš„å°±æ˜¯å®šä¹‰å¥½ç›¸å…³æŽ¥å£ï¼Œè¿™ä¸€è®¾è®¡å…è®¸äº†åº•å±‚ä»£ç è°ƒç”¨é«˜å±‚å®šä¹‰çš„å­ç¨‹åºï¼Œå¢žå¼ºç¨‹åºçµæ´»æ€§ï¼Œå’Œåå°„æœ‰ç€å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œè¿™æ‰æ˜¯å›žè°ƒçš„çœŸæ­£åŽŸå› ï¼ ç”¨ä¸€æ®µè¯æ¥æ€»ç»“ä¸‹å›žè°ƒï¼šä¸Šå±‚æ¨¡å—å°è£…æ—¶ï¼Œå¾ˆéš¾é¢„æ–™ä¸‹å±‚æ¨¡å—ä¼šå¦‚ä½•å®žçŽ°ï¼Œå› æ­¤ï¼Œä¸Šå±‚æ¨¡å—åªéœ€å®šä¹‰å¥½è‡ªå·±éœ€è¦ä½†ä¸èƒ½é¢„æ–™çš„æŽ¥å£ï¼ˆä¹Ÿå°±æ˜¯å›žè°ƒæŽ¥å£ï¼‰ï¼Œå½“ä¸‹å±‚æ¨¡å—è°ƒç”¨ä¸Šå±‚æ¨¡å—æ—¶ï¼Œæ ¹æ®å½“å‰éœ€è¦çš„å®žçŽ°å›žè°ƒæŽ¥å£ï¼Œå¹¶é€šè¿‡æ³¨å†Œæˆ–å‚æ•°æ–¹å¼ä¼ å…¥ä¸Šå±‚æ¨¡å—å³å¯ï¼Œè¿™æ ·å°±å®žçŽ°ä¸‹å±‚è°ƒç”¨ä¸Šå±‚ï¼Œå¹¶ä¸”ä¸Šå±‚è¿˜èƒ½æ ¹æ®ä¼ å…¥çš„å¼•ç”¨æ¥è°ƒç”¨ä¸‹å±‚çš„å…·ä½“å®žçŽ°ï¼Œå°†ç¨‹åºçš„çµæ´»æ€§å¤§å¤§çš„å¢žåŠ äº†ã€‚ å‚è€ƒæ–‡ç«  Javaå›žè°ƒæœºåˆ¶è§£æžâ€“ä»£ç  ç»å…¸çš„å›žè°ƒæ–¹å¼ æ€Žæ ·ç†è§£é˜»å¡žéžé˜»å¡žä¸ŽåŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿ]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaè®¾è®¡æ¨¡å¼--å…­å¤§åŽŸåˆ™]]></title>
    <url>%2F2017%2F06%2F19%2F2017-06-19%2F</url>
    <content type="text"><![CDATA[ä¼ è¯´Javaæœ‰å…­å¤§å¿ƒæ³•ï¼Œ23ç§æ­¦åŠŸæ‹›å¼ã€‚åˆ†åˆ«å°±æ˜¯Javaè®¾è®¡æ¨¡å¼å…­å¤§åŽŸåˆ™å’Œå¸¸ç”¨çš„23ç§è®¾è®¡æ¨¡å¼äº†ã€‚ä¼ è¯´æŽŒæ¡å¿ƒæ³•å†é…åˆæ‹›å¼ï¼Œä¾¿èƒ½ç‹¬æ­¥å¤©ä¸‹ï¼Œç§°éœ¸æ­¦æž—ã€‚è¿™é‡Œå…ˆæ¥å­¦ä¹ ä¸‹è¿™6å¤§å¿ƒæ³•ã€‚ 1.å•ä¸€èŒè´£åŽŸåˆ™(Single Responsibility Principle)ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ï¼Œä¸è¦å­˜åœ¨å¤šä½™ä¸€ä¸ªèŒè´£å¯¼è‡´ç±»çš„å˜æ›´ã€‚ æ¯”å¦‚ï¼šç±»Aè´Ÿè´£ä¸¤ä¸ªä¸åŒçš„èŒè´£ï¼Œb,cèŒè´£ã€‚ç”±äºŽbèŒè´£éœ€æ±‚å‘ç”Ÿå˜åŒ–è€Œéœ€è¦æ”¹å˜Aç±»ï¼ŒåŽŸæœ¬è¿è¡Œæ­£å¸¸çš„cèŒè´£å‡ºçŽ°æ•…éšœã€‚è¿™å°±è¿èƒŒäº†å•ä¸€èŒè´£åŽŸåˆ™ã€‚ 2.é‡Œæ°æ›¿æ¢åŽŸåˆ™(Liskov Substitution Principle) å­ç±»å¯ä»¥å®žçŽ°çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ï¼Œä½†ä¸èƒ½è¦†ç›–çˆ¶ç±»çš„éžæŠ½è±¡æ–¹æ³•ã€‚ å­ç±»ä¸­å¯ä»¥å¢žåŠ è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ã€‚ å½“å­ç±»çš„æ–¹æ³•é‡è½½çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•çš„å‰ç½®æ¡ä»¶ï¼ˆå³æ–¹æ³•çš„å½¢å‚ï¼‰è¦æ¯”çˆ¶ç±»æ–¹æ³•çš„è¾“å…¥å‚æ•°æ›´å®½æ¾ã€‚ å½“å­ç±»çš„æ–¹æ³•å®žçŽ°çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•æ—¶ï¼Œæ–¹æ³•çš„åŽç½®æ¡ä»¶ï¼ˆå³æ–¹æ³•çš„è¿”å›žå€¼ï¼‰è¦æ¯”çˆ¶ç±»æ›´ä¸¥æ ¼ã€‚ æ€»ä¹‹å°½é‡ä¸è¦é‡å†™çˆ¶ç±»å·²ç»å®žçŽ°çš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨æŽ¥å£å…¶å®ƒæ–¹æ³•ç»•è¿‡åŽ»ã€‚å…³äºŽç¬¬ä¸‰ç‚¹çš„å®½æ¾å’Œä¸¥æ ¼ï¼Œä¸€å¼€å§‹æˆ‘ä¹Ÿä¸ç†è§£ï¼Œè¿˜æ˜¯ç”¨ä»£ç è§£é‡Šä¸€ä¸‹å§ã€‚çˆ¶ç±»èƒ½å¤Ÿå­˜åœ¨çš„åœ°æ–¹ï¼Œå­ç±»å°±èƒ½å­˜åœ¨ï¼Œå¹¶ä¸”ä¸ä¼šå¯¹è¿è¡Œç»“æžœæœ‰å˜åŠ¨ã€‚åä¹‹åˆ™ä¸è¡Œã€‚çˆ¶ç±»say()é‡Œé¢çš„å‚æ•°æ˜¯HashMapç±»åž‹ï¼Œæ˜¯Mapç±»åž‹çš„å­ç±»åž‹ã€‚ï¼ˆå› ä¸ºå­ç±»çš„èŒƒå›´åº”è¯¥æ¯”çˆ¶ç±»å¤§ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142package LSP;import java.util.Collection;import java.util.HashMap;import java.util.Map;/** * é‡Œæ°ç½®æ¢åŽŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰ï¼Œç®€ç§°LSPã€‚ * Created by Chant on 2017/6/19. *///åœºæ™¯ç±»public class LspTest &#123; public static void main(String args[]) &#123; invoke(); &#125; public static void invoke() &#123; //çˆ¶ç±»å­˜åœ¨çš„åœ°æ–¹ï¼Œå­ç±»å°±åº”è¯¥èƒ½å¤Ÿå­˜åœ¨ Father f = new Father(); Son s = new Son(); HashMap map = new HashMap(); f.say(map); s.say(map); &#125;&#125;//çˆ¶ç±»class Father &#123; public Collection say(HashMap map) &#123; System.out.println("çˆ¶ç±»è¢«æ‰§è¡Œ..."); return map.values(); &#125;&#125;//å­ç±»class Son extends Father &#123; //æ–¹æ³•è¾“å…¥å‚æ•°ç±»åž‹ public Collection say(Map map) &#123; System.out.println("å­ç±»è¢«æ‰§è¡Œ..."); return map.values(); &#125;&#125; æ— è®ºæ˜¯ç”¨çˆ¶ç±»è¿˜æ˜¯å­ç±»è°ƒç”¨sayæ–¹æ³•ï¼Œå¾—åˆ°çš„ç»“æžœéƒ½æ˜¯ çˆ¶ç±»è¢«æ‰§è¡Œâ€¦ ä½†æ˜¯ï¼Œå¦‚æžœå°†ä¸Šé¢Fatheré‡Œçš„sayå‚æ•°æ”¹ä¸ºMapï¼Œå­ç±»Soné‡Œçš„sayå‚æ•°æ”¹ä¸ºHashMapï¼Œå¾—åˆ°çš„ç»“æžœå°±å˜æˆäº† f.say(map)ç»“æžœï¼šçˆ¶ç±»è¢«æ‰§è¡Œâ€¦ s.say(map)ç»“æžœï¼š å­ç±»è¢«æ‰§è¡Œâ€¦ è¿™æ ·ä¼šé€ æˆé€»è¾‘æ··ä¹±ã€‚æ‰€ä»¥å­ç±»ä¸­æ–¹æ³•çš„å‰ç½®æ¡ä»¶å¿…é¡»ä¸Žçˆ¶ç±»ä¸­è¢«è¦†å†™çš„å‰ç½®æ¡ä»¶ç›¸åŒæˆ–è€…æ›´å®½ã€‚ 3.ä¾èµ–å€’ç½®åŽŸåˆ™ï¼ˆDependence Inversion Principleï¼‰ é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–åº•å±‚æ¨¡å—ï¼Œéƒ½åº”è¯¥ä¾èµ–æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚ æ€»ä¹‹ï¼šå¤šç”¨æŠ½è±¡çš„æŽ¥å£æ¥æè¿°è¦åšçš„åŠ¨ä½œï¼Œé™ä½Žå®žçŽ°è¿™ä¸ªåŠ¨ä½œçš„äº‹åŠ¡ä¹‹é—´çš„è€¦åˆåº¦ã€‚ï¼ˆå„è‡ªæ‹¥æœ‰å„è‡ªçš„æŽ¥å£ï¼Œä¸è¦æ”¾åœ¨ä¸€èµ·ä½¿ç”¨ï¼Œé™ä½Žè€¦åˆæ€§ï¼‰ 4.æŽ¥å£éš”ç¦»åŽŸåˆ™(Interface Segregation Principle)å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æŽ¥å£ï¼›ä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–å»ºç«‹åœ¨æœ€å°çš„æŽ¥å£ä¸Šã€‚æ€»ä¹‹å°±æ˜¯ä¸€ä¸ªæŽ¥å£å°½é‡å®ŒåŠŸèƒ½çš„å•ä¸€ï¼Œä¸è¦è®©ä¸€ä¸ªæŽ¥å£æ‰¿æ‹…è¿‡å¤šçš„è´£ä»»ã€‚ 5.è¿ªç±³ç‰¹æ³•åˆ™(law of Demeter)é€šä¿—çš„æ¥è®²ï¼Œå°±æ˜¯ä¸€ä¸ªç±»å¯¹è‡ªå·±ä¾èµ–çš„ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºŽè¢«ä¾èµ–çš„ç±»æ¥è¯´ï¼Œæ— è®ºé€»è¾‘å¤šä¹ˆå¤æ‚ï¼Œéƒ½å°½é‡åœ°çš„å°†é€»è¾‘å°è£…åœ¨ç±»çš„å†…éƒ¨ï¼Œå¯¹å¤–é™¤äº†æä¾›çš„publicæ–¹æ³•ï¼Œä¸å¯¹å¤–æ³„æ¼ä»»ä½•ä¿¡æ¯ã€‚åªä¸Žè‡ªå·±çš„æˆå‘˜å˜é‡å’Œå‚æ•°æ‰“äº¤é“ï¼Œä¸ä¸Žå…¶å®ƒæ‰“äº¤é“ã€‚ 6.å¼€é—­åŽŸåˆ™(Open Close Principle)å¯¹æ‰©å±•å¼€æ”¾ï¼Œä¿®æ”¹å…³é—­ã€‚å°½é‡é€šè¿‡æ‰©å±•è½¯ä»¶å®žä½“çš„è¡Œä¸ºæ¥å®žçŽ°å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹å·²æœ‰çš„ä»£ç æ¥å®žçŽ°å˜åŒ–ã€‚ æœ€åŽï¼Œæ˜¯ä¸‘å¾—ä¸è¡Œçš„æ€ç»´å¯¼å›¾ï¼Œæ€•è¾£çœ¼ç›å°±åˆ«çœ‹äº†ðŸ˜‚ã€‚ å‚è€ƒæ–‡ç«  Javaè®¾è®¡æ¨¡å¼å…­å¤§åŽŸåˆ™â€“è¯¦ç»†è§£è¯´ç‰ˆ Javaå…­å¤§åŽŸåˆ™â€“ç²¾ç®€ç‰ˆ Javaå…­å¤§åŽŸåˆ™â€“ä»£ç ç‰ˆ]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IDEAä¸­æ–‡ä¹±ç é—®é¢˜]]></title>
    <url>%2F2017%2F06%2F17%2F2017-06-17%2F</url>
    <content type="text"><![CDATA[å¯¼å…¥eclipseé¡¹ç›®æ—¶ï¼Œå‡ºçŽ°ä¸­æ–‡ä¹±ç çš„æ‰€æœ‰è§£å†³åŠžæ³•ã€‚ 1.å¯¼å…¥eclipseé¡¹ç›®å‡ºçŽ°ä¸­æ–‡ä¹±ç è¿™ä¸ªæƒ…å†µï¼Œé€šå¸¸éƒ½æ˜¯å› ä¸ºç¼–ç ä¸ºGBKå¯¼è‡´çš„ã€‚ç¬¬ä¸€æ­¥æ˜¯ç‚¹å‡»å³ä¸‹è§’ï¼Œæœ‰ä¸€ä¸ªæ˜¾ç¤ºä½ å½“å‰ç¼–ç çš„åœ°æ–¹ï¼Œç„¶åŽé€‰æ‹©GBKï¼ˆç”±äºŽæˆ‘çš„é¡¹ç›®ä¹‹å‰æ˜¯GBKç¼–ç ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘è¦æ˜¯é€‰æ‹©çš„GBKï¼‰ã€‚å¦å¤–æé†’ä¸€ç‚¹ï¼Œå¦‚æžœä½ çš„ideaå³ä¸‹è§’æ²¡æœ‰è¿™ä¸ªæŒ‰é’®ï¼Œè¯·åœ¨ä½ çš„ç¼–ç ç•Œé¢ä¸­éšæ„å³é”®ï¼Œç„¶åŽé€‰æ‹©â€œFile Encodingâ€ï¼Œæ•ˆæžœä¸€æ ·ã€‚ ç¬¬äºŒæ­¥ä¼šå‡ºçŽ°å¦‚ä¸‹æç¤ºï¼Œè¿™é‡Œå¾ˆé‡è¦ï¼Œä¸è¦é€‰é”™ï¼Œå…ˆé€‰æ‹©â€œReloadâ€ï¼Œè¿™é‡Œè¯·ä¸¥æ ¼æŒ‰ç…§æˆ‘è¯´çš„æ¥ï¼Œæ–‡ç« åŽé¢ä¼šå‘Šè¯‰ä½ å¦‚æžœé€‰é”™ä¼šæœ‰ä»€ä¹ˆåŽæžœ æŽ¥ç€ä½ å°±ä¼šçœ‹åˆ°ä¹±ç å·²ç»å˜æˆä¸­æ–‡äº†ï¼Œä½†æ˜¯è¿™å¯¹æˆ‘è¿˜æ²¡ç»“æŸï¼Œç”±äºŽæˆ‘å°†é¡µé¢æ”¹æˆäº†GBKç¼–ç ï¼Œä½†è¿™å¹¶ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œæˆ‘æƒ³è¦çš„æ˜¯utf8çš„ç¼–ç æ ¼å¼ã€‚ ç¬¬ä¸‰æ­¥ï¼Œå°±æ˜¯å†æ¬¡ç‚¹å‡»è®¾ç½®ç¼–ç åœ°æ–¹ï¼Œç„¶åŽé€‰æ‹©UTF-8æ ¼å¼ï¼Œè¿™æ¬¡å°±æ˜¯é€‰æ‹©Convertï¼Œè¿™å°±ç»“æŸäº†ã€‚ ç›¸ä¿¡æœ‰äº›æœ‹å‹å·²ç»æœ‰ç‚¹å¤´ç»ªäº†ã€‚è¿™ä¸ªâ€œReloadâ€é€‰æ‹©åŽä¸ä¼šæ”¹å˜æ–‡ä»¶å’Œå†…å®¹çš„ç¼–ç æ ¼å¼ï¼Œè€Œæ˜¯å°†IDEæœ¬èº«çš„è§£ç æ ¼å¼ç”±æˆ‘åŽŸå…ˆçš„UTF-8æ¢æˆäº† GBKï¼Œç”±GBKçš„è§£ç æ ¼å¼è§£GBKçš„æ–‡ä»¶å°±ä¸ä¼šå†çœ‹åˆ°ä¹±ç ã€‚è€Œâ€œConvertâ€æ˜¯å°†GBKæ ¼å¼çš„æ–‡ä»¶å†…å®¹è½¬æ¢æˆäº†UTF-8ï¼ŒåŒæ—¶å°†IDEçš„è§£ç æ ¼å¼ ä¹Ÿæ¢æˆUTF-8ã€‚æ‰€ä»¥ä¹‹å‰è¯´çš„ï¼Œå¦‚æžœä½ ç¬¬ä¸€æ¬¡é€‰æ‹©äº†â€œConvertâ€é‚£ä¹ˆå°±ä¼šç”±åŽŸæ¥çš„ä¹±ç å¼„æˆå¦ä¸€ç§ä¹±ç ï¼Œåæ­£æˆ‘æ˜¯æ²¡å¼„å›žæ¥è¿‡ã€‚ æŽ§åˆ¶å°è¾“å‡ºæ˜¯ä¹±ç æ¯”å¦‚:System.out.println(â€œä¸­æ–‡â€);æ‰§è¡Œè¿™å¥è¯æŽ§åˆ¶å°è¾“å‡ºä¹±ç ï¼Œè¿™ä¸ªé—®é¢˜åœ¨Run-&gt;Edit configurationsä¸­çš„VM optionsé‡ŒåŠ ä¸Š-Dfile.encoding=UTF-8ï¼Œå°±å¥½äº†ï¼Œè¿™ç§é—®é¢˜æ˜¯æ“ä½œç³»ç»Ÿä¸æ˜¯ä¸­æ–‡çŽ¯å¢ƒå¯¼è‡´çš„ã€‚ æ‰€æœ‰é…ç½®éƒ½æ²¡é—®é¢˜ä½†ä»ç„¶è¾“å‡ºä¹±ç è¿™ä¸ªæ—¶å€™åªæœ‰ä¸€ç§è§£é‡Šï¼šIDEAæŠŠä½ çš„å­—ä½“ç¼–ç å¼„é”™äº†ï¼Œä½†æ˜¯åœ¨å“ªé‡Œå¼„é”™çš„å‘¢ã€‚ç»è¿‡å¤šæ¬¡æŽ’æŸ¥å¯»æ‰¾ï¼Œç»ˆäºŽï¼Œåœ¨é¡¹ç›®çš„ç›®å½•ä¸‹æœ‰ä¸ª.ideaçš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œæœ‰ä¸ªencodings.xmlçš„æ–‡ä»¶,é‡Œé¢è®°å½•äº†ä½ æŸäº›æ–‡ä»¶å¯¹åº”çš„ç‰¹æ®Šç¼–ç ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§ç¼–ç å‘¢ï¼Œå› ä¸ºä¹‹å‰æˆ‘æ— æ„ä¸­ç‚¹äº†å³ä¸‹è§’çš„ç¼–ç ï¼Œæ”¹äº†ä¸€ä¸‹ï¼Œå°±è¢«ideaè®°å½•åˆ° encodings.xmlä¸­ï¼Œå½“ä½ å†æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šç”¨é‚£ç§ç¼–ç ã€‚æˆ‘è¯´IDEAä½ é‚£ä¹ˆæ™ºèƒ½ä½ å¦ˆçŸ¥é“å—ï¼Ÿåªè¦æŠŠencodings.xmlé‡Œé¢çš„é™¤äº†UTF-8çš„éƒ½åˆ äº†å°±å¥½å•¦ï¼ˆæˆ‘çš„æ‰€æœ‰å­—ä½“éƒ½æ˜¯UTF-8ï¼‰ï¼ å‚è€ƒæ–‡ç«  ideaä¸­çš„æ±‰è¯­æ³¨é‡Šå‡ºçŽ°ä¹±ç çš„è§£å†³æ–¹æ¡ˆ å°æŠ€å·§ï¼ä¸¤åˆ†é’Ÿè§£å†³IntelliJ IDEAä¸­æ–‡ä¹±ç é—®é¢˜]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŒ£è„±ä½ çš„è½¨é“--ä¸€åˆ™å…¬ç›Šå°çŸ­ç‰‡ã€Šcogsã€‹]]></title>
    <url>%2F2017%2F06%2F11%2Fcogs%2F</url>
    <content type="text"><![CDATA[var dplayer0 = new DPlayer({"element":document.getElementById("dplayer0"),"autoplay":false,"theme":"#FADFA3","loop":true,"video":{"url":"http://ugcydzd.qq.com/flv/92/216/g0512cgb51w.p712.1.mp4?sdtfrom=v1010&guid=72ffbc53bc13455246dcec4efd2c2b02&vkey=0CE5FC72FB6FA6D97FD1077E0449F0AB0ADDF71FFE82014D6FA31F80237EA5C3A40C048E207507FA283E0EB1C1C3E10188B0D7CAD66E072FF8AB6BBC2D2E8E9E34631C122081535D7168D0D2723548E25E94E04EC20FD1A10848CDB66FBE45E35E6F7D1D0C3C0520AFA5331498386C8D","pic":"/media/14972328758364.jpg"}}); Here is a related report: AIME crafts beautiful animated film for global launchThe Australian charity has taken its ambitions to help underprivileged children to the world with a new film by M&amp;C Saatchi Sydney and Zeilt Productions. With over a thousand shares on Facebook within a few hours of its launch, a new animated film for AIME appears to have already struck a chord. The overwhelmingly positive reviewsâ€”â€œSo beautiful and inspiringâ€, â€œ profound and beautifully createdâ€â€”will be a boon for the charityâ€™s founder, 31-year-old Australian Jack Manning Bancroft, as he prepares to take his education charity international for the first time. Creative partners M&amp;C Saatchi Sydney and director Laurent Witz (winner of a 2013 Academy Award for the animated short film Mr Hublot) and his team at Zeilt Productions will also be celebrating the release of a project that has been over a year in development. â€˜Cogsâ€™ tells the story of two boys who find themselves, quite literally, on separate, pre-determined tracks in their lives, and the drama hinges on their effort to break free from those imposed limitations. The tagline, â€œIf we want to change the world, we need to change the way it worksâ€, reflects the goal Manning Bancroft has aimed for since establishing AIME 12 years ago to end education inequality in Australia. On average, 61.5 percent of indigenous children in Australia finish school, with only 42 percent going onto further education. AIMEâ€™s programme pairs university student volunteers with underprivileged school children, and the numbers of those completing school and going on to university leap to 87.9 percent and 74 percent as a result. With the launch of Cogs, says Manning Bancroft, AIMEâ€™s battle against â€œthe broken systemâ€ that breeds inequality is heading overseas. â€œWe are calling out to find 10 young people around the world who want to take our model of mentoring to their country to fight inequality and create a fairer world.â€ AIME has already had enquiries from Nigeria, France, the USA, Canada, New Zealand, Uganda and more, he says: 33 young people have started their applications in the last 24 hours since the filmâ€™s release. â€œAIME is addictively positive,â€ says Andy Flemming, group creative director, M&amp;C Saatchi, Sydney, who describes his work on the film as a â€œdream jobâ€. â€œTheyâ€™re run by an incredible dreamer / thinker / storyteller who has an unwavering mission to change the world for the better. Itâ€™s impossible not to be swept away by their boundless enthusiasm, which is backed up by results that show that their system works. We live in a particularly shitty world, so you just canâ€™t pass up the chance to maybe, just maybe help them do something about it.â€ The specific theme for the film came from the need, says Flemming, to find â€œa wonderfully simple idea to introduce AIME to the world.â€ â€œThe team was playing with the idea of a system thatâ€™s fractured and broken. That evolved into people not realising that their lives are on set tracks, and this is precisely how society worksâ€”it needs that separation. We then imagined a machine-like city thatâ€™s incredibly old and the whole thing just clicked together. It was emotional.â€ Once the agency engaged with Zeilt Productions, Witz had between 20 and 30 people working on the film for many months, with a continuous team engaged from the agency side too. â€œAll of us had a singular vision and every month the work just got better and better,â€ says Flemming. â€œObviously the time helped. We crafted the hell out of this, and itâ€™s not often we get to pour so much love into advertising projects these days.â€ As the message in Cogs takes flight and online shares start to gather speed, Manning Bancroft says he hopes the film will mark the incremental rise of mentors around the world, with all the subsequent benefits this could have for improving lives. â€œSuccess will be when we see every university student in the world being mentors for their most disadvantaged high school kids,â€ he says. vocabularyanimated /ËˆÃ¦nÉªËŒmeÉªtÉªd/ ADJ Someone who is animated or who is having an animated conversation is lively and is showing their feelings. çƒ­çƒˆçš„ ADJ An animated film is one in which puppets or drawings appear to move. åŠ¨ç”»çš„ underprivileged /ËŒÊŒndÉ™ËˆprÉªvÉªlÉªdÊ’d/ ADJ Underprivileged people have less money and fewer possessions and opportunities than other people in their society. è´«ç©·çš„; ç¼ºå°‘æœºé‡çš„ strike a chord æ‰“åŠ¨(æŸäººçš„)å¿ƒå¼¦ï¼Œåœ¨(æŸäººå¿ƒä¸­)å¼•èµ·å…±é¸£. å¼•èµ·å…±é¸£ï¼Œè§¦åŠ¨å¿ƒå¼¦ overwhelmingly adv. åŽ‹å€’æ€§åœ°ï¼›ä¸å¯æŠµæŠ—åœ° profound /prÉ™ËˆfaÊŠnd/ ADJ You use profound to emphasize that something is very great or intense. æ·±åˆ»çš„; æžå¤§çš„ä¾‹ï¼šâ€¦discoveries which had a profound effect on many areas of medicine.â€¦å¯¹åŒ»å­¦çš„è®¸å¤šé¢†åŸŸéƒ½æœ‰æ·±åˆ»å½±å“çš„ä¸€äº›å‘çŽ°ã€‚ä¾‹ï¼šâ€¦profound disagreement.â€¦æžå¤§çš„åˆ†æ­§ã€‚ ADJ A profound idea, work, or person shows great intellectual depth and understanding. é«˜æ·±çš„ ADV æ·±åˆ»åœ°; æžå¤§åœ° ä¾‹ï¼šThis has profoundly affected my life. è¿™å·²æžå¤§åœ°å½±å“äº†æˆ‘çš„ç”Ÿæ´»ã€‚ boon /buËn/ N-COUNT You can describe something as a boon when it makes life better or easier for someone. ç¦éŸ³ ä¾‹ï¼šIt is for this reason that television proves such a boon to so many people. æ­£æ˜¯è¿™ä¸ªåŽŸå› ç”µè§†æœºæˆä¸ºè¿™ä¹ˆå¤šäººçš„ä¸€å¤§ç¦éŸ³ã€‚ ADJ close, special, or intimate (in the phrase boon companion) äº²å¯†çš„; ç‰¹åˆ«çš„ animated short film åŠ¨ç”»çŸ­ç‰‡ cog /kÉ’É¡/ N-COUNT A cog is a wheel with square or triangular teeth around the edge, which is used in a machine to turn another wheel or part. é½¿è½® PHRASE If you describe someone as a cog in a machine or wheel, you mean that they are a small part of a large organization or group. (å¤§åž‹æœºæž„æˆ–ç»„ç»‡ä¸­çš„)å°äººç‰© ä¾‹ï¼šMr. Lake was an important cog in the republican campaign machine. é›·å…‹å…ˆç”Ÿæ˜¯å…±å’Œå…šç«žé€‰æœºå™¨ä¸­ä¸€ä¸ªå°äººç‰©ï¼Œä½†å´å‘æŒ¥äº†é‡è¦ä½œç”¨ã€‚ N-COUNT a tenon that projects from the end of a timber beam for fitting into a mortise (æœ¨å·¥)å‡¸æ¦« literally /ËˆlÉªtÉ™rÉ™lÉª/ ADV You can use literally to emphasize an exaggeration. Some careful speakers of English think that this use is incorrect. çœŸåœ° ä¾‹ï¼šWeâ€™ve got to get the economy under control or it will literally eat us up. æˆ‘ä»¬å¿…é¡»æŽ§åˆ¶ä½ç»æµŽï¼Œå¦åˆ™å®ƒçœŸåœ°å°±ä¼šæŠŠæˆ‘ä»¬å›°ä½ã€‚ ADV You use literally to emphasize that what you are saying is true, even though it seems exaggerated or surprising. ç¡®å®žåœ° ä¾‹ï¼šPutting on an opera is a tremendous enterprise involving literally hundreds of people. ä¸Šæ¼”ä¸€å°è¯å‰§æ˜¯ä¸€é¡¹å·¨å¤§çš„äº‹ä¸šï¼Œå®ƒç¡®å®žè¦å‡ ç™¾ä¸ªäººå‚ä¸Žã€‚ ADV If a word or expression is translated literally, its most simple or basic meaning is translated. å­—é¢ä¸Šåœ° ä¾‹ï¼šThe word â€œvolkâ€ translates literally as â€œfolk.â€ â€œâ€è¿™ä¸ªè¯ç…§å­—é¢æ„æ€ç¿»è¯‘ä¸ºâ€œâ€ã€‚ predetermined /ËŒpriËdÉªËˆtÉœËmÉªnd/ ADJ If you say that something is predetermined, you mean that its form or nature was decided by previous events or by people rather than by chance. é¢„å…ˆç¡®å®šçš„ ä¾‹ï¼šThe princeâ€™s destiny was predetermined from the moment of his birth. è¯¥çŽ‹å­çš„å‘½è¿ä»Žå‡ºç”Ÿé‚£ä¸€åˆ»èµ·å°±å·²ç»è¢«å†³å®šäº†ã€‚ ä¾‹ï¼šThe capsules can be made to release the pesticides at a predetermined time. å¯ä½¿è¿™äº›èƒ¶å›Šåœ¨é¢„å®šæ—¶é—´é‡Šæ”¾å‡ºæ€è™«å‰‚. track [é“è·¯] è½¨é“ï¼ˆtrackçš„å¤æ•°ï¼‰ï¼›[è®¡] ç£é“ï¼›è½®èƒŽ impose /ÉªmËˆpÉ™ÊŠz/ V-T If you impose something on people, you use your authority to force them to accept it. å¼ºåˆ¶å®žè¡Œ N-UNCOUNT å¼ºåˆ¶å®žè¡Œ ä¾‹ï¼šâ€¦the imposition of sanctions against Pakistan. â€¦å¯¹å·´åŸºæ–¯å¦åˆ¶è£çš„å¼ºåˆ¶å®žè¡Œã€‚ V-T If you impose your opinions or beliefs on other people, you try and make people accept them as a rule or as a model to copy. æŠŠ (è§‚ç‚¹ã€ä¿¡ä»°ç­‰) å¼ºåŠ äºŽ ä¾‹ï¼šParents should beware of imposing their own tastes on their children. çˆ¶æ¯åº”è¯¥æé˜²æŠŠè‡ªå·±çš„å…´è¶£å¼ºåŠ ç»™å­©å­ã€‚ V-T If something imposes strain, pressure, or suffering on someone, it causes them to experience it. ä½¿æ‰¿å— (ä»¤äººä¸å¿«ä¹‹äº‹ç‰©) ä¾‹ï¼šThe filming imposed an additional strain on her. å½±ç‰‡æ‹æ‘„ä½¿å¥¹æ‰¿å—äº†é¢å¤–çš„åŽ‹åŠ›ã€‚ V-I If someone imposes on you, they unreasonably expect you to do something for them which you do not want to do. ä¸åˆç†åœ°è¦æ±‚ä¾‹ï¼šI was afraid youâ€™d feel we were imposing on you. æˆ‘æ‹…å¿ƒä½ ä¼šè§‰å¾—æˆ‘ä»¬åœ¨ä¸åˆç†åœ°è¦æ±‚ä½ N-COUNT ä¸åˆç†çš„è¦æ±‚ ä¾‹ï¼šI know this is an imposition. But please hear me out. æˆ‘çŸ¥é“è¿™æ˜¯ä¸ªä¸åˆç†çš„è¦æ±‚ï¼Œä½†è¯·å¬æˆ‘æŠŠè¯è¯´å®Œã€‚ V-T If someone imposes themselves on you, they force you to accept their company although you may not want to. ä½¿å¼ºè¿«æŽ¥å— tagline n. æ ‡è¯­ï¼›å“ç‰Œå£å· indigenous [Éªnâ€™dÉªdÊ’É™nÉ™s] adj. æœ¬åœŸçš„ï¼›åœŸè‘—çš„ï¼›å›½äº§çš„ï¼›å›ºæœ‰çš„ breed /briËd/ N-COUNT A breed of a pet animal or farm animal is a particular type of it. For example, terriers are a breed of dog. (åŠ¨ç‰©çš„) å“ç§ ä¾‹ï¼šâ€¦rare breeds of cattle. â€¦ç¨€æœ‰ç‰›ç§ã€‚ å…»æ®– breed animals or plant ç¹æ®– When animals breed, they have babies. V-T If you say that something breeds bad feeling or bad behaviour, you mean that it causes bad feeling or bad behaviour to develop. é…¿æˆ (ä¸è‰¯æƒ…ç»ªæˆ–ä¸è‰¯è¡Œä¸º)ä¾‹ï¼šIf they are unemployed itâ€™s bound to breed resentment.å¦‚æžœä»–ä»¬å¤±ä¸šäº†,ä¸€å®šä¼šé…¿æˆæ€¨æ¨ã€‚ storyteller /ËˆstÉ”ËrÉªËŒtÉ›lÉ™/ n. è¯´æ•…äº‹çš„äººï¼›æ•…äº‹ä½œè€…ï¼›çŸ­ç¯‡å°è¯´ä½œå®¶ unwavering /ÊŒnËˆweÉªvÉ™rÉªÅ‹/ ADJ If you describe a feeling or attitude as unwavering, you mean that it is strong and firm and does not weaken. (æƒ…æ„Ÿã€æ€åº¦)å¼ºçƒˆçš„; åšå®šçš„ ä¾‹ï¼šShe has been encouraged by the unwavering support of her family. å¥¹å®¶äººåšå®šåœ°æ”¯æŒé¼“èˆžç€å¥¹ã€‚ boundless /ËˆbaÊŠndlÉªs/ ADJ If you describe something as boundless, you mean that there seems to be no end or limit to it. æ— é™çš„ ä¾‹ï¼šHis reforming zeal was boundless. ä»–çš„æ”¹é©çƒ­æƒ…æ˜¯æ— ç©·å°½çš„ã€‚ shitty /ËˆÊƒÉªtÉª/ ADJ If someone describes something as shitty, they do not like it or they think that it is of poor quality. adj. è¾ƒå·®çš„ï¼›åŠ£ç­‰çš„,ç‹—å±Žçš„ fractured [â€˜frÃ¦ktÊƒÉ™d]adj. æ–­è£‚çš„ï¼›æŒ«ä¼¤çš„ï¼›æŠ˜è£‚çš„ v. æ–­è£‚ï¼ˆfractureçš„è¿‡åŽ»å¼ï¼‰ evolve /ÉªËˆvÉ’lv/ V-I When animals or plants evolve, they gradually change and develop into different forms. è¿›åŒ– ä¾‹ï¼šBirds are widely believed to have evolved from dinosaurs. é¸Ÿç±»æ™®éè¢«è®¤ä¸ºæ˜¯ä»Žæé¾™è¿›åŒ–è€Œæ¥çš„ã€‚ V-T/V-I If something evolves or you evolve it, it gradually develops over a period of time into something different and usually more advanced. ä½¿â€¦é€æ­¥å‘å±•; é€æ­¥å‘å±• ä¾‹ï¼šâ€¦a tiny airline which eventually evolved into Pakistan International Airlines. â€¦æœ€ç»ˆå‘å±•æˆä¸ºå·´åŸºæ–¯å¦å›½é™…èˆªç©ºå…¬å¸çš„ä¸€å®¶å°åž‹èˆªç©ºå…¬å¸ã€‚ incremental /ËŒÉªnkrÉªËˆmÉ›ntÉ™l/ ADJ Incremental is used to describe something that increases in value or worth, often by a regular amount. é€’å¢žçš„ åŽŸæ–‡é“¾æŽ¥AIME crafts beautiful animated film for global launch]]></content>
      <categories>
        <category>English Learning</category>
      </categories>
      <tags>
        <tag>English</tag>
        <tag>cogs</tag>
        <tag>animated short film</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Aaron Ralstonâ€™s Story]]></title>
    <url>%2F2017%2F06%2F10%2F2017-06-10%2F</url>
    <content type="text"><![CDATA[Aaron Ralston, a 27-year-old mountain sports fanatic from Colorado in the United States, found himself in dire straits alone in a canyon in the desert when a 500kg rock came crashing down the canyon to smash his right hand and trap it against the canyon wall. A terrible accident, but the situation was made all the more serious because on this occasion Aaron had failed to tell anyone where he was going. At the last minute the plans for a trip with his climbing partners had fallen through, and on the spur of the moment he decided to head out on his own to cycle up a long mountain trail, leave his bike and then walk down the Blue John canyon. No one had the slightest idea where he was. After three days of not seeing or hearing any sign of life Aaron realised he would die there if he didnâ€™t do something drastic. The course of action was horrific, but there was no other way. He would have to amputate his right hand. Fortunately he had a small multitool knife with him and he had some straps that he could use to make a tourniquet to stop himself bleeding to death when he cut the arteries. The knife had two blades. When he tried with the larger blade he found that it was too blunt to cut the skin. The following day he found the courage to try the shorter blade, and with that he managed to cut through the skin. Only when he had made a large hole in his arm did he realise that it was going to be impossible to use any of the little tools on his knife to cut through the bones. After another 24 hours of pain and despair the idea and the strength came to him in a flash on the sixth day. With a final burst of energy he broke both bones in his arm and freed himself. The ordeal was not over, though. He was still a long way from help. He had to carefully strap up his right arm and then find a way of lowering himself down a 20m drop in the canyon with a rope and only his left arm, and then walk the 10 km back to his car. Despite his ingenuity* and all his efforts he would have bled to death if it hadnâ€™t been for a very happy coincidence: the moment he got out of the canyon into the open desert the rescue helicopter just happened to be flying overhead. One of the doctors at the hospital recalls being impressed to see Ralston walk into the hospital on his own, in spite of his injuries and the gruelling experience of being in the desert for six days with almost nothing to eat and only a couple of litres of water. He describes the amputation as remarkable. â€œItâ€™s a perfect example of someone improvising in a dire situation,â€ he said. â€œHe took a small knife and was able to amputate his arm in such a way that he did not bleed to death.â€Slim and pale with short reddish-brown hair, Ralston believes that his story was not simply about an isolated individual who rose to a formidable challenge. For him there was a spiritual dimension to the experience. In his news conference he said, â€œI may never fully understand the spiritual aspects of what I experienced, but I will try. The source of the power I felt was the thoughts and prayers of many people, most of whom I will never know.â€ Vocabularydire /â€˜daÉªÉ™/ ADJ Dire is used to emphasize how serious or terrible a situation or event is. ä¸¥é‡çš„; å¯æ€•çš„ ADJ If you describe something as dire, you are emphasizing that it is of very low quality. è´¨é‡ä½ŽåŠ£çš„ strait /streÉªt/ N-COUNT/N-IN-NAMES You can refer to a narrow strip of sea which joins two large areas of sea as a strait or the straits. æµ·å³¡ N-PLURAL If someone is in dire or desperate straits, they are in a very difficult situation, usually because they do not have much money. (å¸¸æŒ‡ç¼ºé’±é€ æˆçš„) å›°å¢ƒ canyon /ËˆkÃ¦njÉ™n/ N-COUNT/N-IN-NAMES A canyon is a long, narrow valley with very steep sides. å³¡è°· smash /smÃ¦Êƒ/ V-T/V-I If you smash something or if it smashes, it breaks into many pieces, for example, when it is hit or dropped. æ‰“ç¢Ž; ç ´ç¢Ž V-T/V-I If you smash through a wall, gate, or door, you get through it by hitting and breaking it. æ’žç ´ (å¢™æˆ–é—¨) è€Œå…¥ V-T/V-I If something smashes or is smashed against something solid, it moves very fast and with great force against it. ä½¿çŒ›æ’ž; æ’žå‡» V-T To smash a political group or system means to deliberately destroy it. æžåž® (æ”¿æ²»é›†å›¢æˆ–ä½“åˆ¶) fall through PHRASAL VERB If an arrangement, plan, or deal falls through, it fails to happen. è½ç©º slight /slaÉªt/ ADJ Something that is slight is very small in degree or quantity. è½»å¾®çš„; ç»†å¾®çš„ ADJ A slight person has a fairly thin and delicate looking body. ç˜¦å°çš„; çº¤ç»†çš„ V-T If you are slighted, someone does or says something that insults you by treating you as if your views or feelings are not important. è½»è”‘; æ€ æ…¢ N-COUNT Slight is also a noun. è½»è§†; å†·è½ PHRASE You use in the slightest to emphasize a negative statement. (ç”¨äºŽåŠ å¼ºå¦å®šçš„é™ˆè¿°è¯­æ°”) ä¸€ç‚¹ä¹Ÿ drastic /ËˆdrÃ¦stÉªk/ ADJ If you have to take drastic action in order to solve a problem, you have to do something extreme to solve it. æžç«¯çš„ ADJ A drastic change is a very great change. å‰§çƒˆçš„ horrific /hÉ’ËˆrÉªfÉªk, hÉ™-/ ADJ If you describe a physical attack, accident, or injury as horrific, you mean that it is very bad, so that people are shocked when they see it or think about it. æžå…¶å¯æ€•çš„ ä¾‹: I have never seen such horrific injuries. æˆ‘ä»Žæ²¡è§è¿‡è¿™ä¹ˆä¸¥é‡çš„ä¼¤ã€‚ ADV æžå…¶å¯æ€•åœ° ä¾‹ï¼šHe had been horrifically assaulted before he died. ä»–æ­»ä¹‹å‰æ›¾é­äººæ¯’æ‰“ã€‚ ADJ If you describe something as horrific, you mean that it is so big that it is extremely unpleasant. å¤§å¾—éª‡äººçš„ ä¾‹ï¼šâ€¦piling up horrific extra amounts of money on top of your original debt. â€¦åœ¨ä½ åŽŸæœ‰å€ºåŠ¡çš„åŸºç¡€ä¸Šå†åŠ ä¸Šæ•°ç›®éª‡äººçš„å‡ å¤§ç¬”é’±ã€‚ ADV å¤§å¾—éª‡äººåœ° ä¾‹ï¼šOpera productions are horrifically expensive. æ­Œå‰§çš„æ¼”å‡ºèŠ±é”€å¤§å¾—å“äººã€‚ amputate /ËˆÃ¦mpjÊŠËŒteÉªt/1 V-T To amputate someone&apos;s arm or leg means to cut all or part of it off in an operation because it is diseased or badly damaged. æˆª (è‚¢) 2 N-VAR æˆªè‚¢ amputation. strap /strÃ¦p/1 N-COUNT A strap is a narrow piece of leather, cloth, or other material. Straps are used to carry things, fasten things together, or to hold a piece of clothing in place. å¸¦å­ ä¾‹ï¼šNancy gripped the strap of her beach bag. å—å¸ŒæŠ“ä½è‡ªå·±æµ·æ»©ä¼‘é—²åŒ…çš„å¸¦å­ã€‚ ä¾‹ï¼šShe pulled the strap of her nightgown onto her shoulder. å¥¹æŠŠç¡è¡£çš„å¸¦å­æ‹‰åˆ°å¥¹çš„è‚©ä¸Šã€‚ 2 V-T If you strap something somewhere, you fasten it there with a strap. ç”¨å¸¦å­ç»‘ ä¾‹ï¼š She strapped the baby seat into the car. å¥¹æŠŠå©´å„¿åº§æ¤…ç”¨å¸¦å­ç»‘åœ¨é‚£è¾†æ±½è½¦ä¸Šã€‚ å‚è€ƒèµ„æ–™1.2017 JUNE 3RD é˜…è¯»æ–‡ç« ]]></content>
      <categories>
        <category>English Learning</category>
      </categories>
      <tags>
        <tag>test</tag>
        <tag>English</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¦‚çŽ‡è®ºè¿·æ€]]></title>
    <url>%2F2017%2F06%2F07%2F2017-06-07%2F</url>
    <content type="text"><![CDATA[å½“ä½ æŠ›èµ·ä¸€æžšç¡¬å¸ï¼Œä½ ä¸çŸ¥é“å®ƒä¼šæ˜¯æ­£é¢è¿˜æ˜¯åé¢ï¼Œä½†ä½ ç¡®åˆ‡çš„çŸ¥é“æ­£é¢ä¸Žåé¢çš„æ¦‚çŽ‡éƒ½æ˜¯50%ã€‚æ¦‚çŽ‡è®ºçš„ç¥žå¥‡ä¹‹å¤„åœ¨äºŽï¼Œå®ƒå±…ç„¶èƒ½ä»Žä¸ç¡®å®šæ€§ä¸­æ‰¾åˆ°ç¡®å®šæ€§ã€‚ æœ¬æ–‡ä¸æ•™ç§‘ä¹¦ï¼Œåªæ˜¯é˜è¿°æˆ‘çš„è§‚ç‚¹å’Œæ€è€ƒï¼Œå¦‚æœ‰è°¬è¯¯ï¼Œæ¬¢è¿Žè®¨è®ºæˆ–æŒ‡æ­£ã€‚ ä¸€äº›æœ‰è¶£çš„è§‚ç‚¹ï¼šä¸€ä¸ªäº‹æƒ…æœ‰Nç§å‘ç”Ÿçš„å¯èƒ½æ€§ï¼Œæˆ‘ä»¬ä¸èƒ½ç¡®ä¿¡å“ªç§ä¼šå‘ç”Ÿï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬ä¸èƒ½æŽ§åˆ¶ç»“æžœçš„å‘ç”Ÿï¼Œå½±å“ç»“æžœçš„è®¸å¤šå› ç´ ä¸åœ¨æˆ‘ä»¬çš„æ”¯é…èŒƒå›´ä¹‹å†…ï¼Œè¿™äº›å› ç´ å½±å“ç»“æžœçš„æœºç†æˆ–è€…æˆ‘ä»¬ä¸çŸ¥é“ï¼Œæˆ–è€…å¤ªå¤æ‚ä»¥è‡³äºŽè¶…å‡ºäº†æˆ‘ä»¬å¤§è„‘æˆ–ç”µè„‘çš„è¿ç®—èƒ½åŠ›ã€‚æ¯”å¦‚ï¼šæˆ‘ä»¬ä¸ç¡®å®šæŽ·ç¡¬å¸å¾—åˆ°æ­£é¢æˆ–åé¢ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„èƒ½åŠ›ä¸è¶³ä»¥ç”¨ä¸€äº›ç‰©ç†æ–¹ç¨‹æ¥æ±‚è§£è¿™ä¸ªç»“æžœã€‚å†æ¯”å¦‚ï¼šä½ ä¸èƒ½æ–­å®šä½ æœŸæœ«èƒ½è€ƒ88åˆ†ï¼Œå› ä¸ºå‡ºé¢˜ã€é˜…å·çš„ä¸æ˜¯ä½ ã€‚ å¯¹äºŽæœªå‘ç”Ÿä¹‹äº‹ï¼Œæˆ‘ä»¬æ— æ³•æŽŒæ¡å…¶æ‰€æœ‰å‚æ•°æˆ–æ— æ³•è®¡ç®—ã€‚å¯¹äºŽå·²ç»å‘ç”Ÿä¹‹äº‹ï¼Œäº‹æƒ…éƒ½å·²ç»å‘ç”Ÿäº†ï¼Œç»“æžœå·²å®šï¼Œä¹Ÿä¼šå› ä¸ºæŽŒæ¡çš„ä¿¡æ¯ä¸å…¨è€Œäº§ç”Ÿæ‰€è°“æ¦‚çŽ‡ã€‚å³è¿‡åŽ»å‘ç”Ÿçš„äº‹æƒ…è™½ç„¶äº‹å®žä¸Šæ˜¯ç¡®å®šçš„ï¼Œä½†å› ä¸ºæˆ‘ä»¬çš„æ— çŸ¥ï¼Œå®ƒæˆäº†éšæœºçš„ã€‚ æˆ‘ä»¬åœ¨æŸä¸ªåœ°æ–¹æŒ–å‡ºäº†ä¸€å—ç“·å™¨çš„ç¢Žç‰‡ï¼Œå®ƒå¯èƒ½æ˜¯å­”å­çš„å¤œå£¶ï¼Œå¯èƒ½æ˜¯ç§¦å§‹çš‡çš„é¤å…·ï¼Œä¹Ÿå¯èƒ½æ˜¯éš”å£è€çŽ‹çš„ç ´èŒ¶å£¶ä»Žä»–å®¶åˆ°åžƒåœ¾ç«™åˆè¢«åŸ‹åœ¨äº†è¿™ä¸ªåœ°æ–¹ã€‚ å› æ­¤ï¼šæ¦‚çŽ‡åœ¨å®žè´¨ä¸Šå°±æ˜¯æ— çŸ¥ï¼Œè€Œä¸æ˜¯è¯´äº‹ç‰©æœ¬èº«æ˜¯éšæœºçš„ã€‚ è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œä¸è¦è¯¯ä»¥ä¸ºæ¦‚çŽ‡åº”è¯¥æ˜¯å®¢è§‚äº‹å®žã€‚å¦‚æžœä½ æœ‰ä¸Šå¸è§†è§’çš„è¯ï¼Œé‚£ä¹ˆä¸€åˆ‡éƒ½æ˜¯æ³¨å®šï¼Œä»»ä½•äº‹çš„æ¦‚çŽ‡éƒ½æ˜¯100%ï¼Œä¹Ÿå°±æ²¡æœ‰æ‰€è°“æ¦‚çŽ‡ä¹‹è¯´äº†ã€‚ æ‰€ä»¥æ¦‚çŽ‡è®ºæ˜¯å»ºç«‹åœ¨äººä»¬æœ‰é™çš„è®¤çŸ¥ä¸­çš„ï¼Œä¸æ˜¯çœŸæ­£çš„å®¢è§‚äº‹å®žã€‚ä¹Ÿå°±æ˜¯è¯´å½“å­”å­ä¸€çœ‹ï¼Œè¿™è²Œä¼¼æ˜¯è‡ªå·±çš„å¤œå£¶å•Šï¼Œä»–è®¤ä¸ºè¿™æ˜¯å¤œå£¶çš„æ¦‚çŽ‡ä¸º70%ï¼Œç§¦å§‹çš‡ä¸€çœ‹é‚£å—ç¢Žç‰‡ï¼Œæœ•å¿ƒä¸­åªè£…çš„ä¸‹æ±Ÿå±±ï¼Œå“ªæ¥çš„é¤å…·ï¼Œåœ¨ä»–çœ‹æ¥çš„é¤å…·çš„æ¦‚çŽ‡æ˜¯1/3ï¼Œç„¶è€Œï¼Œè€çŽ‹çš„å´æ—©å·²çœ‹ç©¿ä¸€åˆ‡ï¼Œé‚£å—ç¢Žç‰‡å‰²è¿‡ä»–çš„æ‰‹æ‰€ä»¥ä»–è®°å¾—æ ¼å¤–æ¸…æ¥šï¼ŒèŒ¶å£¶æ¦‚çŽ‡ä¸º100%ã€‚æ¯ä¸ªäººæ‰€çŸ¥é“çš„ä¿¡æ¯å†³å®šäº†ä»–æ‰€è®¤çŸ¥çš„æ¦‚çŽ‡ã€‚ å°±åƒç‹¼äººæ€ï¼Œè¿™é‡Œå‡è®¾æ¸¸æˆæ˜¯7ä¸ªäºº+ä¸Šå¸ï¼Œ1å·å’Œ2å·çŽ©å®¶æ˜¯ç‹¼äººï¼Œå‘å®Œç‰Œçš„æ—¶å€™å°±å·²ç»æ³¨å®šè°æ˜¯ç‹¼äººäº†ã€‚å¯¹äºŽä¸Šå¸å’Œ1ã€2å·è€Œè¨€ï¼Œæ²¡æœ‰æ¦‚çŽ‡å¯è¨€ï¼Œæˆ–è€…è¯´1ã€2å·æ˜¯ç‹¼äººçš„æ¦‚çŽ‡æ˜¯100%ã€‚è€Œå¯¹äºŽå¹³æ°‘è€Œè¨€ï¼Œä»–é™¤äº†è‡ªå·±ï¼Œä»–æ— æ³•æ‰¾å‡ºç†ç”±è®¤ä¸ºè°æ˜¯ç‹¼äººï¼Œåªå¥½ç”¨å¤å…¸æ¦‚çŽ‡çš„ç­‰å¯èƒ½å‡è®¾ï¼Œè®¤ä¸ºå…¶ä»–æ¯ä¸ªäººæ˜¯ç‹¼äººçš„æ¦‚çŽ‡éƒ½æ˜¯1/6ï¼Œéšç€æ¸¸æˆçš„è¿›è¡Œï¼Œé¢„è¨€å®¶æŽŒæ¡æ›´å¤šçš„ä¿¡æ¯ï¼Œä»–ä¿®æ­£äº†è‡ªå·±çš„æ¦‚çŽ‡ï¼Œè€Œå¹³æ°‘ä¹Ÿæ ¹æ®è‡ªå·±æŽŒæ¡çš„ä¿¡æ¯ä¿®æ­£è‡ªå·±æ¦‚çŽ‡ï¼ŒäºŽæ˜¯å¤§å®¶å¯¹äºŽè°æ˜¯ç‹¼äººè¿™ä»¶äº‹éƒ½æœ‰äº†ä¸åŒçš„æ¦‚çŽ‡ã€‚ æ³¨æ„åˆ°ä¸Šé¢è¿™ä¸ªæ•…äº‹ä¸­ï¼Œä¸éš¾å‘çŽ°ï¼Œå‡è®¾ç¢Žç‰‡åªæœ‰å¤œå£¶ï¼Œé¤å…·ï¼ŒèŒ¶å£¶è¿™ä¸‰ç§å¯èƒ½ï¼Œå³ä¸€å¼€å§‹æ¦‚çŽ‡åº”è¯¥æ˜¯å„1/3ã€‚ä»Žå­”å­åˆ°è€çŽ‹ï¼Œä»–ä»¬éƒ½ç”¨å„è‡ªæŽŒæ¡çš„ä¿¡æ¯ä¿®æ­£äº†å…³äºŽè¿™ä¸ªç¢Žç‰‡æ˜¯ä»€ä¹ˆçš„æ¦‚çŽ‡ã€‚è¿™å°±å¼•å‡ºäº†å…ˆéªŒæ¦‚çŽ‡å’ŒåŽéªŒæ¦‚çŽ‡çš„æ¦‚å¿µã€‚ å…ˆéªŒæ¦‚çŽ‡ï¼ˆPrior probabilityï¼‰ä¸ŽåŽéªŒæ¦‚çŽ‡(Posterior probability)äº‹æƒ…è¿˜æ²¡æœ‰å‘ç”Ÿ,è¦æ±‚è¿™ä»¶äº‹æƒ…å‘ç”Ÿçš„å¯èƒ½æ€§çš„å¤§å°,æ˜¯å…ˆéªŒæ¦‚çŽ‡.äº‹æƒ…å·²ç»å‘ç”Ÿ,è¦æ±‚è¿™ä»¶äº‹æƒ…å‘ç”Ÿçš„åŽŸå› æ˜¯ç”±æŸä¸ªå› ç´ å¼•èµ·çš„å¯èƒ½æ€§çš„å¤§å°,æ˜¯åŽéªŒæ¦‚çŽ‡. å…ˆçœ‹çœ‹æ¥è‡ªwikiçš„å®šä¹‰ï¼š Similarly, the prior probability of a random event or an uncertain proposition is the unconditional probability that is assigned before any relevant evidence is taken into account. In Bayesian statistics, the posterior probability of a random event or an uncertain proposition is the conditional probability that is assigned after the relevant evidence or background is taken into account. Similarly, the posterior probability distribution is the probability distribution of an unknown quantity, treated as a random variable, conditional on the evidence obtained from an experiment or survey. â€œPosteriorâ€, in this context, means after taking into account the relevant evidence related to the particular case being examined.è¦æ³¨æ„çš„æ˜¯è¿™æ˜¯åœ¨è´å¶æ–¯ç»Ÿè®¡ä¸­ã€‚ä¸æ˜¯å…¬ç†åŒ–çš„æ¦‚çŽ‡å®šä¹‰ã€‚ å†çœ‹çœ‹ä¹¦ä¸Šçš„è§£é‡Šåœ¨æ­¤å¢™è£‚æŽ¨èé™ˆå¸Œå­ºé™¢å£«çš„ã€Šæ¦‚çŽ‡è®ºä¸Žæ•°ç†ç»Ÿè®¡ã€‹ï¼Œè¿™æ˜¯è±†ç“£ã€çŸ¥ä¹Žçš„ä¹¦è¯„å’ŒæŽ¨èã€‚é™ˆè€è¿™æœ¬ä¹¦ä¹‹æ‰€ä»¥å—åˆ°å¦‚æ­¤ç°‡æ‹¥ï¼Œåœ¨äºŽå®ƒæŽˆäººä»¥æ¸”è€ŒéžæŽˆäººä»¥é±¼ï¼Œä½ è¯»ä¸€è¯»å°±æ˜¯çŸ¥é“ã€‚ ä¸¾ä¸€ä¸ªçš„ç®€å•çš„ä¾‹å­ï¼šä¸€å£è¢‹é‡Œæœ‰3åªçº¢çƒã€2åªç™½çƒï¼Œé‡‡ç”¨ä¸æ”¾å›žæ–¹å¼æ‘¸å–ï¼Œæ±‚ï¼šâ‘´ ç¬¬ä¸€æ¬¡æ‘¸åˆ°çº¢çƒï¼ˆè®°ä½œAï¼‰çš„æ¦‚çŽ‡ï¼›â‘µ ç¬¬äºŒæ¬¡æ‘¸åˆ°çº¢çƒï¼ˆè®°ä½œBï¼‰çš„æ¦‚çŽ‡ï¼›â‘¶ å·²çŸ¥ç¬¬äºŒæ¬¡æ‘¸åˆ°äº†çº¢çƒï¼Œæ±‚ç¬¬ä¸€æ¬¡æ‘¸åˆ°çš„æ˜¯çº¢çƒçš„æ¦‚çŽ‡ã€‚è§£ï¼šâ‘´ P(A)=3/5ï¼Œè¿˜æ²¡è¿˜æœ‰æ‘¸çƒï¼Œå°±é—®æ¦‚çŽ‡ï¼Œè¿™å°±æ˜¯éªŒå‰æ¦‚çŽ‡ï¼›â‘µ P(B)=P(A)P(B|A)+P(Aé€†)P(B|Aé€†)=3/5â‘¶ P(A|B)=P(A)P(B|A)/P(B)=1/2ï¼Œè¿™å°±æ˜¯åŽéªŒæ¦‚çŽ‡ï¼Œç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡æ‘¸çƒè¿™ä»¶äº‹éƒ½å·²ç»å‘ç”Ÿäº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸çŸ¥é“ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡æˆ‘ä»¬æ˜¯é—­ç€çœ¼æ‘¸å®Œåˆæ”¾å›žåŽ»äº†ï¼Œä¾¿äº§ç”Ÿäº†æ¦‚çŽ‡ä¹‹è¯´ã€‚ç¬¬ä¸€é—®äº‹æƒ…æœªå‘ç”Ÿï¼ˆæˆ–è€…è¯´å‘ç”Ÿäº†ï¼Œä½†æ˜¯ç›¸å¯¹äºŽæœªå‘ç”Ÿå¾—æƒ…å†µï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æŽŒæ¡ä»»ä½•æ›´å¤šçš„ä¿¡æ¯ï¼‰æˆ‘ä»¬è®¤ä¸ºæ¦‚çŽ‡æ˜¯3/5,ç¬¬ä¸‰é—®ï¼Œæˆ‘ä»¬çŸ¥é“äº†ç¬¬äºŒæ¬¡æ‘¸åˆ°çº¢çƒè¿™ä»¶äº‹ï¼Œæˆ–è€…è¯´è¯æ®ï¼Œä»¥æ­¤æ¥ä¿®æ­£è¿™ä¸ªæ¦‚çŽ‡ï¼Œå°±åƒæŽ¨ç†å°è¯´ä¸€æ ·ã€‚å…³äºŽå…ˆéªŒæ¦‚çŽ‡å’ŒåŽéªŒæ¦‚çŽ‡ï¼ŒæŽ¨èé˜…è¯»ï¼šæ•°ç†ç»Ÿè®¡ä¸­çš„ä¸¤ä¸ªå­¦æ´¾â€”â€”é¢‘çŽ‡å­¦æ´¾å’ŒBayeså­¦æ´¾(1990å¹´çš„æœŸåˆŠï¼Œèƒ½æ‰¾åˆ°ä¹Ÿæ˜¯ä¸å®¹æ˜“ï¼‰ ä¸€ä¸ªç¬‘è¯å¼•å‘çš„è¡€æ¡ˆï¼šç—…äººï¼šæˆ‘å¬è¯´è¿™ä¸ªæ‰‹æœ¯æˆåŠŸæ¦‚çŽ‡ä¸º1%ï¼Œæˆ‘æ˜¯ä¸æ˜¯è¯¥æ”¾å¼ƒæ²»ç–—ï¼ŸåŒ»ç”Ÿï¼šä½ æ”¾å¿ƒï¼Œæˆ‘æ•¢ä¿è¯è¿™æ¬¡æ‰‹æœ¯100%ä¼šæˆåŠŸã€‚ç—…äººï¼šçœŸçš„ï¼Ÿä¸ºä»€ä¹ˆï¼ŸåŒ»ç”Ÿï¼šå› ä¸ºæˆ‘å·²ç»å¤±è´¥äº†99æ¬¡äº†ã€‚ è¿™æ˜¯å¾ˆå¤šäººéƒ½ä¼šçŠ¯çš„â€œå¸¸è¯†â€é”™è¯¯ï¼Œä¹Ÿæ˜¯ç»å¸¸è®©äººè¿·æƒ‘çš„åœ°æ–¹ã€‚å¯èƒ½åœ¨è¿™ä¸ªç¬‘è¯é‡Œï¼Œå¤§å®¶æ²¡ä»€ä¹ˆæ·±åˆ»æ„Ÿå—ï¼Œé‚£æ¢ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ï¼šAå·²ç»æŠ›äº†100æ¬¡ç¡¬å¸ï¼Œæ¯æ¬¡éƒ½æ˜¯æ­£é¢ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡åé¢çš„å‡ çŽ‡æ˜¯ä¸æ˜¯æ›´å¤§ï¼Ÿå³ä½¿æ˜¯ç»Ÿè®¡å­¦ä¸“ä¸šçš„å­¦ç”Ÿä¹Ÿç»å¸¸è¿·ç³Šï¼ˆæ¯”å¦‚ç»Ÿè®¡å­¦æ¸£çš„æˆ‘ï¼‰ï¼Œæˆ‘å°±ä¸€ç›´çº³é—·ï¼ŒæŒ‰ç…§å¤§æ•°å®šå¾‹ï¼ˆçŸ¥ä¹Žçš„è§£é‡Šï¼‰ï¼Œå¦‚æžœæŠ›ç¡¬å¸çš„æ¬¡æ•°è¶³å¤Ÿå¤šï¼Œä»–å°±åº”è¯¥æ˜¯æ­£åå„1/2çš„åˆ†å¸ƒå•Šï¼ŒAéƒ½æŠ›äº†100æ¬¡æ­£é¢äº†ï¼Œä¸‹ä¸€æ¬¡å°±è¯¥æ˜¯åé¢å‡ çŽ‡æ›´å¤§äº†å•Šã€‚å¯æ˜¯æ¯æ¬¡æŠ›ç¡¬å¸åº”è¯¥æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¹‹å‰æŠ›æ— æ•°æ¬¡ä¹Ÿä¸è¯¥å½±å“ä¸‹ä¸€æ¬¡çš„æ¦‚çŽ‡ï¼Œå³1/2ã€‚è¿™ä¸ªé—®é¢˜çš„äº‰è®ºï¼Œè¯·å‚è€ƒå…ˆéªŒæ¦‚çŽ‡ä¸ŽåŽéªŒæ¦‚çŽ‡çš„åŒºåˆ«ï¼ˆè€è¿·æƒ‘äº†ï¼‰ã€‚ æˆ‘æ¯”è¾ƒè®¤å¯æ¯”è¾ƒçš„è§£é‡Šæ˜¯å…¶è¯„è®ºä¸­çš„ä¸€æ®µè¯ï¼Œå½“ç„¶ï¼Œå‰ææ˜¯ä½ å¾—æ¸…æ¥šé¢‘çŽ‡ï¼ˆ åƒä¸‡åˆ«æŠŠé¢‘çŽ‡ç›´æŽ¥ç­‰åŒäºŽæ¦‚çŽ‡ï¼‰ï¼Œæ¦‚çŽ‡çš„å¤å…¸å®šä¹‰å’Œç»Ÿè®¡å®šä¹‰ä»¥åŠå…¬ç†åŒ–å®šä¹‰ã€‚ ä»Žç½‘ä¸Šçš„èµ„æ–™æ¥çœ‹ï¼Œæ¦‚çŽ‡æœ¬èº«æœ‰å¤šç§è§£é‡Šã€‚æ¯ä¸€ç§è§£é‡Šéƒ½æœ‰ä¸€å®šçš„æ¼æ´žã€‚å¦‚æžœä¸æ˜¯ç ”ç©¶æ¦‚çŽ‡çš„æ ¹æœ¬é—®é¢˜ï¼ˆé€»è¾‘ä¸€è‡´ï¼‰ï¼Œæˆ‘ä»¬åœ¨è‡ªå·±çš„ç ”ç©¶é¢†åŸŸä¸å¤ªå¯èƒ½ä¼šé‡åˆ°è¿™äº›æ¼æ´žã€‚ï¼ˆPS:è¿™é‡Œå¿…é¡»è¦è¯´æ˜Žçš„æ˜¯ï¼Œæ¦‚çŽ‡æœ‰å¤šç§å®šä¹‰ï¼ˆå¤å…¸å®šä¹‰å’Œç»Ÿè®¡å®šä¹‰ä»¥åŠå…¬ç†åŒ–å®šä¹‰ï¼‰ï¼Œä½†è¿™ä¸æ˜¯ä¸‰å›½æ¼”ä¹‰ï¼Œæˆ‘æŸ¯æ—©å·²ä¸€ç»Ÿå¤©ä¸‹ï¼Œæ¦‚çŽ‡çš„å…¬ç†åŒ–å®šä¹‰æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼Œæ²¡æœ‰æ¼æ´žã€‚å½“ç„¶è¿™é‡Œæ‰€è¯´çš„é€»è¾‘ä¸ä¸€è‡´åº”è¯¥æ˜¯æŒ‡æ•°ç†ç»Ÿè®¡ä¸­çš„é¢‘çŽ‡å­¦æ´¾å’Œè´å¶æ–¯å­¦æ´¾ä¹‹äº‰ï¼‰ é¢‘çŽ‡å­¦æ´¾å’Œè´å¶æ–¯å­¦æ´¾éƒ½æœ‰å­˜åœ¨çš„ç†ç”±ã€‚é¢‘çŽ‡å­¦æ´¾çš„â€œæ— ç©·æ¬¡å®žéªŒâ€ï¼Œè´å¶æ–¯å­¦æ´¾çš„â€œå…ˆéªŒæ¦‚çŽ‡â€ï¼Œéƒ½æ˜¯æœ‰äº‰è®®çš„ã€‚æ¥¼ä¸»çš„ç¬¬4é—®ï¼Œå‰ææ˜¯æ‰¿è®¤äº†é¢‘çŽ‡å­¦æ´¾çš„è§‚ç‚¹ï¼Œä½†æ³¨æ„å®ƒä»¬çš„è§‚ç‚¹æœ‰ä¸€ä¸ªæ— ç©·æ¬¡å®žéªŒçš„å‡è®¾ã€‚æˆ‘æ£æµ‹æ¥¼ä¸»çš„è§‚ç‚¹æ˜¯ï¼Œå› ä¸ºå·²ç»æŠ›äº†100æ¬¡æ­£é¢äº†ï¼Œé‚£ä¹ˆï¼ŒåŽé¢æŠ›åé¢çš„æ¬¡æ•°åº”è¯¥å¤šä¸€ç‚¹ï¼Œä¸ç„¶æ€»å’Œå°±ä¸æ˜¯1/2äº†ï¼Œå†æ ¹æ®é¢‘çŽ‡å­¦æ´¾çš„è§‚ç‚¹ï¼Œå‡ºçŽ°çš„é¢‘çŽ‡å¤šä¸€ç‚¹ï¼ŒäºŽæ˜¯æ¦‚çŽ‡ä¹Ÿå°±å¤§ä¸€ç‚¹ã€‚ä»Žç†è®ºä¸Šæ¥è¯´ï¼Œä»»ä½•æœ‰é™æ¬¡çš„æ­£é¢ï¼Œéƒ½ä¸ä¼šå½±å“æ— ç©·æ¬¡å®žéªŒçš„ç»“æžœæ¯”çŽ‡ã€‚æ‰€ä»¥ï¼Œâ€œåŽé¢æŠ›åé¢çš„æ¬¡æ•°åº”è¯¥å¤šä¸€ç‚¹â€è¿™ä¸€ç‚¹æ˜¯ä¸æˆç«‹çš„ï¼Œå³ä½¿åŽé¢çš„åé¢çš„æ¬¡æ•°å°‘ä¸€äº›ï¼Œä¹Ÿä¸ä¼šå½±å“è¿™ä¸ªæ¯”çŽ‡ã€‚å¸¸æ•°+æ— ç©·å¤§=æ— ç©·å¤§ å…³äºŽæ¦‚çŽ‡è®ºï¼Œä¸€ç›´æœ‰è®¸å¤šæžä¸æ‡‚çš„é—®é¢˜ï¼Œè¿·è¿·ç³Šç³Šæ··è¿‡å››å¹´ã€‚åœ¨å­¦ä¹ HMMå’ŒCRFé«˜æ¥¼å¤§åŽ¦æ—¶ï¼Œå‘çŽ°åœ°åŸºå·²ç¢Žï¼Œä¸€è¾¹ç™¾åº¦åŸºç¡€æ¦‚å¿µä¸€è¾¹å­¦ï¼Œæ›´æ˜¯ç—›è‹¦ä¸‡åˆ†ã€‚åœ¨æœå¯»é—®é¢˜æ—¶äº§ç”Ÿæ›´å¤šçš„é—®é¢˜ï¼Œç»ˆäºŽåœ¨é‡æ–°è¯»äº†æ¦‚çŽ‡è®ºå‰å‡ ç« åŽï¼Œç®—æ˜¯è±ç„¶å¼€æœ—äº†å¾ˆå¤šï¼Œæ‰€ä»¥æ‰“ç®—é‡è¯»æ¦‚çŽ‡è®ºï¼Œå¤¯å®žåŸºç¡€ï¼Œæˆ‘åº”è¯¥ä¼šå¼€ä¸ªé‡è¯»æ¦‚çŽ‡è®ºçš„åˆ†ç±»ï¼Œæœ‰å¾ˆå¤šäº‹è¦åšï¼Œå°±å¹¶è¡Œå¤„ç†å§ï¼Œä¸çŸ¥é“ä¼šä¸ä¼šåŠé€”è€ŒåºŸï¼Œä¹Ÿä¸çŸ¥é“åŠé€”è€ŒåºŸçš„æ¦‚çŽ‡æ˜¯å¤šå°‘ï¼ˆå½“ç„¶ï¼Œæˆ‘å¯ä»¥å‡­ç»éªŒå…ˆç»™å‡ºä¸€ä¸ªä¸»è§‚å…ˆéªŒæ¦‚çŽ‡ï¼Œåœ¨ä»¥åŽçš„è¿‡ç¨‹ä¸­å†æ…¢æ…¢ä¿®æ­£å¾—åˆ°åŽéªŒæ¦‚çŽ‡ï¼Œç›´åˆ°æ¦‚çŽ‡ä¸º0æˆ–1ï¼‰ï¼Œä½†æ˜¯æœ‰äº›ç–‘æƒ‘ç»ˆç©¶ä¼šæŽ¨ç€æˆ‘åŽ»æŽ¢å¯»ã€‚ æŽ¨èé˜…è¯»ï¼šæ•°å­¦ä¹‹ç¾Žç•ªå¤–ç¯‡ï¼šå¹³å‡¡è€Œåˆç¥žå¥‡çš„è´å¶æ–¯æ–¹æ³• å‚è€ƒèµ„æ–™ å…ˆéªŒæ¦‚çŽ‡ä¸ŽåŽéªŒæ¦‚çŽ‡çš„åŒºåˆ«ï¼ˆè€è¿·æƒ‘äº†ï¼‰ å…ˆéªŒæ¦‚çŽ‡ä¸ŽåŽéªŒæ¦‚çŽ‡åŠè´å¶æ–¯å…¬å¼ ã€Šæ¦‚çŽ‡è®ºä¸Žæ•°ç†ç»Ÿè®¡ã€‹â€“é™ˆå¸Œå­º æ•°ç†ç»Ÿè®¡ä¸­çš„ä¸¤ä¸ªå­¦æ´¾â€”â€”é¢‘çŽ‡å­¦æ´¾å’ŒBayeså­¦æ´¾ ã€Šæ¦‚çŽ‡è®ºä¸Žæ•°ç†ç»Ÿè®¡ã€‹â€“ç››éª¤ï¼Œè°¢å¼åƒï¼Œæ½˜æ‰¿æ¯…ç¼–.-4ç‰ˆ]]></content>
      <categories>
        <category>Algorithm</category>
        <category>é‡è¯»æ¦‚çŽ‡è®º</category>
      </categories>
      <tags>
        <tag>æ¦‚çŽ‡è®º</tag>
        <tag>å…ˆéªŒæ¦‚çŽ‡</tag>
        <tag>åŽéªŒæ¦‚çŽ‡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‚£äº›ä½ å¸¸ç”¨ä½†æ˜¯å´ä¸çŸ¥é“å¦‚ä½•ç”¨è‹±æ–‡è¡¨è¾¾çš„å¥å­]]></title>
    <url>%2F2017%2F06%2F06%2F2017-06-06homeTest%2F</url>
    <content type="text"><![CDATA[æŽŒæ¡å¦å¤–ä¸€ç§è¯­è¨€ï¼ˆå¤–è¯­ï¼‰ï¼ŒçœŸæ­£çš„éš¾ç‚¹åœ¨äºŽæŽŒæ¡å®ƒä¸Žå·²ä¹ å¾—è¯­è¨€ï¼ˆæ¯è¯­ï¼‰çš„ä¸é‡åˆä¹‹å¤„ã€‚ç›´è§‚çš„ä¸€ä¸€å¯¹åº”ï¼Œå…¶å®žæ²¡ä»€ä¹ˆéš¾åº¦ï¼šâ€œé‚£æ˜¯ä¸€æœ¬ä¹¦â€å¯¹åº”ç€â€œThatâ€™s a bookâ€ã€‚è€Œé‚£äº›ä½ å¸¸ç”¨åˆ°çš„å¥å­æˆ–çŸ­è¯­ï¼Œç¿»è¯‘æˆè‹±æ–‡ï¼Œå´ä¸€å¬å°±çŸ¥é“æ˜¯ä¸­å¼è‹±æ–‡ã€‚â€œè‹¥æžœæˆ‘æ²¡è®°é”™çš„è¯â€¦â€ ç”¨è‹±è¯­æ€Žä¹ˆè¯´ï¼Ÿæ˜¯ If I didnâ€™t remembered wrongâ€¦å—ï¼Ÿæ˜¯è‹±è¯­é‡Œå°±æ²¡æœ‰è¿™æ ·çš„è¡¨è¾¾ï¼Œè¿˜æ˜¯æˆ‘ä»¬ä¸çŸ¥é“å®ƒçš„åœ°é“è¡¨è¾¾æ–¹å¼å‘¢ï¼Ÿ è€Œæ‰€è°“çš„â€œä¸åœ°é“â€ï¼Œå…¶å®žä¸è¿‡ç”¨æ¯è¯­çš„è¡¨è¾¾ä¹ æƒ¯åŽ»è¯´å¤–è¯­ã€‚æ¯”å¦‚ï¼š â€¢ å¦‚æžœæˆ‘æ²¡è®°é”™çš„è¯â€¦â€¦ â€¢ æˆ‘ä»Žæœªæƒ³è¿‡â€¦â€¦ â€¢ ä½ ç«Ÿç„¶è·Ÿæˆ‘è¿™ä¹ˆè¯´è¯ï¼ â€¢ å°±çŸ¥é“ä½ æœ‰è¿™æœ¬äº‹ï¼ â€¢ (è¿™)å¬ç€è€³ç†Ÿå§ï¼Ÿ â€¢ æˆ‘æƒ³ä¸èµ·æ¥é‚£åå­—äº†â€¦â€¦è¿™äº›å¥å­ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­å¿…ç„¶ç”¨åˆ°çš„å¥å­ï¼ˆæˆ–ç‰‡æ®µï¼‰ï¼Œå¯æ˜¯ï¼Œå¦‚æžœâ€œç›´è¯‘â€çš„è¯ï¼Œå°±å¾ˆåˆ«æ‰­ï¼š â€¢ If I didnâ€™t remembered wrongâ€¦ â€¢ I never thought of/thatâ€¦ â€¢ How dare you talking to me like this! â€¢ I know you have such a capability! â€¢ Does it sound familiar? â€¢ I cannot remember that nameâ€¦åŒæ ·çš„è¯­å¢ƒé‡Œï¼Œâ€œåœ°é“â€çš„è¯´æ³•æ˜¯è¿™æ ·çš„ï¼š â€¢ If my memory serves, â€¦ â€¢ It never occurred to me thatâ€¦ â€¢ Are we really having this conversation? â€¢ Always knew you had it in you! â€¢ Does it ring a bell to you? â€¢ That name escapes meâ€¦.çœ‹å®Œè¿™å‡ ä¸ªåœ°é“çš„ç¿»è¯‘åŽï¼Œæ˜¯ä¸æ˜¯æœ‰ç§ä¸€æ‹å¤§è…¿ï¼Œé†é†çŒé¡¶ä¹‹å¿«æ„Ÿã€‚ æ— æ„ä¸­çœ‹åˆ°æŽç¬‘æ¥çš„ ã€Šäººäººéƒ½èƒ½ç”¨è‹±è¯­ã€‹ï¼Œæ–¹æ³•è®ºç±»çš„ä¹¦ä¸éœ€è¦å¤šè¯»ï¼Œè¿™äº›ä¹¦åœ¨æˆ‘çœ‹æ¥åœ¨æˆ‘çœ‹æ¥å…¶å®žæŒºä¸é è°±ï¼Œè¦å­¦è‹±è¯­å°±åŽ»å­¦è‹±è¯­å•Šï¼Œçœ‹è‹±è¯­çš„å­¦ä¹ èµ„æ–™å•Šï¼Œä½†æ˜¯ï¼Œé—²æ¥æ— äº‹æ—¶é€‰ä¸€ä¸¤æœ¬è¿˜æ˜¯å°±å¯ä»¥ä¸€è¯»çš„ï¼Œæˆ–è®¸ä¼šæœ‰è€³ç›®ä¸€æ–°çš„è®ºè§é¢ è¦†ä½ çš„ä¸€äº›å›ºæœ‰æ€ç»´ï¼Œæˆ–è€…ç§°ä¹‹ä¸ºå¸¸è¯†çš„ä¸œè¥¿ï¼Œä¸ä¸€å®šè®©ä½ çš„å­¦ä¹ äº‹åŠåŠŸå€ï¼Œä½†è‡³å°‘å¼€æ‹“äº†ä½ çš„æ€ç»´ï¼Œä¹Ÿèˆ’ç¼“ä¸‹å­¦ä¹ å¸¦æ¥çš„çš„ç´§ç»·çŠ¶æ€ã€‚ å‚è€ƒèµ„æ–™ï¼š çŸ¥ç¬”å¢¨ â€“ã€Šäººäººéƒ½èƒ½ç”¨è‹±è¯­ â€“ æŽç¬‘æ¥ã€‹]]></content>
      <categories>
        <category>English Learning</category>
      </categories>
      <tags>
        <tag>English</tag>
        <tag>è‹±è¯­å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HIVEå’ŒHBASEåŒºåˆ«]]></title>
    <url>%2F2017%2F06%2F06%2F2017-06-06%2F</url>
    <content type="text"><![CDATA[ä»Žæž¶æž„å›¾ä¸­ä¸éš¾çœ‹å‡ºï¼ŒHiveæ˜¯è¿è¡Œåœ¨MapReduceä¹‹ä¸Šçš„ï¼Œè€ŒHbaseåˆ™æ˜¯åœ¨æ›´åº•å±‚çš„HDFSä¹‹ä¸Šï¼Œä»–ä»¬çš„è¯»å†™å’ŒæŸ¥è¯¢ç‰¹ç‚¹ä¹Ÿå› æ­¤è€Œè¿¥ç„¶ä¸åŒã€‚ å¦‚æžœè‹±è¯­ä¸é”™çš„è¯ï¼Œè¯·ç›´æŽ¥è·³åˆ°è‹±æ–‡åŽŸç‰ˆ 1. ä¸¤è€…åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Apache Hive æ˜¯ä¸€ä¸ªæž„å»ºåœ¨HadoopåŸºç¡€è®¾æ–½ä¹‹ä¸Šçš„æ•°æ®ä»“åº“ã€‚é€šè¿‡Hiveå¯ä»¥ä½¿ç”¨HQLè¯­è¨€æŸ¥è¯¢å­˜æ”¾åœ¨HDFSä¸Šçš„æ•°æ®ã€‚HQLæ˜¯ä¸€ç§ç±»SQLè¯­è¨€ï¼Œè¿™ç§è¯­è¨€æœ€ç»ˆè¢«è½¬åŒ–ä¸ºMap/Reduce. è™½ç„¶Hiveæä¾›äº†SQLæŸ¥è¯¢åŠŸèƒ½ï¼Œä½†æ˜¯Hiveä¸èƒ½å¤Ÿè¿›è¡Œäº¤äº’æŸ¥è¯¢â€“å› ä¸ºå®ƒåªèƒ½å¤Ÿåœ¨Haoopä¸Šæ‰¹é‡çš„æ‰§è¡ŒHadoopã€‚ Apache HBase æ˜¯ä¸€ç§Key/Valueç³»ç»Ÿï¼Œä¸€ç§è¿è¡ŒäºŽHDFSé¡¶å±‚çš„NoSQL(=Not Only SQLï¼Œæ³›æŒ‡éžå…³ç³»åž‹çš„æ•°æ®åº“)æ•°æ®åº“ç³»ç»Ÿã€‚åŒºåˆ«äºŽHiveï¼ŒHBaseå…·å¤‡éšå³è¯»å†™åŠŸèƒ½ï¼Œæ˜¯ä¸€ç§é¢å‘åˆ—çš„æ•°æ®åº“ã€‚å’ŒHiveä¸ä¸€æ ·ï¼ŒHbaseçš„èƒ½å¤Ÿåœ¨å®ƒçš„æ•°æ®åº“ä¸Šå®žæ—¶è¿è¡Œï¼Œè€Œä¸æ˜¯è¿è¡ŒMapReduceä»»åŠ¡ã€‚ Hbaseè¢«åˆ†åŒºä¸ºè¡¨æ ¼ï¼Œè¡¨æ ¼åˆè¢«è¿›ä¸€æ­¥åˆ†å‰²ä¸ºåˆ—ç°‡ã€‚åˆ—ç°‡å¿…é¡»ä½¿ç”¨schemaå®šä¹‰ï¼Œåˆ—ç°‡å°†æŸä¸€ç±»åž‹åˆ—é›†åˆèµ·æ¥ï¼ˆåˆ—ä¸è¦æ±‚schemaå®šä¹‰ï¼‰ã€‚ä¾‹å¦‚ï¼Œâ€œmessageâ€åˆ—ç°‡å¯èƒ½åŒ…å«ï¼šâ€œtoâ€, â€fromâ€ â€œdateâ€, â€œsubjectâ€, å’Œâ€bodyâ€. æ¯ä¸€ä¸ª key/valueå¯¹åœ¨Hbaseä¸­è¢«å®šä¹‰ä¸ºä¸€ä¸ªcellï¼Œæ¯ä¸€ä¸ªkeyç”±row-keyï¼Œåˆ—ç°‡ã€åˆ—å’Œæ—¶é—´æˆ³ç»„æˆã€‚ åœ¨Hbaseä¸­ï¼Œè¡Œæ˜¯key/valueæ˜ å°„çš„é›†åˆï¼Œè¿™ä¸ªæ˜ å°„é€šè¿‡row-keyæ¥å”¯ä¸€æ ‡è¯†ã€‚Hbaseåˆ©ç”¨Hadoopçš„åŸºç¡€è®¾æ–½ï¼Œå¯ä»¥åˆ©ç”¨é€šç”¨çš„è®¾å¤‡è¿›è¡Œæ°´å¹³çš„æ‰©å±•ã€‚ 2. ä¸¤è€…çš„ç‰¹ç‚¹Hiveå¸®åŠ©ç†Ÿæ‚‰SQLçš„äººè¿è¡ŒMapReduceä»»åŠ¡ã€‚å› ä¸ºå®ƒæ˜¯JDBCå…¼å®¹çš„ï¼ŒåŒæ—¶ï¼Œå®ƒä¹Ÿèƒ½å¤Ÿå’ŒçŽ°å­˜çš„SQLå·¥å…·æ•´åˆåœ¨ä¸€èµ·ã€‚**è¿è¡ŒHiveæŸ¥è¯¢ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œå› ä¸ºå®ƒä¼šé»˜è®¤éåŽ†è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®ã€‚** è™½ç„¶æœ‰è¿™æ ·çš„ç¼ºç‚¹ï¼Œä¸€æ¬¡éåŽ†çš„æ•°æ®é‡å¯ä»¥é€šè¿‡Hiveçš„åˆ†åŒºæœºåˆ¶æ¥æŽ§åˆ¶ã€‚åˆ†åŒºå…è®¸åœ¨æ•°æ®é›†ä¸Šè¿è¡Œè¿‡æ»¤æŸ¥è¯¢ï¼Œè¿™äº›æ•°æ®é›†å­˜å‚¨åœ¨ä¸åŒçš„æ–‡ä»¶å¤¹å†…ï¼ŒæŸ¥è¯¢çš„æ—¶å€™åªéåŽ†æŒ‡å®šæ–‡ä»¶å¤¹ï¼ˆåˆ†åŒºï¼‰ä¸­çš„æ•°æ®ã€‚è¿™ç§æœºåˆ¶å¯ä»¥ç”¨æ¥ï¼Œä¾‹å¦‚ï¼Œåªå¤„ç†åœ¨æŸä¸€ä¸ªæ—¶é—´èŒƒå›´å†…çš„æ–‡ä»¶ï¼Œåªè¦è¿™äº›æ–‡ä»¶åä¸­åŒ…æ‹¬äº†æ—¶é—´æ ¼å¼ã€‚ HBaseé€šè¿‡å­˜å‚¨key/valueæ¥å·¥ä½œã€‚å®ƒæ”¯æŒå››ç§ä¸»è¦çš„æ“ä½œ: â€¢ æ·»åŠ æˆ–æ›´æ–°æ•°æ®è¡Œ â€¢ æ‰«æèŽ·å–æŸèŒƒå›´å†…çš„cells â€¢ ä¸ºæŸä¸€å…·ä½“æ•°æ®è¡Œè¿”å›žå¯¹åº”çš„cells â€¢ ä»Žæ•°æ®è¡¨ä¸­åˆ é™¤æ•°æ®è¡Œ/åˆ—ï¼Œæˆ–åˆ—çš„æè¿°ä¿¡æ¯ â€¢ åˆ—ä¿¡æ¯å¯ç”¨äºŽèŽ·å–æ•°æ®å˜åŠ¨å‰çš„å–å€¼ï¼ˆé€è¿‡HBaseåŽ‹ç¼©ç­–ç•¥å¯ä»¥åˆ é™¤åˆ—ä¿¡æ¯åŽ†å²è®°å½•æ¥é‡Šæ”¾å­˜å‚¨ç©ºé—´ï¼‰ã€‚ è™½ç„¶HBaseåŒ…æ‹¬è¡¨æ ¼ï¼Œä½†æ˜¯schemaä»…ä»…è¢«è¡¨æ ¼å’Œåˆ—ç°‡æ‰€è¦æ±‚ï¼Œåˆ—ä¸éœ€è¦schemaã€‚Hbaseçš„è¡¨æ ¼åŒ…æ‹¬å¢žåŠ /è®¡æ•°åŠŸèƒ½ã€‚ 3. é™åˆ¶Hiveä¸æ”¯æŒå¸¸è§„çš„SQLæ›´æ–°è¯­å¥ï¼Œå¦‚ï¼šæ•°æ®æ’å…¥ï¼Œæ›´æ–°ï¼Œåˆ é™¤ã€‚å› ä¸ºå…¶å¯¹æ•°æ®çš„æ“ä½œæ˜¯é’ˆå¯¹æ•´ä¸ªæ•°æ®è¡¨çš„ã€‚å¦å¤–ï¼Œç”±äºŽhiveåœ¨hadoopä¸Šè¿è¡Œæ‰¹é‡æ“ä½œï¼Œå®ƒéœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´ï¼Œé€šå¸¸æ˜¯å‡ åˆ†é’Ÿåˆ°å‡ ä¸ªå°æ—¶æ‰å¯ä»¥èŽ·å–åˆ°æŸ¥è¯¢çš„ç»“æžœã€‚Hiveå¿…é¡»æä¾›é¢„å…ˆå®šä¹‰å¥½çš„schemaå°†æ–‡ä»¶å’Œç›®å½•æ˜ å°„åˆ°åˆ—ï¼Œå¹¶ä¸”Hiveä¸ŽACIDä¸å…¼å®¹ã€‚HBaseæŸ¥è¯¢æ˜¯é€šè¿‡ç‰¹å®šçš„è¯­è¨€æ¥ç¼–å†™çš„ï¼Œè¿™ç§è¯­è¨€éœ€è¦é‡æ–°å­¦ä¹ ã€‚ç±»SQLçš„åŠŸèƒ½å¯ä»¥é€šè¿‡Apache Phonenixå®žçŽ°ï¼Œä½†è¿™æ˜¯ä»¥å¿…é¡»æä¾›schemaä¸ºä»£ä»·çš„ã€‚å¦å¤–ï¼ŒHbaseä¹Ÿå¹¶ä¸æ˜¯å…¼å®¹æ‰€æœ‰çš„ACIDç‰¹æ€§ï¼Œè™½ç„¶å®ƒæ”¯æŒæŸäº›ç‰¹æ€§ã€‚æœ€åŽä½†æ˜¯æœ€é‡è¦çš„â€“ä¸ºäº†è¿è¡ŒHbaseï¼ŒZookeeperæ˜¯å¿…é¡»çš„ï¼Œzookeeperæ˜¯ä¸€ä¸ªç”¨æ¥è¿›è¡Œåˆ†å¸ƒå¼åè°ƒçš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡åŒ…æ‹¬é…ç½®æœåŠ¡ï¼Œç»´æŠ¤å…ƒä¿¡æ¯å’Œå‘½åç©ºé—´æœåŠ¡ã€‚ 4. åº”ç”¨åœºæ™¯Hiveé€‚åˆç”¨æ¥ å¯¹ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®è¿›è¡Œåˆ†æžæŸ¥è¯¢ï¼Œé€‚ç”¨äºŽç½‘ç»œæ—¥å¿—ç­‰æ•°æ®é‡å¤§ã€é™æ€çš„æ•°æ®æŸ¥è¯¢ ã€‚ä¾‹å¦‚ï¼Œç”¨æ¥è®¡ç®—è¶‹åŠ¿æˆ–è€…ç½‘ç«™çš„æ—¥å¿—ã€‚Hiveä¸åº”è¯¥ç”¨æ¥è¿›è¡Œå®žæ—¶çš„æŸ¥è¯¢ã€‚å› ä¸ºå®ƒéœ€è¦å¾ˆé•¿æ—¶é—´æ‰å¯ä»¥è¿”å›žç»“æžœã€‚ Hbaseéžå¸¸é€‚åˆç”¨æ¥ è¿›è¡Œå¤§æ•°æ®çš„å®žæ—¶æŸ¥è¯¢ã€‚Facebookç”¨Hbaseè¿›è¡Œæ¶ˆæ¯å’Œå®žæ—¶çš„åˆ†æžã€‚å®ƒä¹Ÿå¯ä»¥ç”¨æ¥ç»Ÿè®¡Facebookçš„è¿žæŽ¥æ•°ã€‚ 5. æ€»ç»“Hiveå’ŒHbaseæ˜¯ä¸¤ç§åŸºäºŽHadoopçš„ä¸åŒæŠ€æœ¯â€“Hiveæ˜¯ä¸€ç§ç±»SQLçš„å¼•æ“Žï¼Œå¹¶ä¸”è¿è¡ŒMapReduceä»»åŠ¡ï¼ŒHbaseæ˜¯ä¸€ç§åœ¨Hadoopä¹‹ä¸Šçš„NoSQL çš„Key/valeæ•°æ®åº“ã€‚å½“ç„¶ï¼Œè¿™ä¸¤ç§å·¥å…·æ˜¯å¯ä»¥åŒæ—¶ä½¿ç”¨çš„ã€‚å°±åƒç”¨Googleæ¥æœç´¢ï¼Œç”¨FaceBookè¿›è¡Œç¤¾äº¤ä¸€æ ·ï¼ŒHiveå¯ä»¥ç”¨æ¥è¿›è¡Œç»Ÿè®¡æŸ¥è¯¢ï¼ŒHBaseå¯ä»¥ç”¨æ¥è¿›è¡Œå®žæ—¶æŸ¥è¯¢ï¼Œæ•°æ®ä¹Ÿå¯ä»¥ä»ŽHiveå†™åˆ°Hbaseï¼Œè®¾ç½®å†ä»ŽHbaseå†™å›žHiveã€‚ä¾‹å¦‚ï¼šåˆ©ç”¨Hiveå¤„ç†é™æ€ç¦»çº¿æ•°æ®ï¼Œåˆ©ç”¨HBaseè¿›è¡Œè”æœºå®žæ—¶æŸ¥è¯¢ï¼Œè€ŒåŽå¯¹ä¸¤è€…é—´çš„ç»“æžœé›†è¿›è¡Œæ•´åˆå½’å¹¶ï¼Œä»Žè€Œä½¿å¾—æ•°æ®å®Œæ•´ä¸”æ°¸è‘†é’æ˜¥ï¼Œä¸ºè¿›ä¸€æ­¥çš„å•†ä¸šåˆ†æžæä¾›è‰¯å¥½æ”¯æŒã€‚ 6.è‹±æ–‡åŽŸç‰ˆä¸‡ä¸€ä½ è‹±è¯­ä¸é”™å´ç¿»ä¸äº†å¢™ï¼Œé‚£å¤šå°´å°¬å•Šã€‚ðŸ˜‚ç»™ä½ å‡†å¤‡äº†è‹±æ–‡åŽŸç‰ˆï¼Œè¯·äº«ç”¨ã€‚ Hive vs. HBase By Saggi Neumann Big Data May 26, 2014 Comparing Hive with HBase is like comparing Google with Facebook - although they compete over the same turf (our private information), they donâ€™t provide the same functionality. But things can get confusing for the Big Data beginner when trying to understand what Hive and HBase do and when to use each one of them. Letâ€™s try and clear it up. What They DoApache Hive is a data warehouse infrastructure built on top of Hadoop. It allows for querying data stored on HDFS for analysis via HQL, an SQL-like language that gets translated to MapReduce jobs. Despite providing SQL functionality, Hive does not provide interactive querying yet - it only runs batch processes on Hadoop.Apache HBase is a NoSQL key/value store which runs on top of HDFS. Unlike Hive, HBase operations run in real-time on its database rather than MapReduce jobs. HBase is partitioned to tables, and tables are further split into column families. Column families, which must be declared in the schema, group together a certain set of columns (columns donâ€™t require schema definition). For example, the â€œmessageâ€ column family may include the columns: â€œtoâ€, â€œfromâ€, â€œdateâ€, â€œsubjectâ€, and â€œbodyâ€. Each key/value pair in HBase is defined as a cell, and each key consists of row-key, column family, column, and time-stamp. A row in HBase is a grouping of key/value mappings identified by the row-key. HBase enjoys Hadoopâ€™s infrastructure and scales horizontally using off the shelf servers. FeaturesHive can help the SQL savvy to run MapReduce jobs. Since itâ€™s JDBC compliant, it also integrates with existing SQL based tools. Running Hive queries could take a while since they go over all of the data in the table by default. Nonetheless, the amount of data can be limited via Hiveâ€™s partitioning feature. Partitioning allows running a filter query over data that is stored in separate folders, and only read the data which matches the query. It could be used, for example, to only process files created between certain dates, if the files include the date format as part of their name.HBase works by storing data as key/value. It supports four primary operations: put to add or update rows, scan to retrieve a range of cells, get to return cells for a specified row, and delete to remove rows, columns or column versions from the table. Versioning is available so that previous values of the data can be fetched (the history can be deleted every now and then to clear space via HBase compactions). Although HBase includes tables, a schema is only required for tables and column families, but not for columns, and it includes increment/counter functionality. LimitationsHive does not currently support update statements. Additionally, since it runs batch processing on Hadoop, it can take minutes or even hours to get back results for queries. Hive must also be provided with a predefined schema to map files and directories into columns and it is not ACID compliant.HBase queries are written in a custom language that needs to be learned. SQL-like functionality can be achieved via Apache Phoenix, though it comes at the price of maintaining a schema. Furthermore, HBase isnâ€™t fully ACID compliant, although it does support certain properties. Last but not least - in order to run HBase, ZooKeeper is required - a server for distributed coordination such as configuration, maintenance, and naming. Use CasesHive should be used for analytical querying of data collected over a period of time - for instance, to calculate trends or website logs. Hive should not be used for real-time querying since it could take a while before any results are returned.HBase is perfect for real-time querying of Big Data. Facebook use it for messaging and real-time analytics. They may even be using it to count Facebook likes. SummaryHive and HBase are two different Hadoop based technologies - Hive is an SQL-like engine that runs MapReduce jobs, and HBase is a NoSQL key/value database on Hadoop. But hey, why not use them both? Just like Google can be used for search and Facebook for social networking, Hive can be used for analytical queries while HBase for real-time querying. Data can even be read and written from Hive to HBase and back again. å‚è€ƒèµ„æ–™ï¼šä¸»è¦æºäºŽï¼šHIVEå’ŒHBASEåŒºåˆ« æ±‰åŒ–äºŽ åŽŸæ–‡å‡ºå¤„éƒ¨åˆ†æºäºŽï¼šæµ…è°ˆHive vs. HBase åŒºåˆ«åœ¨å“ªé‡Œ]]></content>
      <categories>
        <category>Bigdata</category>
      </categories>
      <tags>
        <tag>Bigdata</tag>
        <tag>Hive</tag>
        <tag>Hbase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ï¼Œå…¬å¼]]></title>
    <url>%2F2017%2F06%2F06%2F%E5%9C%A8hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%EF%BC%8C%E9%9F%B3%E4%B9%90%EF%BC%8C%E8%A7%86%E5%B1%8F%EF%BC%8C%E5%85%AC%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ï¼Œå…¬å¼.è¿™ç¯‡åšå®¢æœ¬æ¥æ˜¯æ‹¿æ¥æµ‹è¯•å›¾ç‰‡éŸ³ä¹çš„æ’å…¥çš„ï¼Œä½†æ˜¯æµ‹ç€æµ‹ç€ï¼Œå¿½ç„¶çµå…‰ä¸€çŽ°ï¼Œä¸ºä»€ä¹ˆä¸ç›´æŽ¥å†™æˆä¸€ç¯‡åšå®¢å‘¢ï¼Ÿ é¡µå†…è·³è½¬æ·»åŠ ä¸€åˆ™å°æŠ€å·§ï¼Œå®žçŽ°markdowné¡µå†…è·³è½¬ã€‚htmlæ ‡ç­¾å®žçŽ° 1. å®šä¹‰ä¸€ä¸ªé”š(id)ï¼š&lt;span id=&quot;jump&quot;&gt;è·³è½¬åˆ°çš„åœ°æ–¹&lt;/span&gt; 2. ä½¿ç”¨markdownè¯­æ³•ï¼š[ç‚¹å‡»è·³è½¬](#jump) Exampleï¼šæˆ‘åœ¨æœ¬æ–‡å‚è€ƒæ–‡çŒ®å‰åŠ äº†ä¸€è¡Œ&lt;span id=&quot;jump&quot;&gt; &lt;/span&gt;ï¼Œç„¶åŽåœ¨æ­¤å¤„ç¼–å†™[ç‚¹å‡»è·³è½¬](#jump)ç‚¹å‡»è·³è½¬ å›¾ç‰‡å…³äºŽæ’å…¥å›¾ç‰‡ï¼Œç½‘ä¸Šçš„å›¾åºŠï¼ˆæ³¨å†Œéº»çƒ¦ï¼Œä½¿ç”¨éº»çƒ¦ï¼Œéœ€è¦ä¸Šä¼ ï¼Œç½‘é€Ÿä¸è¡Œå’‹åŠžï¼Ÿç±»ä¼¼Lightshot Screenshotï¼Œä¸Šä¼ åŸºæœ¬30ç§’ï¼Œå¦‚æžœä½ è¦å†™ä¸€ä»½éœ€è¦è¯¦ç»†æˆªå›¾çš„å®‰è£…æ–‡æ¡£ï¼Œé‚£ä¼°è®¡ä¸€å¤©çš„æ—¶é—´éƒ½èŠ±åœ¨ä¸Šä¼ å›¾ç‰‡ä¸Šäº†ï¼‰ï¼Œhexoå®˜æ–¹çš„æ–¹æ³•ï¼ˆå°†å›¾ç‰‡æ”¾åœ¨source/image/ä¸‹ï¼Œè¿™æ ·åœ¨ç¼–è¾‘å™¨ä¸­å¹¶ä¸èƒ½å®žæ—¶é¢„è§ˆï¼Œè€Œä¸”ä½ è¿˜éœ€è¦è®°ä½å›¾ç‰‡çš„åå­—ã€‚ï¼‰éƒ½ä»¤äººè§‰å¾—æ’å…¥å›¾ç‰‡ç®€ç›´æ˜¯ä¸ªå™©æ¢¦ã€‚çŸ¥é“æˆ‘é‡åˆ°äº†MWebï¼Œä¸€ä¸ªå¯ä»¥ç›´æŽ¥æŠŠå›¾ç‰‡æ‹–å…¥å³å¯å®Œæˆå›¾ç‰‡æ’å…¥çš„Markdownç¼–è¾‘å™¨ï¼Œæˆ–è€…ä½¿ç”¨å¾®ä¿¡æˆªå›¾Ctrl+command+aä¿å­˜(è®°å¾—æ˜¯ç‚¹ä¸‹è½½æŒ‰é’®ï¼Œä¸æ˜¯ç‚¹é‚£ä¸ªå°çº¢å‹¾)åŽï¼Œç›´æŽ¥Command+v,å›¾ç‰‡å°±æ’å…¥äº†ã€‚è€Œä¸”å…¶ä½Žè°ƒç®€æ´çš„ç•Œé¢ï¼Œç®€å•å®žç”¨çš„å¿«æ·é”®ï¼Œå®Œç¾Žçš„è¯ é‡Šäº†ä»€ä¹ˆå«ä¼˜é›…çš„å†™ä½œæ–¹å¼ï¼ˆä¸€äº›bugå’Œç¨‹åºå´©æºƒé™¤å¤–ï¼‰ã€‚å½“ç„¶å¦‚æ­¤ç¾Žè…»è€Œåˆå¼ºå¤§ï¼Œå¿…ç„¶ä¸ä¾¿å®œçš„ï¼Œå®˜æ–¹ä»·æ ¼ï¿¥98ã€‚ä¸è¦æ¡‘å¿ƒï¼Œä»–è¿˜æœ‰å…è´¹çš„liteç‰ˆï¼Œä¸¤ä¸ªç‰ˆæœ¬çš„åŒºåˆ«ä¸»è¦æ˜¯ä»¥ä¸‹å‡ ç‚¹ï¼š æ–‡æ¡£åº“æ–‡æ¡£é™åˆ¶åœ¨ 10 ä¸ªä»¥å†…ï¼›ï¼ˆç„¶é¹…ï¼Œå†™hexoä¸€ç›´éƒ½æ˜¯ç”¨å¤–éƒ¨æ¨¡å¼ï¼ŒåŽ‹æ ¹ä¸éœ€è¦æ–‡æ¡£åº“ï¼‰å¤–éƒ¨æ¨¡å¼å¯å¼•å…¥çš„æ–‡ä»¶å¤¹é™åˆ¶åœ¨ 1 ä¸ªï¼›ï¼ˆç„¶é¹…ï¼Œä¸€ä¸ªæ–‡ä»¶ä¸‹å¯ä»¥æœ‰æ— æ•°ä¸ªæ–‡ä»¶å¤¹ï¼‰æ”¯æŒçš„å‘å¸ƒæœåŠ¡åªå¯å¢žåŠ  1 ä¸ªï¼›ï¼ˆç„¶é¹…ï¼Œå†™hexoåšå®¢ï¼Œä¸éœ€è¦ç¼–è¾‘å™¨æ¥å¸®æˆ‘å‘å¸ƒï¼‰ å½“ç„¶ï¼ŒMWebä¸åªæ˜¯æ‹¿æ¥å†™hexoåšå®¢çš„ï¼Œæ›´å¤šä¿¡æ¯è¯·æˆ³MWebå®˜ç½‘ä»¥åŠå¸®åŠ©æ–‡æ¡£ã€‚ 1![](/media/14967219636093.jpg) å½“ç„¶ï¼Œmarkdownæ˜¯æ”¯æŒGIFåŠ¨å›¾çš„ï¼Œä½¿ç”¨æ–¹æ³•å’Œå›¾ç‰‡ä¸€è‡´ï¼Œåªè¦ä½ æ”¾çš„é“¾æŽ¥æ˜¯ä¸€å¼ åŠ¨å›¾çš„é“¾æŽ¥å°±è¡Œã€‚ Eaxmple: 1![](http://upload-images.jianshu.io/upload_images/291600-3b00271942fef854.gif?imageMogr2/auto-orient/strip) éŸ³ä¹1.ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ’­æ”¾å™¨æ¯”å¦‚ä½ å³é”®æŸé¦–æ­Œï¼Œå¤åˆ¶é“¾æŽ¥çš„åˆ°é“¾æŽ¥ä¸ºhttp://music.163.com/#/m/song?id=2919622åªéœ€è¦å…¶ä¸­çš„id=2919622å°±å¤Ÿäº†ã€‚ é‚£ä¹ˆåœ¨æ–‡ç« ä¸­ä½¿ç”¨ifnameæ ‡ç­¾å¦‚ä¸‹ï¼Œè®°å¾—å°†å…¶ä¸­çš„idæ”¹ä¸ºä½ æƒ³è¦çš„éŸ³ä¹idã€‚ 1&lt;iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=430 height=86 src="//music.163.com/outchain/player?type=2&amp;id=2919622&amp;auto=0&amp;height=66"&gt;&lt;/iframe&gt; 2.ä½¿ç”¨ Hexo æ’ä»¶æ’å…¥éŸ³ä¹/éŸ³é¢‘hexo-tag-aplayerï¼šhttps://github.com/grzhan/hexo-tag-aplayerå®˜æ–¹ç®€ä»‹ï¼šEmbed APlayer(https://github.com/DIYgod/APlayer) in Hexo posts/pages.å¾ˆæ˜Žæ˜¾ï¼Œé™¤äº†postsï¼Œè¿˜å¯ä»¥åœ¨pagesé¡µé¢ä½¿ç”¨ã€‚ Installation: 1npm install --save hexo-tag-aplayer Usage:1&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125; å‚æ•°è¯´æ˜ŽåŠè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æˆ³githubï¼Œè¿˜æœ‰åŠ å…¥æ­Œè¯å’Œæ’­æ”¾ä¾‹è¡¨ç­‰å¼ºå¤§åŠŸèƒ½ç­‰ä½ æŽ¢ç´¢ã€‚Example:1&#123;% aplayer "å¥¹çš„ç«æ¯›" "å‘¨æ°ä¼¦" "http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3" "http://home.ustc.edu.cn/~mmmwhy/jay.jpg" "autoplay=false" %&#125; new APlayer({ element: document.getElementById("aplayer0"), narrow: false, autoplay: false, showlrc: 0, music: { title: "å¥¹çš„ç«æ¯›", author: "å‘¨æ°ä¼¦", url: "http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3", pic: "http://home.ustc.edu.cn/~mmmwhy/jay.jpg", } }); ä½¿ç”¨å”±å§å½•åˆ¶å¹¶ä¸Šä¼ éŸ³é¢‘ï¼Œç”¨æµè§ˆå™¨æ‰“å¼€åˆ†äº«é“¾æŽ¥,å³é”®æ˜¾ç¤ºç½‘é¡µæºä»£ç  æœç´¢mp3ï¼Œæ‰¾åˆ°ä½ çš„éŸ³é¢‘é“¾æŽ¥ã€‚ 1&#123;% aplayer "Job or Education" "Chant" "http://lzscuw.changba.com/899486104.mp3" "http://aliimg.changba.com/cache/photo/735572112_640_640.jpg" "autoplay=false" %&#125; new APlayer({ element: document.getElementById("aplayer1"), narrow: false, autoplay: false, showlrc: 0, music: { title: "Job or Education", author: "Chant", url: "http://lzscuw.changba.com/899486104.mp3", pic: "http://aliimg.changba.com/cache/photo/735572112_640_640.jpg", } }); è§†é¢‘1ä½¿ç”¨æ ‡ç­¾æ’å…¥è§†é¢‘1.1ä½¿ç”¨iframeæ ‡ç­¾æ’å…¥è§†é¢‘ä¸€èˆ¬çš„å›½å†…ç½‘ç«™ï¼ŒèŽ·å–åµŒå…¥ä»£ç çš„æ–¹æ³•å¦‚ä¸‹å›¾ï¼š Youtubeï¼Œå³é”®è§†é¢‘ï¼Œå¤åˆ¶åµŒå…¥ä»£ç ï¼Œç›´æŽ¥å°†åµŒå…¥ä»£ç ç²˜è´´è¿›ä½ çš„markdownæ–‡ç« å°±OKå•¦ã€‚ æ­¤æ–¹æ³•åœ¨åµŒå…¥Youtubeè§†é¢‘æ—¶ï¼Œå…¶æˆè´¥ä¸Žhexoä¸»é¢˜æœ‰å…³ï¼Œåœ¨æœ¬ä¸»é¢˜ä¸‹åŠ è½½åµŒå…¥å¤±è´¥ï¼Œåœ¨åˆ«çš„ä¸»é¢˜ä¸‹ï¼Œæ¯”å¦‚maupassantæˆåŠŸã€‚1&lt;iframe width=&quot;854&quot; height=&quot;480&quot; src=&quot;https://www.youtube.com/embed/xqf2DJgucsU&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt; ä½†è…¾è®¯è§†é¢‘çš„å¼•ç”¨åµŒå…¥æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚1&lt;iframe frameborder=&quot;0&quot; width=&quot;640&quot; height=&quot;498&quot; src=&quot;https://v.qq.com/iframe/player.html?vid=g0512cgb51w&amp;tiny=0&amp;auto=0&quot; allowfullscreen&gt;&lt;/iframe&gt; 1.2ä½¿ç”¨embedæ ‡ç­¾æ’å…¥è§†å±åœ¨ä¼˜é…·ï¼Œè…¾è®¯ç­‰ç­‰ç½‘ç«™éƒ½æ˜¯ä¸€æ ·çš„æ–¹æ³•ï¼Œå¦‚å›¾ï¼šç„¶åŽå°†ä»£ç ç›´æŽ¥ç²˜è´´åˆ°ä½ çš„markdownå°±OKäº†ã€‚1&lt;embed src=&quot;https://imgcache.qq.com/tencentvideo_v1/playerv3/TPout.swf?max_age=86400&amp;v=20161117&amp;vid=g0512cgb51w&amp;auto=0&quot; allowFullScreen=&quot;true&quot; quality=&quot;high&quot; width=&quot;480&quot; height=&quot;400&quot; align=&quot;middle&quot; allowScriptAccess=&quot;always&quot; type=&quot;application/x-shockwave-flash&quot;&gt;&lt;/embed&gt; 2.ä½¿ç”¨hexoæ’ä»¶æ’å…¥è§†é¢‘hexo-tag-dplayerï¼šhttps://github.com/NextMoe/hexo-tag-dplayerä¸Žaplayerç±»ä¼¼ï¼Œä¸è¿‡å®ƒæ˜¯ç”¨æ¥æ’å…¥è§†é¢‘ã€‚ Installation: 1npm install hexo-tag-dplayer --save Usage: 1&#123;% dplayer key=value ... %&#125; å‚æ•°è¯´æ˜ŽåŠè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æˆ³githubExample:é¦–å…ˆï¼Œä¹Ÿæ˜¯å°ç™½æœ€éš¾çš„ä¸€æ­¥ï¼Œæ‰¾åˆ°è§†é¢‘æº ä»¥ä¸‹ä»£ç ä¸­çš„urlå³ä¸ºä½ åˆšæ‰å¤åˆ¶çš„è§†é¢‘æºé“¾æŽ¥12&#123;% dplayer &quot;url=http://ugcydzd.qq.com/flv/92/216/g0512cgb51w.p712.1.mp4?sdtfrom=v1010&amp;guid=72ffbc53bc13455246dcec4efd2c2b02&amp;vkey=0CE5FC72FB6FA6D97FD1077E0449F0AB0ADDF71FFE82014D6FA31F80237EA5C3A40C048E207507FA283E0EB1C1C3E10188B0D7CAD66E072FF8AB6BBC2D2E8E9E34631C122081535D7168D0D2723548E25E94E04EC20FD1A10848CDB66FBE45E35E6F7D1D0C3C0520AFA5331498386C8D&quot; &quot;pic=/media/14972328758364.jpg&quot; &quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;token=tokendemo&quot; %&#125; æ•ˆæžœå¦‚ä¸‹ï¼švar dplayer1 = new DPlayer({"element":document.getElementById("dplayer1"),"autoplay":false,"theme":"#FADFA3","loop":true,"video":{"url":"http://ugcydzd.qq.com/flv/92/216/g0512cgb51w.p712.1.mp4?sdtfrom=v1010&guid=72ffbc53bc13455246dcec4efd2c2b02&vkey=0CE5FC72FB6FA6D97FD1077E0449F0AB0ADDF71FFE82014D6FA31F80237EA5C3A40C048E207507FA283E0EB1C1C3E10188B0D7CAD66E072FF8AB6BBC2D2E8E9E34631C122081535D7168D0D2723548E25E94E04EC20FD1A10848CDB66FBE45E35E6F7D1D0C3C0520AFA5331498386C8D","pic":"/media/14972328758364.jpg"}}); æ­¤æ–¹æ³•youtubeè§†é¢‘çš„å¼•ç”¨è¿˜åœ¨æŽ¢ç´¢ä¸­ã€‚ var dplayer2 = new DPlayer({"element":document.getElementById("dplayer2"),"video":{"url":"https://www.youtube.com/embed/xqf2DJgucsU"}}); ä»¥ä¸‹æ˜¯å®˜æ–¹ç¤ºä¾‹ï¼Œç‚¹å‡»è®¾ç½®æŒ‰é’®è¿˜æœ‰å¼¹å¹•ã€é€Ÿåº¦ã€æ´—è„‘å¾ªçŽ¯ç­‰é€‰é¡¹ã€‚ 1&#123;% dplayer "url=http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.mp4" "addition=https://dplayer.daoapp.io/bilibili?aid=4157142" "api=http://dplayer.daoapp.io" "pic=http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.png" "id=9E2E3368B56CDBB4" "loop=yes" "theme=#FADFA3" "autoplay=false" "token=tokendemo" %&#125; var dplayer3 = new DPlayer({"element":document.getElementById("dplayer3"),"autoplay":false,"theme":"#FADFA3","loop":true,"video":{"url":"http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.mp4","pic":"http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.png"},"danmaku":{"api":"http://dplayer.daoapp.io","id":"9E2E3368B56CDBB4","token":"tokendemo","addition":["https://dplayer.daoapp.io/bilibili?aid=4157142"]}}); å‚è€ƒèµ„æ–™ï¼š1.Hexoåšå®¢ä¸­æ’å…¥éŸ³ä¹/è§†é¢‘2.markdownè¯­æ³•åŠç¼–è¾‘å™¨æŽ¨èï¼Œéƒ½æ˜¯è¸©è¿‡çš„å‘3.é¡µå†…è·³è½¬]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaè¿œç¨‹è°ƒç”¨shellè„šæœ¬]]></title>
    <url>%2F2017%2F06%2F04%2Fjava%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8shell%E8%84%9A%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[ç›®çš„ï¼šjavaç¨‹åºè°ƒç”¨è¿œç¨‹æœåŠ¡å™¨çš„shellè„šæœ¬æ¥å®žçŽ°æœåŠ¡çš„èµ·ã€åœã€é‡å¯ã€‚ å‰è¨€ï¼ˆåºŸè¯ï¼‰ï¼šç”±äºŽçŸ¥é“æˆ‘ç»éªŒä¸è¶³ï¼Œé¢†å¯¼ç»™æ–°åŒäº‹åˆ†é…ä»»åŠ¡æ—¶è¯´ï¼šâ€œè¿™ä¸ªjavaè¿œç¨‹è°ƒç”¨shellè„šæœ¬é‡å¯æœåŠ¡ï¼Œä»–ä¸¤å¯èƒ½æžä¸å‡ºæ¥ï¼Œä½ ç ”ç©¶ä¸‹å§ã€‚â€è¢«äººé„™è§†äº†ä¸€æŠŠï¼ŒäºŽæ˜¯è‡ªå·±æ­è™šæ‹Ÿæœºï¼ŒæŸ¥èµ„æ–™ï¼Œè¯•ä¸€æŠŠï¼Œçªç„¶å‘çŽ°ï¼Œå¥½å¤šäº‹æƒ…å…¶å®žæ²¡é‚£ä¹ˆéš¾å˜›ã€‚ æ­£æ–‡ï¼šStep1.å‡†å¤‡è„šæœ¬é‡å¯çš„å…³é”®åœ¨äºŽå…³é—­ï¼Œè¦å…³é—­ç¨‹åºï¼Œé‚£å°±è¦å…ˆæ‰¾åˆ°ç¨‹åºpidï¼Œç„¶åŽkillã€‚æ‰¾åˆ°æ ¸å¿ƒå‘½ä»¤ï¼ˆèŽ·å–pidï¼‰ï¼š 1ID=`ps -ef | grep "$NAME" | grep -v "grep" | grep -v kill | awk '&#123;print $2&#125;'` äºŽæ˜¯åˆæœŸåšä¸»è°ƒè¯•åŽï¼Œå†™å‡ºäº†è¿™æ ·çš„shell å¦‚æžœä½ çš„è™šæœºæ˜¯rootç”¨æˆ·ï¼Œkillå‘½ä»¤ä¼šå¾ˆå¼ºå¤§ï¼Œæ‰€ä»¥ä¸€å®šåˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºç©ºæˆ–æ•°å­—ï¼Œå¦åˆ™ï¼Œåˆ†åˆ†é’ŸæŠŠä½ çš„æ‰€æœ‰è¿›ç¨‹éƒ½killï¼Œè™šæœºçž¬é—´çˆ†ç‚¸ðŸ˜‚ï¼Œé‡å¤´å†æ¥ã€‚ 12345678910111213141516171819202122232425#!/bin/shNAME=$1##æ£€æŸ¥å‚æ•°ï¼Œä¸èƒ½ä¸ºç©ºæˆ–çº¯æ•°å­—,å¦åˆ™ä¼škillå‡ ä¹Žæ‰€æœ‰è¿›ç¨‹ï¼Œç›´æŽ¥æ­»æœºã€‚éžrootç”¨æˆ·çš„è¯ï¼Œåº”è¯¥ä¸ä¼šæ­»æœºï¼Œä¼šæŠ¥permission denied.a=`echo "$NAME" | grep [^0-9] &gt;/dev/null &amp;&amp; echo 0 || echo 1` #åˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºæ•°å­—,æ˜¯æ•°å­—åˆ™è¿”å›ž1ï¼Œä¸æ˜¯åˆ™è¿”å›ž0if [ "$NAME" == "" ]; then #$NAMEä¸€å®šè¦åŠ å¼•å·ï¼Œä¸ç„¶$NAMEä¸ºç©ºçš„æ—¶å€™å°±æˆäº†if[ == "" ],ä¼šæŠ¥é”™ï¼šunary operatorecho "æœªè¾“å…¥è¦killçš„è¿›ç¨‹å"elif [ $a = 1 ]; thenecho "è¿›ç¨‹åä¸èƒ½ä¸ºçº¯æ•°å­—"else##é‡å¯è¿›ç¨‹echo "-----------------------"echo -e "pNmae\t=\t$NAME"ID=`ps -ef | grep "$NAME" | grep -v "grep" | grep -v "restart" | awk '&#123;print $2&#125;'`echo -e "pid\t=\t$ID"echo "-----------------------"for id in $IDdokill -9 $idecho "killed $id"doneecho "-----------------------"echo "restarted" $NAME./$NAME 1&gt;/dev/null 2&gt;&amp;1 &amp;#./$NAMEfi ç„¶åŽé¢†å¯¼äº¤äºŽåšä¸»ä¸€ä»½ä¸“ä¸šçš„shellè„šæœ¬ï¼Œçž¬é—´æŠŠåšä¸»çš„ä¸‰è„šçŒ«è„šæœ¬ç§’æˆæ¸£äº†ã€‚äºŽæ˜¯åšä¸»è®¤çœŸç ”è¯»ï¼Œæ·»åŠ æ³¨é‡Šï¼Œå¹¶ç¨ä½œä¿®æ”¹å¾—åˆ°ä»¥ä¸‹è„šæœ¬ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123#!/bin/sh# -*- coding: utf-8 -*-#Filename: server.sh.Chant#Author: Chant#Email: statuschuan@gmail.com#Date: 2017-06-03#Desc:#ç”¨é€”ï¼šè¯¥è„šæœ¬ç”¨äºŽåœæ­¢ã€å¯åŠ¨æœåŠ¡#ä½¿ç”¨è¯´æ˜Žï¼š#å¯åŠ¨è¯¥è„šæœ¬æ—¶éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°å‡ä¸èƒ½ä¸ºç©º#ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼šç¨‹åºå…¥å£åç§°#ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼šå‚æ•°åç§°#æ³¨æ„äº‹é¡¹ï¼š#è¿œç¨‹è°ƒç”¨æ—¶ï¼Œè¯·å°†è„šæœ¬çŽ¯å¢ƒå˜é‡é…ç½®åˆ°/etc/bashrcæˆ–è€…ç”¨æˆ·ç›®å½•ä¸‹çš„.bashrcprint_usage()&#123; echo "Usage: $0 COMMAND" echo "where COMMAND is one of:" echo " help Help print this usage message" echo " start &lt;server_name&gt; &lt;server_param&gt; Start" echo " stop &lt;server_name&gt; &lt;server_param&gt; Stop" echo " restart &lt;server_name&gt; &lt;server_param&gt; Restart"&#125;start()&#123; #echo "start not suport now." cmd=$@ $cmd 1&gt;/dev/null 2&gt;&amp;1 &amp; #è¿™é‡Œä¸€å®šè¦å†™1&gt;/dev/null 2&gt;&amp;1 ä¸èƒ½åªå†™&amp;,å¦åˆ™è¿œç¨‹è°ƒç”¨æ—¶ï¼Œä¼šç­‰å¾…cmdçš„è¿”å›žç»“æžœ(stdOut)ï¼Œå°±ä¹ˆæ³•æ„‰å¿«åœ°çŽ©è€äº†ã€‚&#125;stop()&#123; #get arguments SERVER_NAME=$1 SERVER_PARAM=$2 PROCESS_NAME="$1 $2" #echo $PROCESS_NAME if [ "$1" = "" ]; then echo "ç¬¬äºŒä¸ªå‚æ•°ä¸èƒ½ä¸ºç©º" exit 0; fi if [ -z "$2" ]; then echo "ç¬¬ä¸‰ä¸ªå‚æ•°ä¸èƒ½ä¸ºç©º" exit 0; fi #get process's pids pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"|awk '&#123;print $2&#125;'` #Chant:ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥è¿‡æ»¤æŽ‰è„šæœ¬æœ¬èº«çš„pidï¼Œå°±ä¸ç”¨å†™åŽé¢çš„åˆ¤æ–­è¯­å¥äº†ã€‚ #ä½†æ˜¯å…¶å®žç”¨$$èŽ·å–å½“å‰è„šæœ¬pidåœ¨é€»è¾‘ä¸Šæ›´ä¸¥å¯†ï¼Œå¦åˆ™ï¼Œä¸‡ä¸€ä½ çš„è„šæœ¬åå’Œè¦æ“ä½œçš„ç¨‹åºåæœ‰ç›¸åŒéƒ¨åˆ†å°±ä¼šå‡ºé—®é¢˜ï¼Œ #eg: è„šæœ¬åä¸ºï¼šser.sh è€Œç¨‹åºåä¸ºï¼šposer.sh,é‚£ä¹ˆç”±äºŽgrep -v "$0" å°±å–ä¸åˆ°å…¶pidäº† #pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"| grep -v "$0" |awk '&#123;print $2&#125;'` # ä¸ºbasenameæŒ‡å®šä¸€ä¸ªè·¯å¾„ï¼Œbasenameå‘½ä»¤ä¼šåˆ æŽ‰æ‰€æœ‰çš„å‰ç¼€åŒ…æ‹¬æœ€åŽä¸€ä¸ªslashï¼ˆâ€˜/â€™ï¼‰å­—ç¬¦ï¼Œç„¶åŽå°†å­—ç¬¦ä¸²æ˜¾ç¤ºå‡ºæ¥ã€‚ #pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"| grep -v "$(basename $0)" |awk '&#123;print $2&#125;'` current_pid=$$ echo process pids is $pids. #kill process if [ -n "$pids" ]; #åˆ¤æ–­pidsæ˜¯å¦ä¸ºç©ºï¼Œå¼•å·å¿…é¡»åŠ ã€‚"$pids" == ""ç­‰æ•ˆ then for pid in $pids do #current shell pid shoud not kill. if [ $pid -ne $current_pid ]; then #check $pid is exist or not check=`ps -p $pid` if [ $? -eq 0 ]; then echo kill $pid start. kill -9 $pid #judge result if [ $? -eq 0 ]; then echo kill $pid success. else echo kill $pid fail. fi fi fi done else echo "$PROCESS_NAME does not exist." fi&#125;# get command argumentsCOMMAND=$1shift# support help commandscase $COMMAND in --help|-help|-h|help) print_usage exit 0 ;; "") print_usage exit 0 ;; "start") start $@ echo "$@ started" exit 0 ;; "stop") stop $@ exit 0 ;; "restart") start and stopçš„å‚æ•°éœ€è¦ä¸€è‡´æ‰å¯ä»¥ï¼Œå¦‚æžœä¸ä¸€è‡´åˆ™éœ€è¦è°ƒæ•´å‚æ•°ä¼ å…¥æ–¹å¼ stop $@ eep 3 tart $@ echo "$@ restarted" exit 0 ;;esac Step2.javaç¨‹åºè¿œç¨‹è°ƒç”¨shell 1.å¯¼å…¥éœ€è¦ä¾èµ–çš„jaråŒ…ã€‚Javaè¿œç¨‹è°ƒç”¨Shellè„šæœ¬è¿™ä¸ªç¨‹åºéœ€è¦ganymed-ssh2-build210.jaråŒ…ã€‚é‡Œé¢è¿˜æœ‰exampleåŒ…ï¼Œæ–¹ä¾¿å­¦ä¹ ã€‚ä¸ºäº†è°ƒè¯•æ–¹ä¾¿ï¼Œå¯ä»¥å°†\ganymed-ssh2-build210\srcä¸‹çš„ä»£ç ç›´æŽ¥æ‹·è´åˆ°æˆ‘ä»¬çš„å·¥ç¨‹é‡Œï¼Œæ­¤æºç çš„å¥½å¤„å°±æ˜¯æ²¡æœ‰ä¾èµ–å¾ˆå¤šå…¶ä»–çš„åŒ…ï¼Œæ‹·è´è¿‡æ¥å¹²å¹²å‡€å‡€ã€‚2.å¯¼å…¥commons-ioåŒ…ï¼Œé‡Œé¢çš„IOUtilsä¼šç»å¸¸ä½¿ç”¨ã€‚ 123456789101112131415&lt;dependencies&gt; &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/ch.ethz.ganymed/ganymed-ssh2 --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.ethz.ganymed&lt;/groupId&gt; &lt;artifactId&gt;ganymed-ssh2&lt;/artifactId&gt; &lt;version&gt;build210&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3ã€ç¼–å†™RemoteShellExecutorå·¥å…·ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125package RemoteShell;import java.io.*;import java.nio.charset.Charset;import org.apache.commons.io.IOUtils;import ch.ethz.ssh2.ChannelCondition;import ch.ethz.ssh2.Connection;import ch.ethz.ssh2.Session;import ch.ethz.ssh2.StreamGobbler;/** * Created by Chant on 2017/5/27. * è¿œç¨‹è°ƒç”¨è„šæœ¬é‡å¯æœåŠ¡ */public class RemoteShellExecutor &#123; private Connection conn; /** è¿œç¨‹æœºå™¨IP */ private String ip; /** ç”¨æˆ·å */ private String osUsername; /** å¯†ç  */ private String password; private String charset = Charset.defaultCharset().toString(); private static final int TIME_OUT = 1000 * 5 * 60; /** * æž„é€ å‡½æ•° * @param ip * @param usr * @param pasword */ public RemoteShellExecutor(String ip, String usr, String pasword) &#123; this.ip = ip; this.osUsername = usr; this.password = pasword;// System.out.println(charset); &#125; /** * ç™»å½• * @return * @throws IOException */ private boolean login() throws IOException &#123; conn = new Connection(ip); conn.connect(); return conn.authenticateWithPassword(osUsername, password); &#125; /** * æ‰§è¡Œè„šæœ¬ * * @param cmds * @return * @throws Exception */ public int exec(String cmds) throws Exception &#123; InputStream stdOut = null; InputStream stdErr = null; String outStr = ""; String outErr = ""; int ret = -1; try &#123; if (login()) &#123; // Open a new &#123;@link Session&#125; on this connection Session session = conn.openSession(); // Execute a command on the remote machine. session.execCommand(cmds); stdOut = new StreamGobbler(session.getStdout()); outStr = processStream(stdOut, charset); stdErr = new StreamGobbler(session.getStderr()); outErr = processStream(stdErr, charset); session.waitForCondition(ChannelCondition.EXIT_STATUS, TIME_OUT); System.out.println("outStr=" +"\n"+ outStr); System.out.println("outErr=" +"\n"+ outErr); ret = session.getExitStatus(); &#125; else &#123; throw new Exception("ç™»å½•è¿œç¨‹æœºå™¨å¤±è´¥" + ip); // è‡ªå®šä¹‰å¼‚å¸¸ç±» å®žçŽ°ç•¥ &#125; &#125; finally &#123; if (conn != null) &#123; conn.close(); &#125; IOUtils.closeQuietly(stdOut); IOUtils.closeQuietly(stdErr); &#125; return ret; &#125; /** * @param in * @param charset * @return * @throws IOException * @throws UnsupportedEncodingException */// private String processStream(InputStream in, String charset) throws Exception &#123;// byte[] buf = new byte[1024];// StringBuilder sb = new StringBuilder();// while (in.read(buf) != -1) &#123;// sb.append(new String(buf, charset));// &#125;// return sb.toString();// &#125; private String processStream(InputStream in, String charset)throws Exception &#123; StringBuilder sb = new StringBuilder(); BufferedReader bufr = new BufferedReader(new InputStreamReader(in,charset)); String line = null; while((line = bufr.readLine()) != null)&#123; sb.append(line); sb.append("\n");//ï¼Ÿï¼Ÿæ¢è¡Œç¬¦æ˜¯ä¾èµ–å¹³å°çš„ &#125; return sb.toString(); &#125;&#125; 4ã€Javaç¨‹åºè°ƒç”¨è¿œç¨‹Shell 1234567public static void main(String args[]) throws Exception &#123; RemoteShellExecutor("10.10.10.100", "root", "123123"); String proName = "entranceMain.sh"; String para = "1"; System.out.println(executor.exec("server.sh.Chant start " + proName +" "+ para));&#125; å°†startæ¢ä¸ºrestartï¼Œstopï¼Œæµ‹è¯•ç»“æžœå¦‚ä¸‹ï¼Œæ³¨æ„pidå‘ç”Ÿå˜åŒ–ï¼Œè¯´æ˜Žé‡å¯æˆåŠŸã€‚ å‚è€ƒèµ„æ–™ï¼šJavaç¨‹åºè°ƒç”¨è¿œç¨‹Shellè„šæœ¬]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>shell</tag>
      </tags>
  </entry>
</search>